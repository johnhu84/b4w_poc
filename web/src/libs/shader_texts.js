/**
 * Copyright (C) 2014-2016 Triumph LLC
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
b4w.module["shader_texts"] = function(exports, require) {exports["anchors.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";","}"]}]},exports["anchors.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANCHOR_NUM",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec3","u_position","[","ANCHOR_NUM","]",";","uniform","mat4","u_view_proj_matrix",";","GLSL_IN","float","a_index",";","void","main","(",")","{","gl_Position","=","u_view_proj_matrix","*","vec4","(","u_position","[","int","(","a_index",")","]",",","1.0",")",";","gl_PointSize","=","4.0",";","}"]}]},exports["color_id.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"USE_OUTLINE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","uniform","float","u_alpha_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_color_id",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map0",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map1",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map2",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map3",";","uniform","sampler2D","u_shadow_mask",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_outline_intensity",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";","GLSL_IN","vec4","d",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";","GLSL_IN","vec4","k",";","GLSL_IN","vec4","l",";","GLSL_IN","vec4","m",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","u","=","u_camera_eye_frag","-","c",";","vec3","v","=","normalize","(","u",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","v",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","float","L","=","E",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","(","GLSL_TEXTURE","(","u_sampler",",","n",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","M","=","u_alpha_factor","*","L",";","M","+=","(","1.0","-","step","(","0.0",",","M",")",")",";","L","=","mix","(","M",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","u_outline_intensity",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","u_color_id",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["color_id.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"CALC_TBN",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";","GLSL_OUT","vec4","d",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]}]}}]},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6},{TYPE:"logical_and_expr",PLACES:3},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","normalize","(","U","(","u_model_tsr",",","Q",")",")",";","vec3","W","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","V",")",";","vec3","X","=","cross","(","V",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","P","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","Q","=","mix","(","Q",",","Y",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Z","=","P","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","_","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","Y",",","Z",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";","S","=","mix","(","S",",","_",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","N",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","af",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","Q",",","mat4","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","ao",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","ap","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["c","=","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","am",".","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","am",".","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","am",".","as",";"]}]}}]},{TYPE:"txt",TOKENS:["d","=","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","d",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["at",".","xy","+=","u_subpixel_jitter","*","at",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","h",".","x","=","(","au","+","aw",")","/","2.0",";","h",".","y","=","(","av","+","aw",")","/","2.0",";","h",".","z","=","aw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","d",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","}"]}]},exports["debug_view.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIREFRAME_QUALITY",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE_DYNAMIC",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_debug_view_mode",";","uniform","float","u_cluster_id",";","uniform","float","u_batch_debug_id_color",";","uniform","float","u_batch_debug_main_render_time",";","uniform","float","u_debug_colors_seed",";","uniform","float","u_debug_render_time_threshold",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ax",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","ay","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE_DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","az","=","vec3","(","1.0",",","0.05",",","0.05",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","az","=","vec3","(","0.05",",","0.05",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","aA","=","vec3","(","0.4",",","0.4",",","1.0",")",";","const","vec3","aB","=","vec3","(","1.0",",","0.4",",","0.4",")",";","const","vec3","aC","=","vec3","(","1.0",",","1.0",",","1.0",")",";","const","vec3","aD","=","vec3","(","0.0",",","133.0","/","255.0",",","66.0","/","255.0",")",";","const","vec3","aE","=","vec3","(","160.0","/","255.0",",","38.0","/","255.0",",","33.0","/","255.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aJ","(",")","{","float","aF","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIREFRAME_QUALITY",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","sign","(","ax","-","vec3","(","0.02","*","ay",")",")",";","if","(","aG",".","x","<","0.0","||","aG",".","y","<","0.0","||","aG",".","z","<","0.0",")","aF","=","0.0",";"]}]}},{TYPE:"elif",EXPRESSION:["WIREFRAME_QUALITY",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aH","=","fwidth","(","ax",")",";","vec3","aI","=","smoothstep","(","vec3","(","0.0",")",",","aH","*","ay",",","ax",")",";","aF","=","min","(","min","(","aI",".","x",",","aI",".","y",")",",","aI",".","z",")",";","aF","=","clamp","(","aF",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aF",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","aK","=","vec3","(","0.0",")",";","float","L","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","sign","(","ax","-","vec3","(","0.02","*","ay",")",")",";","if","(","aG",".","x","<","0.0","||","aG",".","y","<","0.0","||","aG",".","z","<","0.0",")","{","aK","=","az",";","L","=","1.0",";","}","else","discard",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_debug_view_mode","==","DV_OPAQUE_WIREFRAME",")","{","float","aF","=","aJ","(",")",";","aK","=","vec3","(","mix","(","u_wireframe_edge_color",",","aC",",","aF",")",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_TRANSPARENT_WIREFRAME",")","{","float","aF","=","aJ","(",")",";","aK","=","u_wireframe_edge_color",";","L","=","mix","(","1.0",",","0.0",",","aF",")",";","}","else","if","(","u_debug_view_mode","==","DV_FRONT_BACK_VIEW",")","{","float","aF","=","aJ","(",")",";","if","(","gl_FrontFacing",")","aK","=","mix","(","u_wireframe_edge_color",",","aA",",","aF",")",";","else","aK","=","mix","(","u_wireframe_edge_color",",","aB",",","aF",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_CLUSTERS_VIEW",")","{","float","aL","=","u_cluster_id","+","u_debug_colors_seed","+","2.0",";","aK","=","vec3","(","fract","(","aL","*","19.73",")",",","fract","(","aL","*","6.34",")",",","fract","(","aL","*","1.56",")",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_BATCHES_VIEW",")","{","float","aL","=","u_batch_debug_id_color","+","u_debug_colors_seed",";","aK","=","vec3","(","fract","(","aL","*","19.73",")",",","fract","(","aL","*","6.34",")",",","fract","(","aL","*","1.56",")",")",";","L","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_RENDER_TIME",")","{","float","aM",";","if","(","u_debug_render_time_threshold",">","0.0",")","aM","=","clamp","(","u_batch_debug_main_render_time",",","0.0",",","u_debug_render_time_threshold",")","/","u_debug_render_time_threshold",";","else","aM","=","1.0",";","float","aN","=","clamp","(","2.0","*","aM",",","0.0",",","1.0",")",";","float","aO","=","clamp","(","2.0","*","aM","-","1.0",",","0.0",",","1.0",")",";","float","aP","=","aM",";","aK","=","mix","(","aD",",","aE",",","vec3","(","aN",",","aO",",","aP",")",")",";","L","=","1.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["debug_view.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_VIEW_SPECIAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";","GLSL_IN","float","a_polyindex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ax",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"include",FILE:"dynamic_grass.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","if","(","a_polyindex","==","0.0",")","ax","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","ax","=","vec3","(","0.0",",","0.0",",","1.0",")",";","else","ax","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_VIEW_SPECIAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aS","(","u_model_tsr",",","T",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";","vec3","Q","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";","ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","a_part_ts",".","xyz",";","O","=","ae","(","T",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","aT","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ad",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","N",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aU","=","af",";","T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aU",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","Q",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["error.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","0.0",",","1.0",",","1.0",")",";","}"]}]},exports["error.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","void","main","(",")","{","gl_Position","=","u_proj_matrix","*","aV","(","u_view_tsr",")","*","vec4","(","a_position",",","1.0",")",";","}"]}]},exports["grass_map.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","aW",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","aW",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aW",",","vec3","(","1.0",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","aW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["grass_map.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_grass_size",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_grass_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","aW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","aW",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","aW",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";","uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","T","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","vec3","(","0.0",")",")",";","mat3","T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","vec3","(","0.0",")",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","=","vec4","(","a_grass_size",",","a_grass_color",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","=","a_grass_size",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","=","a_grass_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["halo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec3","u_halo_rings_color",";","uniform","vec3","u_halo_lines_color",";","uniform","float","u_halo_hardness",";","uniform","float","u_halo_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";","uniform","float","u_cam_water_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aX",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_IN","float","aY",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"halo_color.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","a_","=","aZ","(",")",";","vec3","aK","=","a_",".","rgb",";","float","aG","=","a_",".","a",";","aQ","(","aK",")",";","aR","(","aK",",","aG",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","aG",")",";","}"]}]},exports["halo.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","PRECISION","float","u_halo_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec2","a_halo_bb_vertex",";","GLSL_IN","float","a_random_vals",";","GLSL_OUT","vec2","n",";","GLSL_OUT","float","aY",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","aX",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","T","=","u_model_tsr",";","vec3","O","=","ae","(","T",",","a_position",")",";","n","=","a_halo_bb_vertex","*","2.0","-","1.0",";","aY","=","a_random_vals",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bd","=","bc","(","O",",","N",")",";","mat3","be","=","N",";","be","[","0","]","[","0","]","=","0.0",";","be","[","0","]","[","1","]","=","0.0",";","be","[","0","]","[","2","]","=","0.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bd","=","bc","(","O",",","N",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","bf","=","(","a_halo_bb_vertex","*","2.0","-","1.0",")","*","u_halo_size",";","vec3","bh","=","vec3","(","bf","[","0","]",",","0.0",",","bf","[","1","]",")",";","vec3","bi","=","ae","(","bd",",","bh",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","vec4","(","ae","(","be",",","bi",")",",","1.0",")",";","at",".","z","=","0.99999","*","at",".","w",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","=","vec4","(","bi",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","vec4","(","ae","(","N",",","bi",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["lens_flares.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aK","=","GLSL_TEXTURE","(","u_sampler",",","n",")",";","aQ","(","aK",".","rgb",")",";","aR","(","aK",".","rgb",",","aK",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","aK",";","}"]}]},exports["lens_flares.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"define",NAME:"LIGHT_INDEX",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","GLSL_IN","float","a_lf_dist",";","GLSL_IN","vec2","a_lf_bb_vertex",";","GLSL_IN","vec2","a_texcoord",";","GLSL_OUT","vec2","n",";","void","main","(",")","{","n","=","a_texcoord",";","vec3","bj","=","normalize","(","u_light_directions","[","LIGHT_INDEX","]",")",";","vec4","at","=","u_proj_matrix","*","vec4","(","U","(","u_view_tsr",",","bj",")",",","0.0",")",";","at",".","x","/=","at",".","w",";","at",".","y","/=","at",".","w",";","at","+=","99999.0","*","step","(","at",".","z",",","0.0",")",";","at","+=","100.0","*","(","step","(","1.0",",","abs","(","at",".","x",")",")","+","step","(","1.0",",","abs","(","at",".","y",")",")",")",";","at",".","x","=","a_lf_dist","*","at",".","x",";","at",".","y","=","a_lf_dist","*","at",".","y",";","float","bk","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","bl","=","vec2","(","a_lf_bb_vertex",".","x","/","bk",",","a_lf_bb_vertex",".","y",")",";","if","(","a_lf_dist","<","0.999",")","{","const","float","bm","=","1.9",";","bl","*=","(","1.0","+","bm","*","length","(","at",".","xy",")",")",";","}","gl_Position","=","vec4","(","at",".","xy","+","bl",",","0.999999",",","1.0",")",";","}"]}]},exports["line.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","aK","=","u_diffuse_color",".","xyz",";","float","L","=","u_diffuse_color",".","a",";","aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["line.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_direction",";","uniform","mat3","u_model_tsr",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","float","u_height",";","uniform","float","u_line_width",";","void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","T","=","u_model_tsr",";","ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","normalize","(","a_direction",")",",","T",")",";","vec4","bn","=","u_proj_matrix","*","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","bn",".","xyz","/=","bn",".","w",";","vec2","bo","=","(","u_proj_matrix","*","vec4","(","U","(","N",",","am",".","Q",")",",","0.0",")",")",".","xy",";","float","bp","=","M_PI","/","2.0",";","mat2","bq","=","mat2","(","cos","(","bp",")",",","sin","(","bp",")",",","-","sin","(","bp",")",",","cos","(","bp",")",")",";","bo","=","bq","*","normalize","(","bo",")",";","vec2","bs","=","(","u_line_width","/","u_height",")","*","vec2","(","u_proj_matrix","[","0","]","[","0","]","/","u_proj_matrix","[","1","]","[","1","]",",","1.0",")",";","gl_Position","=","vec4","(","bn",".","xy","+","bo",".","xy","*","bs","/","2.0",",","bn",".","z",",","1.0",")",";","gl_Position","*=","bn",".","w",";","}"]}]},exports["main.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION","REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","d",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bu","=","c",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","u_camera_eye_frag","-","c",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","u",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","vec3","aK","=","A",";","float","L","=","E",";","vec3","Q","=","C",";","vec4","bv","=","D",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","max","(","aK","-","sqrt","(","0.01","*","-","min","(","bu",",","0.0",")",")",",","0.5","*","aK",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bw","(","aK",",","bu",",","u_time",",","bv",",","Q",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","c",",","bt",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","(","aK",",","bt",",","u",",","bu",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","(","aK",",","bt",",","u",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","by","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","h",")",".","a",";","aK","=","vec3","(","by",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aK","=","max","(","vec3","(","0.0",")",",","aK",")",";","aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["main.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","CALC_TBN","TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:10}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bA",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bB","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bB","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aS","(","u_model_tsr",",","T",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bC","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","bC",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"elif",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bD","=","ae","(","T",",","O",")",";","vec3","V","=","normalize","(","U","(","T",",","bC",")",")",";","vec3","u","=","bD","-","u_camera_eye",";","vec3","S","=","cross","(","u",",","V",")",";","vec3","R","=","cross","(","V",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","normalize","(","U","(","T",",","bC",")",")",";","vec3","W","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","V",")",";","vec3","X","=","cross","(","V",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bE","=","P","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","mix","(","Q",",","bE",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Z","=","P","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","_","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","bE",",","Z",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";","S","=","mix","(","S",",","_",",","u_va_frame_factor",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","a_part_ts",".","xyz",";","O","=","ae","(","T",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","aT","(","O",",","R",",","X",",","S",",","Q",",","ad",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","(","bB","*","vec4","(","O",",","1.0",")",")",".","xyz",";","ad","=","(","bB","*","vec4","(","ad",",","1.0",")",")",".","xyz",";","af","=","(","bB","*","vec4","(","af",",","1.0",")",")",".","xyz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","N",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","N",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aU","=","af",";","T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aU",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","R",",","X",",","S",",","Q",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","R",",","X",",","S",",","Q",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","am",".","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","am",".","as",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","Q",",","bB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["c","=","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","am",".","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bz","=","u_camera_eye","-","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","ap","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bA","=","am",".","aK",";"]}]}},{TYPE:"elif",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bA","=","a_color",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bF","=","bB","*","vec4","(","am",".","O",",","1.0",")",";","bF",".","xyz","=","ae","(","N",",","bF",".","xyz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bF","=","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d","=","bF",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","at","=","u_proj_matrix","*","bF",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["at",".","xy","+=","u_subpixel_jitter","*","at",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","bG","(","at",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","(","am",".","O",",","am",".","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","bF",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["main_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_SPEC_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR0_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_COLOR1_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_AS_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"INVERT_FRONTFACING",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX_LOD_DIST",TOKENS:["5.0"]},{TYPE:"var",NAME:"PARALLAX_STEPS",TOKENS:["5.0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC","ALPHA_AS_SPEC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_specmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap1",";","uniform","sampler2D","u_stencil0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","float","u_specular_alpha",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_specular_color_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_parallax_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";","GLSL_IN","vec3","e",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"lighting_nodes.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","d",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bu","=","c",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bI","=","n",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","bJ","=","normalize","(","e",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bJ","=","bJ",";","else","bJ","=","-","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","S","=","cross","(","bJ",",","f",".","xyz",")","*","f",".","w",";","S","=","normalize","(","S",")",";","vec3","R","=","cross","(","S",",","bJ",")","*","f",".","w",";","mat3","bK","=","mat3","(","R",",","S",",","bJ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bL","=","normalize","(","U","(","N",",","e",")",")",".","st",";","bL","=","bL","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bt","<","PARALLAX_LOD_DIST",")","{","float","bM","=","clamp","(","0.5","*","(","PARALLAX_LOD_DIST","-","bt",")",",","0.0",",","1.0",")",";","float","bN","=","u_parallax_scale","*","bM",";","vec3","bO","=","normalize","(","bz","*","bK",")",";","float","bP","=","1.0","/","PARALLAX_STEPS",";","vec2","bQ","=","bO",".","xy","*","bN","/","(","PARALLAX_STEPS","*","bO",".","z",")",";","float","bR","=","1.0",";","float","bS",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bT","=","bL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bT","=","bI",";"]}]}}]},{TYPE:"txt",TOKENS:["bS","=","GLSL_TEXTURE","(","u_normalmap0",",","bT",")",".","a",";","for","(","float","bU","=","1.0",";","bU","<=","PARALLAX_STEPS",";","bU","++",")","{","if","(","bS","<","bR",")","{","bR","-=","bP",";","bT","-=","bQ",";","bS","=","GLSL_TEXTURE","(","u_normalmap0",",","bT",")",".","a",";","}","}","vec2","bV","=","bT","+","bQ",";","float","bW","=","GLSL_TEXTURE","(","u_normalmap0",",","bV",")",".","a","-","(","bR","+","bP",")",";","float","bX","=","bS","-","bR",";","float","bY","=","bX","/","(","bX","-","bW",")",";","bT","=","bY","*","bV","+","(","1.0","-","bY",")","*","bT",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bI","+=","bT","-","bL",";"]}]}}]},{TYPE:"txt",TOKENS:["bL","=","bT",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bL","+=","bT","-","bI",";"]}]}}]},{TYPE:"txt",TOKENS:["bI","=","bT",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ","=","GLSL_TEXTURE","(","u_normalmap0",",","bL",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ","=","GLSL_TEXTURE","(","u_normalmap0",",","bI",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","b_","=","bZ",".","rgb","-","0.5",";","b_","=","mix","(","vec3","(","0.0",",","0.0",",","1.0",")",",","b_",",","u_normal_factor",")",";","vec3","Q","=","bK","*","b_",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","bJ",";"]}]}}]},{TYPE:"txt",TOKENS:["Q","=","normalize","(","Q",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bL","=","normalize","(","U","(","N",",","Q",")",")",".","st",";","bL","=","bL","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","bz",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ca","=","bA",";","cb","(","ca",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","vec4","(","ca",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","u_diffuse_color",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cd","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ce","=","GLSL_TEXTURE","(","u_colormap0",",","bL",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ce","=","GLSL_TEXTURE","(","u_colormap0",",","bI",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cb","(","ce",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cf",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR1_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cf","=","GLSL_TEXTURE","(","u_colormap1",",","bL",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cf","=","GLSL_TEXTURE","(","u_colormap1",",","bI",")",";"]}]}}]},{TYPE:"txt",TOKENS:["cb","(","cf",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cg","=","GLSL_TEXTURE","(","u_stencil0",",","bL",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cg","=","GLSL_TEXTURE","(","u_stencil0",",","bI",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ce","=","mix","(","ce",",","cf",",","cg",".","r",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cc",".","rgb","=","mix","(","cc",".","rgb",",","ce",".","rgb",",","u_diffuse_color_factor",")",";","float","M","=","u_alpha_factor","*","ce",".","a",";","M","+=","(","1.0","-","step","(","0.0",",","M",")",")",";","cc",".","a","=","mix","(","M",",","1.0",",","u_diffuse_color",".","a",")",";","cd","=","ce",".","a",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cc",".","rgb","*=","mix","(","vec3","(","1.0",")",",","ce",".","rgb",",","u_diffuse_color_factor",")",";","cc",".","a","=","ce",".","a",";","cd","=","ce",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aK","=","cc",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ch","=","u_diffuse_intensity","*","cc",".","rgb",";","vec3","cj","=","u_environment_energy","*","ci","(","Q",")",";","vec3","ck","=","u_ambient","*","cj",";","vec4","bv","=","cl","(","ch",")",";","vec3","cm","=","u_emit","*","cc",".","rgb",";","vec3","cn","=","u_specular_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_AS_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","co","=","vec3","(","cd",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_SPEC_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","co","=","GLSL_TEXTURE","(","u_specmap0",",","bL",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","co","=","GLSL_TEXTURE","(","u_specmap0",",","bI",")",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["cb","(","co",".","rgb",")",";","cn","=","mix","(","cn",",","co",",","u_specular_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cp","=","u_specular_params","[","0","]",";","vec2","cq","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cr","=","cp","*","cn",";","vec3","aK",";","vec3","cs",";","ct","(","cm",",","ck",",","ch",",","cr",",","c",",","Q",",","u",",","cq",",","u_diffuse_params",",","bv",",","0.0",",","vec4","(","0.0",")",",","aK",",","cs",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cu","(","aK",",","u",",","Q",",","u_reflect_factor",",","N",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cu","(","aK",",","u",",","Q",",","u_reflect_factor",",","mat3","(","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cu","(","aK",",","u",",","Q",",","u_mirror_factor",",","mat3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","+=","cs",";"]}]}}]},{TYPE:"txt",TOKENS:["float","L","=","cc",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","max","(","aK","-","sqrt","(","0.01","*","-","min","(","bu",",","0.0",")",")",",","0.5","*","aK",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bw","(","aK",",","bu",",","u_time",",","bv",",","Q",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","c",",","bt",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","cs",".","r",",","cs",".","g",")",",","cs",".","b",")","*","u_specular_alpha",";","L","=","cc",".","a","*","(","1.0","-","t",")","+","t",";"]}]}}]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cv","=","-","(","U","(","N",",","Q",")",")",".","xy",";","aK","=","mix","(","cw","(","h",",","cv","*","u_refr_bump",")",",","aK",",","L",")",";","L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","(","aK",",","bt",",","u",",","bu",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","(","aK",",","bt",",","u",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","by","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","h",")",".","a",";","aK","=","vec3","(","by",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["particle_system.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","float","u_time",";","uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"particles_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","u","=","normalize","(","u_camera_eye_frag","-","c",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","u",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","vec3","aK","=","A",";","float","L","=","E",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","(","aK",",","length","(","d",")",",","u",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cx","=","-","d",".","z","/","u_view_max_depth",";","vec4","cy","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","h",")",";","float","cA","=","cz","(","cy",")",";","float","cB","=","cA","-","cx",";","float","cC","=","u_view_max_depth","/","SOFT_STRENGTH","*","cB",";","L","=","L","*","min","(","cC",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["particle_system.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";","GLSL_IN","vec3","a_p_data",";","GLSL_IN","vec4","a_p_vels",";","GLSL_IN","vec2","a_p_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","cD",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","aY",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_p_color_ramp","[","COLOR_RAMP_LENGTH","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_time",";","uniform","float","u_p_length",";","uniform","int","u_p_cyclic",";","uniform","float","u_p_fade_in",";","uniform","float","u_p_fade_out",";","uniform","float","u_p_nfactor",";","uniform","float","u_p_gravity",";","uniform","float","u_p_mass",";","uniform","float","u_p_wind_fac",";","uniform","float","u_p_max_lifetime",";","uniform","float","u_p_tilt",";","uniform","float","u_p_tilt_rand",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_wind",";","uniform","float","u_p_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE",{TYPE:"logic_negative_expr",PLACES:1},"NODES","HALO_PARTICLES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_ramp_tex",";"]}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"particles.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"particles_nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["float","cG","(","vec2","cE",",","vec2","cF",")","{","return","(","atan","(","cF",".","y",",","cF",".","x",")","-","atan","(","cE",".","y",",","cE",".","x",")",")",";","}","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bB","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bB","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";","cH","pp",";","pp","=","cI","(",")",";","float","cJ",";","mat3","bd","=","cK","(",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cL","=","(","bB","*","vec4","(","pp",".","O",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cL","=","pp",".","O",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Q","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_VIEW",")","{","cJ","=","pp",".","bp",";","bd","=","bc","(","cL",",","N",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_XY",")","{","cJ","=","cG","(","vec2","(","EPSILON",",","1.0",")",",","vec2","(","Q",".","x",",","-","Q",".","y",")",")","+","pp",".","bp",";","bd","[","0","]","=","cL",";","vec4","cN","=","cM","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";","bd","=","cO","(","cN",",","bd",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_YZ",")","{","cJ","=","pp",".","bp",";","bd","[","0","]","=","cL",";","vec4","cP","=","cM","(","UP_VECTOR",",","M_PI","/","2.0",")",";","bd","=","cO","(","cP",",","bd",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_ZX",")","{","cJ","=","pp",".","bp",";","bd","[","0","]","=","cL",";","}","vec3","bh","=","vec3","(","(","a_p_bb_vertex","[","0","]","*","2.0","-","1.0",")","*","pp",".","cQ","*","u_p_size",",","0.0",",","(","a_p_bb_vertex","[","1","]","*","2.0","-","1.0",")","*","pp",".","cQ","*","u_p_size",")",";","float","cR","=","a_p_data","[","2","]",";","float","cS","=","u_p_tilt","*","u_p_tilt_rand","*","(","2.0","*","cR","-","1.0",")",";","float","cT","=","(","cS","+","u_p_tilt",")","*","M_PI",";","vec4","cU","=","cM","(","TOWARD_VECTOR",",","cT","+","cJ",")",";","vec3","bi","=","ae","(","bd",",","P","(","cU",",","bh",")",")",";","vec4","bF","=","vec4","(","ae","(","N",",","bi",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","bF",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aY","=","cR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},"USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cV","=","cK","(",")",";","cU","=","cM","(","TOWARD_VECTOR",",","cJ",")",";","cV","=","cO","(","cU",",","cV",")",";","ak","am","=","al","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","R",",","vec3","(","0.0",")",",","S",",","vec3","(","0.0",")",",","aS","(","bd",",","cV",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","Q",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","pp",".","O",",","pp",".","cW",",","pp",".","cX",",","pp",".","cY",",","pp",".","cQ",",","a_p_bb_vertex",",","a_p_data","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_p_bb_vertex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_p_bb_vertex","*","2.0","-","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cD","=","pp",".","L",";"]}]}}]},{TYPE:"txt",TOKENS:["bA","=","pp",".","aK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","h",".","x","=","(","au","+","aw",")","/","2.0",";","h",".","y","=","(","av","+","aw",")","/","2.0",";","h",".","z","=","aw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d","=","bF",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","c","=","bi",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bz","=","u_camera_eye","-","bi",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["particle_system_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_size",";","uniform","vec3","u_halo_rings_color",";","uniform","float","u_halo_hardness",";","uniform","vec3","u_halo_lines_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_alpha_start",";","uniform","float","u_p_alpha_end",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","cD",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","aY",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aX",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"halo_color.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","bz",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","a_","=","aZ","(",")",";","vec3","aK","=","a_",".","rgb","*","bA",";","float","cZ","=","0.9","*","length","(","n",")",";","float","c_","=","smoothstep","(","u_p_alpha_start",",","u_p_alpha_end",",","cZ",")",";","float","L","=","a_",".","a","*","(","1.0","-","c_",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ce","=","GLSL_TEXTURE","(","u_sampler",",","n",")",";","cb","(","ce",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cc",".","rgb","=","mix","(","cc",".","rgb",",","ce",".","rgb",",","u_diffuse_color_factor",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cc",".","rgb","*=","mix","(","vec3","(","1.0",")",",","ce",".","rgb",",","u_diffuse_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["cc",".","a","=","ce",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["cc",".","rgb","*=","bA",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ch","=","u_diffuse_intensity","*","cc",".","rgb",";","vec3","cm","=","u_emit","*","cc",".","rgb",";","vec3","Q","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logic_negative_expr",PLACES:1},"SKY_COLOR",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cj","=","u_environment_energy","*","ci","(","vec3","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cj","=","u_environment_energy","*","ci","(","Q",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","ck","=","u_ambient","*","cj",";","float","cp","=","u_specular_params","[","0","]",";","vec2","cq","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cr","=","cp","*","u_specular_color",";","vec3","aK",";","vec3","cs",";","ct","(","cm",",","ck",",","ch",",","cr",",","c",",","Q",",","u",",","cq",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aK",",","cs",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aK","=","cc",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["float","L","=","cc",".","a","*","cD",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";","L","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","(","aK",",","length","(","d",")",",","u",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cx","=","-","d",".","z","/","u_view_max_depth",";","vec4","cy","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","h",")",";","float","cA","=","cz","(","cy",")",";","float","cB","=","cA","-","cx",";","float","cC","=","u_view_max_depth","/","SOFT_STRENGTH","*","cB",";","L","=","L","*","min","(","cC",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["proc_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec3","u_sky_color",";","uniform","vec3","u_sun_direction",";","uniform","float","u_rayleigh_brightness",";","uniform","float","u_mie_brightness",";","uniform","float","u_spot_brightness",";","uniform","float","u_scatter_strength",";","uniform","float","u_rayleigh_strength",";","uniform","float","u_mie_strength",";","uniform","float","u_rayleigh_collection_power",";","uniform","float","u_mie_collection_power",";","uniform","float","u_mie_distribution",";","GLSL_IN","vec3","da",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","db","=","0.99",";","const","float","dc","=","1.8",";","const","int","dd","=","8",";","float","di","(","vec3","O",",","vec3","bj",")","{","float","a","=","dot","(","bj",",","bj",")",";","float","b","=","2.0","*","dot","(","bj",",","O",")",";","float","de","=","dot","(","O",",","O",")","-","1.0",";","float","df","=","b","*","b","-","4.0","*","a","*","de",";","float","dg","=","sqrt","(","df",")",";","float","q","=","(","-","b","-","dg",")","/","2.0",";","float","dh","=","de","/","q",";","return","dh",";","}","float","dk","(","float","L",",","float","g",")","{","float","a","=","3.0","*","(","1.0","-","g","*","g",")",";","float","b","=","2.0","*","(","2.0","+","g","*","g",")",";","float","de","=","1.0","+","L","*","L",";","float","dj","=","pow","(","1.0","+","g","*","g","-","2.0","*","g","*","L",",","1.5",")",";","dj","=","max","(","dj",",","0.00001",")",";","return","(","a","/","b",")","*","(","de","/","dj",")",";","}","float","dq","(","vec3","O",",","vec3","bj",",","float","dl",")","{","float","dm","=","dot","(","bj",",","-","O",")",";","if","(","dm","<","0.0",")","{","return","1.0",";","}","vec3","dn","=","O","+","dm","*","bj",";","if","(","length","(","dn",")","<","dl",")","{","return","0.0",";","}","else","if","(","length","(","dn",")",">=","dl",")","{","vec3","cF","=","normalize","(","dn",")","*","dl","-","O",";","float","dp","=","acos","(","dot","(","normalize","(","cF",")",",","bj",")",")",";","return","smoothstep","(","0.0",",","1.0",",","pow","(","dp","*","2.0",",","3.0",")",")",";","}","else","return","1.0",";","}","vec3","dr","(","float","aG",",","vec3","aK",",","float","aF",")","{","return","aK","-","aK","*","pow","(","u_sky_color",",","vec3","(","aF","/","aG",")",")",";","}","void","main","(",")","{","vec3","ds","=","normalize","(","da",")",";","vec3","dt","=","u_sun_direction",";","float","L","=","dot","(","ds",",","dt",")",";","float","du","=","dk","(","L",",","-","0.01",")","*","u_rayleigh_brightness","*","dt",".","z",";","float","dv","=","dk","(","L","-","0.5",",","u_mie_distribution",")","*","u_mie_brightness","*","(","1.0","-","dt",".","z",")",";","float","dw","=","smoothstep","(","0.0",",","100.0",",","dk","(","L",",","0.9995",")",")","*","u_spot_brightness",";","vec3","dx","=","vec3","(","0.0",",","0.0",",","db",")",";","float","dy","=","di","(","dx",",","ds",")",";","float","dz","=","dy","/","float","(","dd",")",";","float","dA","=","dq","(","dx",",","ds",",","db","-","0.3",")",";","vec3","dB","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","dC","=","vec3","(","0.0",",","0.0",",","0.0",")",";","for","(","int","bU","=","0",";","bU","<","dd",";","bU","++",")","{","float","dD","=","dz","*","float","(","bU",")",";","vec3","O","=","dx","+","ds","*","dD",";","float","dE","=","dq","(","O",",","dt",",","db","-","0.2",")",";","float","dF","=","di","(","O",",","dt",")",";","vec3","dG","=","dr","(","dF",",","vec3","(","dc",")",",","u_scatter_strength",")","*","dE",";","dB","+=","dr","(","sqrt","(","dD",")",",","u_sky_color","*","dG",",","u_rayleigh_strength",")",";","dC","+=","dr","(","dD",",","dG",",","u_mie_strength",")",";","}","dB","=","dB","*","dA","*","pow","(","dy",",","u_rayleigh_collection_power",")","/","float","(","dd",")",";","dC","=","(","dC","*","dA","*","pow","(","dy",",","u_mie_collection_power",")",")","/","float","(","dd",")",";","vec3","aK","=","vec3","(","dw","*","dC","+","dv","*","dC","+","du","*","dB",")",";","aQ","(","aK",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","1.0",")",";","}"]}]},exports["shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_MATRIX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","f",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","u","=","u_camera_eye_frag","-","c",";","vec3","v","=","normalize","(","u",")",";","vec3","A",";","vec3","B",";","vec3","C",";","vec4","D",";","float","E",";","mat3","F","=","mat3","(","0.0",")",";","mat3","G","=","mat3","(","0.0",")",";","mat3","H","=","mat3","(","0.0",")",";","mat3","I","=","mat3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW","USE_VIEW_MATRIX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["F","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["G","=","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["H","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","=","u_model_tsr_inverse",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(","v",",","F",",","G",",","H",",","I",",","A",",","B",",","C",",","D",",","E",")",";","float","L","=","E",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","(","GLSL_TEXTURE","(","u_colormap0",",","n",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","M","=","u_alpha_factor","*","L",";","M","+=","(","1.0","-","step","(","0.0",",","M",")",")",";","L","=","mix","(","M",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","L","<","0.5",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","NO_SHADOWS",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","dH","(","d",".","z",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR",".","a","*=","clamp","(","f",".","r",",","0.999999999",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"HAIR_BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","f",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","d",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_shadow_cast_billboard_view_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bC","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","vec3","Q","=","bC",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","S","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","Q",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","vec3","(","0.0",")",";","vec3","S","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","P","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","Q","=","mix","(","Q",",","Y",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Z","=","P","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","_","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","Y",",","Z",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";","S","=","mix","(","S",",","_",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ac","(","O",",","R",",","S",",","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aS","(","u_model_tsr",",","T",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","T","=","u_model_tsr",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","a_part_ts",".","xyz",";","O","=","ae","(","T",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ad","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","normalize","(","U","(","T",",","bC",")",")",";","vec3","W","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","V",")",";","vec3","X","=","cross","(","V",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","aT","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Q",",","ad",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","af","=","ae","(","T",",","ad",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HAIR_BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dI","=","u_shadow_cast_billboard_view_tsr",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dI","=","N",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ah","(","u_camera_eye",",","af",",","dI",",","T",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","ai","(","u_camera_eye",",","af",",","dI",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T","=","aj","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","af",",","T",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","O","-","ad",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","Q",",","T",")",";","am",".","ad","=","af",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ak","am","=","al","(","O",",","ad",",","vec3","(","0.0",")",",","X",",","vec3","(","0.0",")",",","Q",",","T",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","bC",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["an","(","am",".","O",",","am",".","ad",",","ao",",","mat4","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["c","=","am",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","=","am",".","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aq","=","(","dot","(","cross","(","am",".","Q",",","am",".","R",")",",","am",".","S",")","<","0.0",")","?","-","1.0",":","1.0",";","f","=","vec4","(","am",".","R",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","am",".","as",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","bF","=","vec4","(","ae","(","N",",","am",".","O",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","bF",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["at",".","xy","+=","u_subpixel_jitter","*","at",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","bG","(","at",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","bF",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["J","(",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","ap","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","(","am",".","O",",","am",".","Q",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d","=","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dJ","=","(","u_proj_matrix","*","vec4","(","N","[","0","]",",","1.0",")",")",".","xy",";","float","dK","=","SHADOW_TEX_RES","/","2.0",";","dJ","=","floor","(","dJ","*","dK","+","0.5",")","/","dK","-","dJ",";","at",".","xy","+=","dJ",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["sky.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";","uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER","WO_SKYTEX",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"sky_blending.glslf"}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","da",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","dL",";","vec3","ds","=","normalize","(","da",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dM","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dM","=","abs","(","n",".","y",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dM","=","(","n",".","y","+","1.0",")","*","0.5",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","dN","=","u_horizon_color",";","vec3","dO","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dP","=","vec3","(","n",",","0.0",")",";","vec4","dQ","=","GLSL_TEXTURE_CUBE","(","u_sky",",","ds",")",";","cb","(","dQ",".","rgb",")",";","dL","=","dR","(","dN",",","dO",",","dQ",",","dM",",","dP",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dL","=","mix","(","dN",",","dO",",","dM",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dL","=","GLSL_TEXTURE_CUBE","(","u_sky",",","ds",")",".","rgb",";","cb","(","dL",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dS","=","WATER_LEVEL","-","u_camera_eye_frag",".","z",";","vec3","dT","=","vec3","(","0.0",")",";","vec3","dU","=","mix","(","u_underwater_fog_color_density",".","rgb",",","dT",",","min","(","-","ds",".","z",",","1.0",")",")",";","dU","*=","min","(","1.0","-","min","(","0.03","*","dS",",","0.8",")",",","1.0",")",";","float","aF","=","clamp","(","sign","(","0.01","*","dS","-","ds",".","z",")",",","0.0",",","1.0",")",";","dL","=","mix","(","dL",",","dU",",","aF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","dL",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","dL",",","1.0",")",";","}"]}]},exports["sky.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_sky_vp_inverse",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","da",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","O","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";","vec4","ds","=","u_sky_vp_inverse","*","O",";","da","=","ds",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","O",";","}"]}]},exports["skybox.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_view_matrix",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","da",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","O","=","vec4","(","a_position",".","xy",",","0.999999",",","1.0",")",";","vec4","ds","=","u_cube_view_matrix","*","O",";","da","=","ds",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","O",";","}"]}]},exports["tex_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","GLSL_IN","vec3","da",";","GLSL_IN","vec2","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"sky_blending.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","ds","=","normalize","(","da",")",";","vec3","dL",";","float","dM","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dL","=","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","ds",")",".","xyz",";","cb","(","dL",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dL","=","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","acos","(","ds",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dM","=","abs","(","L","*","INV_PI","-","0.5",")","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dM","=","1.0","-","L","*","INV_PI",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","dN","=","u_horizon_color",";","vec3","dO","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","dQ","=","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","ds",")",";","cb","(","dQ",".","rgb",")",";","vec3","dP","=","vec3","(","da",".","xy",",","0.0",")",";","dL","=","dR","(","dN",",","dO",",","dQ",",","dM",",","dP",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dL","=","mix","(","dN",",","dO",",","dM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dL","=","dN",";"]}]}}]}]}}]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","dL",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","dL",",","1.0",")",";","}"]}]},exports["water.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM0",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM1",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM2",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM3",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"ABSORB",TOKENS:["6.0"]},{TYPE:"var",NAME:"SSS_STRENGTH",TOKENS:["1.0"]},{TYPE:"var",NAME:"SSS_WIDTH",TOKENS:["0.45"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.001"]},{TYPE:"define",NAME:"REFR_BUMP",TOKENS:["0.0005"]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHORE_SMOOTHING","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_foam",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";","uniform","vec3","u_shallow_water_col",";","uniform","vec3","u_shore_water_col",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_norm_uv_velocity",";","uniform","vec2","u_normalmap0_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap1_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap2_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap3_scale",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_shallow_col_fac",";","uniform","float","u_water_shore_col_fac",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_foam_factor",";","uniform","vec2","u_foam_uv_freq",";","uniform","vec2","u_foam_mag",";","uniform","vec2","u_foam_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","ay","=","1.0",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bz",";","GLSL_IN","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","f",";","GLSL_IN","vec3","dV",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","dW",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","dX",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ax",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","o",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","SHORE_SMOOTHING","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["vec3","eh","(","in","vec2","dY",",","in","vec3","Q",",","in","vec3","u",",","in","vec3","dZ",",","out","float","d_",")","{","d_","=","0.0",";","vec3","ea","=","reflect","(","-","u",",","Q",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eb","=","dY",".","xy","+","Q",".","xy","*","REFL_BUMP","/","i",";","d_","=","u_reflect_factor",";","vec3","ec",";","if","(","u_cam_water_depth","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","u_underwater_fog_color_density",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","{","ec","=","GLSL_TEXTURE","(","u_plane_reflection",",","eb",")",".","rgb",";","cb","(","ec",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d_","=","u_mirror_factor",";","vec3","ec","=","dZ","*","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","ea",")",".","rgb",";","cb","(","ec",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d_","=","u_reflect_factor",";","vec3","ec","=","dZ","*","vec3","(","0.3",",","0.5",",","1.0",")",";","cb","(","ec",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","ed","=","normalize","(","ea","+","u",")",";","float","ee","=","1.0","-","dot","(","u",",","ed",")",";","float","ef","=","u_fresnel_params","[","3","]",";","float","eg","=","u_fresnel_params","[","2","]",";","float","r","=","ef","+","(","1.0","-","ef",")","*","pow","(","ee",",","eg",")",";","d_","=","min","(","d_","*","r",",","1.0",")",";","return","ec",";","}"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bK","=","mat3","(","f",",","dV",",","e",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","normalize","(","e",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","UP_VECTOR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","FOAM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bu","=","c",".","z","-","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bu","=","c",".","z",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bI","=","vec2","(","dW",".","x",",","-","dW",".","y",")","+","0.5",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bI","=","vec2","(","c",".","x",",","-","c",".","y",")","+","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bI","=","n",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ei","=","vec3","(","0.0",")",";","vec3","ej","=","GLSL_TEXTURE","(","u_normalmap0",",","bI","*","u_normalmap0_scale","+","vec2","(","0.3",",","0.5",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ei","+=","ej",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","vec3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM0"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ek","+=","ej",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ej","=","GLSL_TEXTURE","(","u_normalmap0",",","bI","*","u_normalmap1_scale","+","vec2","(","-","0.3",",","0.7",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ei","+=","ej",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ek","+=","ej",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ej","=","GLSL_TEXTURE","(","u_normalmap0",",","bI","*","u_normalmap2_scale","+","vec2","(","0.0",",","1.1",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ei","+=","ej",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ek","+=","ej",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ej","=","GLSL_TEXTURE","(","u_normalmap0",",","bI","*","u_normalmap3_scale","+","vec2","(","-","0.66",",","-","0.3",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ei","+=","ej",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ek","+=","ej",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","el","=","bK","*","ek",";","if","(","!","em","(","el",",","vec3","(","0.0",")",")",")","el","=","normalize","(","el",")",";","vec3","en","=","mix","(","Q",",","el",",","0.2",")",";","en","=","normalize","(","en",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","mix","(","Q",",","normalize","(","bK","*","ei",")",",","0.3",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","mix","(","Q",",","normalize","(","bK","*","ei",")",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Q","=","normalize","(","Q",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","u","=","normalize","(","bz",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dY","=","h",".","xy","/","h",".","z",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eo","=","dY","+","Q",".","xy","*","u_refr_bump","/","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";","vec4","cy","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","h",")",";","float","cA","=","cz","(","cy",")",";","float","cB","=","max","(","cA","-","i",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eq","=","ep","(","cA",",","eo",",","dY",")",";","float","er","=","max","(","eq","-","i",",","0.0",")",";","float","es","=","u_view_max_depth","/","ABSORB","*","er",";","float","et","=","min","(","L","*","es",",","1.0",")",";","L","=","min","(","15.0","*","L","*","u_view_max_depth","*","cB",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cC","=","u_view_max_depth","/","ABSORB","*","cB",";","if","(","u_cam_water_depth",">","0.0",")","L","=","min","(","L","*","cC",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","et","=","L",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","et","=","0.0",";","vec3","eu","=","GLSL_TEXTURE","(","u_refractmap",",","eo",")",".","rgb",";","cb","(","eu",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ev","=","pow","(","min","(","dX",".","b","/","u_water_shallow_col_fac",",","1.0",")",",","0.3",")",";","vec3","cc","=","mix","(","u_shallow_water_col",",","u_diffuse_color",".","rgb",",","ev",")",";","ev","=","pow","(","min","(","dX",".","b","/","u_water_shore_col_fac",",","1.0",")",",","0.3",")",";","cc","=","mix","(","u_shore_water_col",",","cc",",","ev",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cc","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ew","=","max","(","1.0","-","u_view_max_depth","*","cB",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ew","=","1.0","-","L",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ex","=","max","(","bu","/","WAVES_HEIGHT","+","0.1",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ey","=","normalize","(","vec3","(","dX",".","rg",",","0.0",")",")",";","vec3","ez","=","normalize","(","mix","(","UP_VECTOR",",","ey",",","0.8",")",")",";","float","eA","=","1.25","*","max","(","dot","(","en",",","ez",")","-","0.2",",","0.0",")",";","eA","+=","max","(","dot","(","en",",","-","UP_VECTOR",")",",","0.0",")",";","ew","+=","eA","*","(","1.0","-","dX",".","b",")",";","ex","*=","(","1.0","-","0.95","*","pow","(","dX",".","b",",","0.1",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ew","+=","ex",";","ew","=","min","(","u_foam_factor","*","ew",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","eB","=","GLSL_TEXTURE","(","u_foam",",","u_foam_mag","*","sin","(","u_foam_uv_freq","*","u_time",")","+","bI","*","u_foam_scale",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cp","=","u_specular_params","[","0","]",";","vec2","cq","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cr","=","cp","*","u_specular_color",";","vec3","cj","=","u_environment_energy","*","ci","(","Q",")",";","vec3","ck","=","u_ambient","*","cj",";","vec3","dZ","=","ck","+","u_sun_intensity",";","float","d_",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ec","=","eh","(","dY",",","Q",",","u",",","dZ",",","d_",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ec","=","eh","(","vec2","(","0.0",")",",","Q",",","u",",","dZ",",","d_",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","ch","=","u_diffuse_intensity","*","cc",";","vec3","aK",";","vec3","cs",";","ct","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ch",",","cr",",","c",",","Q",",","u",",","cq",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aK",",","cs",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eC","=","max","(","dot","(","u_sun_direction",",","-","e",")","+","SSS_WIDTH",",","0.0",")","*","max","(","dot","(","-","u",",","u_sun_direction",")","-","0.5",",","0.0",")","*","max","(","0.0",",","length","(","u_sun_intensity",")","-","0.1",")",";","eC","=","clamp","(","SSS_STRENGTH","*","eC",",","0.0",",","1.0",")",";","aK","=","mix","(","aK",",","u_shallow_water_col",",","eC",")",";","aK","=","mix","(","aK",",","u_shore_water_col",",","eC",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","mix","(","eu",",","aK",",","et",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aK","=","mix","(","aK",",","ec",",","d_",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eD","=","mix","(","eB",".","g",",","eB",".","r",",","max","(","4.0","*","(","ew","-","0.75",")",",","0.0",")",")",";","eD","=","mix","(","eB",".","b",",","eD",",","max","(","2.0","*","ew","-","1.0",",","0.0",")",")",";","eD","=","mix","(","0.0",",","eD",",","ew",")",";","aK","=","mix","(","aK",",","dZ",",","eD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aK","+=","cs",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eE","=","i","*","u_view_max_depth",";","float","eF","=","1.0",";","if","(","u_cam_water_depth",">","1.0",")","eF","=","2.0",";","bx","(","aK",",","eE",",","u",",","eF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","(","aK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","max","(","L",",","cs",".","r",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","+=","eD",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["SHORE_SMOOTHING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["L","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aR","(","aK",",","L",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aH","=","fwidth","(","ax",")",";","vec3","aI","=","smoothstep","(","vec3","(","0.0",")",",","aH","*","ay",",","ax",")",";","float","eG","=","min","(","min","(","aI",".","x",",","aI",".","y",")",",","aI",".","z",")",";","eG","=","clamp","(","eG",",","0.0",",","1.0",")",";","aK","=","mix","(","u_wireframe_edge_color",",","aK",",","eG",")",";","L","=","mix","(","1.0",",","L",",","eG",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DEBUG_WIREFRAME",2,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","sign","(","ax","-","vec3","(","0.02","*","ay",")",")",";","float","eG","=","1.0",";","if","(","aG",".","x","<","0.0","||","aG",".","y","<","0.0","||","aG",".","z","<","0.0",")","eG","=","0.0",";","aK","=","mix","(","u_wireframe_edge_color",",","aK",",","eG",")",";","L","=","mix","(","1.0",",","L",",","eG",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","L",")",";","}"]}]},exports["water.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_SHORE_DIST",TOKENS:["100.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_X",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_Y",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_X",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_Y",TOKENS:["0.0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_0",TOKENS:["0.05"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_1",TOKENS:["0.03"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_0",TOKENS:["1.3"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_1",TOKENS:["1.0"]},{TYPE:"var",NAME:"DIR_MIN_SHR_FAC",TOKENS:["0.4"]},{TYPE:"var",NAME:"DIR_FREQ",TOKENS:["0.5"]},{TYPE:"var",NAME:"DIR_NOISE_SCALE",TOKENS:["0.05"]},{TYPE:"var",NAME:"DIR_NOISE_FREQ",TOKENS:["0.07"]},{TYPE:"var",NAME:"DIR_MIN_NOISE_FAC",TOKENS:["0.5"]},{TYPE:"var",NAME:"DST_MIN_FAC",TOKENS:["0.2"]},{TYPE:"var",NAME:"WAVES_HOR_FAC",TOKENS:["5.0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WAVES_LENGTH",TOKENS:["10.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_polyindex",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bz",";","GLSL_OUT","vec3","c",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","f",";","GLSL_OUT","vec3","dV",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","e",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","dW",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","dX",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ax",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_time",";","uniform","vec3","u_wind",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shore_dist_map",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eN","(","in","vec2","eH",")","{","vec2","eI","=","0.5","+","vec2","(","(","eH",".","x","-","SHORE_MAP_CENTER_X",")","/","SHORE_MAP_SIZE_X",",","(","eH",".","y","-","SHORE_MAP_CENTER_Y",")","/","SHORE_MAP_SIZE_Y",")",";","vec4","eJ","=","GLSL_TEXTURE","(","u_shore_dist_map",",","eI",")",";","const","vec2","eK","=","vec2","(","1.0","/","255.0",",","1.0",")",";","float","eL","=","dot","(","eJ",".","ba",",","eK",")",";","vec2","eM","=","normalize","(","eJ",".","rg","*","2.0","-","1.0",")",";","return","vec3","(","eM",",","eL",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMALL_WAVES_FAC",TOKENS:["0.3"]},{TYPE:"txt",TOKENS:["void","fb","(","inout","vec3","eH",",","in","float","eO",",","in","vec3","eJ",")","{","float","eQ","=","eP","(","DST_NOISE_SCALE_0","*","(","eH",".","xy","+","DST_NOISE_FREQ_0","*","eO",")",")","*","eP","(","DST_NOISE_SCALE_1","*","(","eH",".","yx","-","DST_NOISE_FREQ_1","*","eO",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eR","=","WAVES_LENGTH","/","MAX_SHORE_DIST","/","M_PI",";","float","eL","=","eJ",".","b",";","float","eS","=","sqrt","(","eL",")",";","float","eT","=","max","(","eL",",","DIR_MIN_SHR_FAC",")","*","sin","(","eS","/","eR","+","DIR_FREQ","*","eO",")",";","float","eU","=","max","(","eP","(","DIR_NOISE_SCALE","*","(","eH",".","xy","+","DIR_NOISE_FREQ","*","eO",")",")",",","DIR_MIN_NOISE_FAC",")",";","eT","*=","eU",";","float","eV","=","WAVES_HEIGHT","*","mix","(","eT",",","eQ",",","max","(","eS",",","DST_MIN_FAC",")",")",";","vec2","eM","=","eJ",".","rg",";","float","eW","=","WAVES_HOR_FAC","*","eT","*","max","(","MAX_SHORE_DIST","/","35.0","*","(","0.05","-","eL",")",",","0.0",")",";","vec2","eX","=","eW","*","eM",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eV","=","WAVES_HEIGHT","*","eQ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eY","=","2.0","*","(","eH",".","xy","-","0.1","*","eO",")",";","vec2","eZ","=","1.3","*","(","eH",".","yx","+","0.03","*","eO",")",";","float","fa","=","e_","(","0.5","*","eY",")",".","x","+","e_","(","0.5","*","eZ",")",".","x","-","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eH",".","xy","+=","eX",";","fa","*=","eL",";"]}]}}]},{TYPE:"txt",TOKENS:["eV","+=","SMALL_WAVES_FAC","*","fa",";"]}]}}]},{TYPE:"txt",TOKENS:["eH",".","z","+=","eV",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_polyindex","==","0.0",")","ax","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","ax","=","vec3","(","0.0",",","0.0",",","1.0",")",";","else","ax","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","O","=","a_position",";","float","fc","=","abs","(","O",".","z",")",";","vec2","fd","=","u_camera_eye",".","xy","-","mod","(","u_camera_eye",".","xy",",","fc",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O",".","z","=","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O",".","z","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["O",".","xy","+=","fd",";","vec3","bD","=","O",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","a_texcoord",";"]}]}}]},{TYPE:"txt",TOKENS:["ak","am","=","al","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","u_model_tsr",")",";","vec3","bD","=","am",".","O",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dX","=","eN","(","bD",".","xy",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fe","=","length","(","u_wind",")",";","float","ff","=","u_time",";","ff","*=","fe",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fg","=","fc",";","vec3","fh","=","bD","+","vec3","(","fg",",","0.0",",","0.0",")",";","vec3","fi","=","bD","+","vec3","(","0.0",",","fg",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dW","=","bD",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fh","=","bD","+","vec3","(","0.05",",","0.0",",","0.0",")",";","vec3","fi","=","bD","+","vec3","(","0.0",",","0.05",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fj","=","eN","(","fh",".","xy",")",";","vec3","fk","=","eN","(","fi",".","xy",")",";","fb","(","fh",",","ff",",","fj",")",";","fb","(","fi",",","ff",",","fk",")",";","fb","(","bD",",","ff",",","dX",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fb","(","fh",",","ff",",","vec3","(","0.0",")",")",";","fb","(","fi",",","ff",",","vec3","(","0.0",")",")",";","fb","(","bD",",","ff",",","vec3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_position",".","z","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD",".","z","=","WATER_LEVEL","-","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD",".","z","=","-","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["fh",".","z","=","bD",".","z",";","fi",".","z","=","bD",".","z",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","fl","=","normalize","(","fh","-","bD",")",";","vec3","R","=","normalize","(","fi","-","bD",")",";","e","=","normalize","(","cross","(","fl",",","R",")",")",";","float","fm","=","dot","(","e",",","UP_VECTOR",")",";","float","aF","=","clamp","(","0.8","-","fm",",","0.0",",","1.0",")",";","e","=","mix","(","e",",","UP_VECTOR",",","aF",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","P","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","e","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["f","=","R",";","dV","=","cross","(","e",",","f",")",";"]}]}}]},{TYPE:"txt",TOKENS:["c","=","bD",";","bz","=","u_camera_eye","-","bD",";","vec4","bF","=","vec4","(","ae","(","u_view_tsr",",","bD",")",",","1.0",")",";","vec4","at","=","u_proj_matrix","*","bF",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","h",".","x","=","(","au","+","aw",")","/","2.0",";","h",".","y","=","(","av","+","aw",")","/","2.0",";","h",".","z","=","aw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","-","bF",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","at",";","}"]}]},exports["postprocessing/antialiasing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_FXAA_LIGHT"]},{TYPE:"var",NAME:"AA_QUALITY",TOKENS:["AA_QUALITY_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_REDUCE_MIN",TOKENS:["(","1.0","/","128.0",")"]},{TYPE:"define",NAME:"FXAA_REDUCE_MUL",TOKENS:["(","1.0","/","8.0",")"]},{TYPE:"define",NAME:"FXAA_SPAN_MAX",TOKENS:["8.0"]},{TYPE:"txt",TOKENS:["vec4","fo","(","float","x",",","float","y",")","{","vec2","fn","=","n","+","vec2","(","x",",","y",")","*","u_texel_size",";","return","GLSL_TEXTURE","(","u_color",",","fn",")",";","}","vec4","fH","(",")","{","vec4","fp","=","fo","(","-","1.0",",","-","1.0",")",";","vec4","fq","=","fo","(","1.0",",","-","1.0",")",";","vec4","fr","=","fo","(","-","1.0",",","1.0",")",";","vec4","fs","=","fo","(","1.0",",","1.0",")",";","vec4","ft","=","fo","(","0.0",",","0.0",")",";","float","fv","=","fu","(","ft",")",";","float","fw","=","fu","(","fp",")",";","float","fx","=","fu","(","fq",")",";","float","fy","=","fu","(","fr",")",";","float","fz","=","fu","(","fs",")",";","float","fA","=","min","(","fv",",","min","(","min","(","fw",",","fx",")",",","min","(","fy",",","fz",")",")",")",";","float","fB","=","max","(","fv",",","max","(","max","(","fw",",","fx",")",",","max","(","fy",",","fz",")",")",")",";","vec2","bj",";","bj",".","x","=","-","(","(","fw","+","fx",")","-","(","fy","+","fz",")",")",";","bj",".","y","=","(","(","fw","+","fy",")","-","(","fx","+","fz",")",")",";","float","fC","=","max","(","(","fw","+","fx","+","fy","+","fz",")","*","(","0.25","*","FXAA_REDUCE_MUL",")",",","FXAA_REDUCE_MIN",")",";","float","fD","=","1.0","/","(","min","(","abs","(","bj",".","x",")",",","abs","(","bj",".","y",")",")","+","fC",")",";","bj","=","min","(","vec2","(","FXAA_SPAN_MAX",",","FXAA_SPAN_MAX",")",",","max","(","vec2","(","-","FXAA_SPAN_MAX",",","-","FXAA_SPAN_MAX",")",",","bj","*","fD",")",")","*","u_texel_size",";","vec4","fE","=","0.5","*","(","GLSL_TEXTURE","(","u_color",",","n","+","bj","*","(","1.0","/","3.0","-","0.5",")",")","+","GLSL_TEXTURE","(","u_color",",","n","+","bj","*","(","2.0","/","3.0","-","0.5",")",")",")",";","vec4","fF","=","fE","*","0.5","+","0.25","*","(","GLSL_TEXTURE","(","u_color",",","n","+","bj","*","-","0.5",")","+","GLSL_TEXTURE","(","u_color",",","n","+","bj","*","0.5",")",")",";","float","fG","=","fu","(","fF",")",";","if","(","(","fG","<","fA",")","||","(","fG",">","fB",")",")","return","fE",";","else","return","fF",";","}"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["1"]},{TYPE:"include",FILE:"fxaa.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_QUALITY","AA_QUALITY_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["39"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["1.00"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.063"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0312"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["20"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.65"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0625"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.50"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0833"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fH","(",")",";"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fI","=","u_texel_size",";","GLSL_OUT_FRAG_COLOR","=","fJ","(","n",",","u_color",",","fI",",","FXAA_QUALITY_SUBPIX",",","FXAA_QUALITY_EDGE_THRESHOLD",",","FXAA_QUALITY_EDGE_THRESHOLD_MIN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/bloom_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","fb","=","vec2","(","0.0",",","0.0",")",";","vec2","cB","=","u_texel_size",";","vec4","fK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","fK","*","0.0875447373698",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0858112354248",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0858112354248",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0808139781061",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0808139781061",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0731235112908",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0731235112908",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0635705267419",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0635705267419",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0530985673112",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0530985673112",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0426125984122",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0426125984122",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0328565115809",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0328565115809",";","fb","+=","cB",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","=","max","(","0.7","*","fK",",","GLSL_OUT_FRAG_COLOR",")",";","}"]}]},exports["postprocessing/bloom_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_bloom",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fL","=","GLSL_TEXTURE","(","u_main",",","n",")",";","vec4","fM","=","GLSL_TEXTURE","(","u_bloom",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","fL","+","fM",";","}"]}]},exports["postprocessing/coc.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"COC_TYPE",TOKENS:["COC_ALL"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_coc_fg",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_start",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_start",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","if","(","u_dof_dist",">","0.0",")","{","float","fO","=","fN","(","u_depth",",","n",",","u_camera_range",")",";","fO","*=","u_view_max_depth",";","float","fP","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","fQ","=","GLSL_TEXTURE","(","u_coc_fg",",","n",")",";","float","fR","=","fQ",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","fO","<","u_dof_dist",")","fP","=","(","u_dof_dist","-","fO","-","u_dof_front_start",")","/","(","u_dof_front_end","-","u_dof_front_start",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","fP","=","(","fO","-","u_dof_dist","-","u_dof_rear_start",")","/","(","u_dof_rear_end","-","u_dof_rear_start",")",";"]}]}}]},{TYPE:"txt",TOKENS:["fP","=","clamp","(","fP",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fP","=","max","(","fP",",","fR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","fP",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",".","xyz","*","fP",",","fP",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",".","xyz",",","0.0",")",";","}"]}]},exports["postprocessing/compositing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","float","u_brightness",";","uniform","float","u_contrast",";","uniform","float","u_exposure",";","uniform","float","u_saturation",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fS","=","GLSL_TEXTURE","(","u_color",",","n",")",";","vec3","aK","=","fS",".","rgb",";","if","(","u_brightness","<","0.0",")","aK","=","aK","*","(","1.0","+","u_brightness",")",";","else","aK","=","aK","+","(","(","1.0","-","aK",")","*","u_brightness",")",";","aK","=","(","aK","-","0.5",")","*","(","tan","(","(","u_contrast","+","1.0",")","*","M_PI_4",")",")","+","0.5",";","aK","*=","u_exposure",";","float","dc","=","fu","(","vec4","(","aK",",","0.0",")",")",";","aK","=","mix","(","vec3","(","dc",")",",","aK",",","u_saturation",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","fS",".","a",")",";","}"]}]},exports["postprocessing/depth_pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","fT","(","clamp","(","fN","(","u_depth",",","n",",","u_camera_range",")",",","0.0",",","0.999999",")",")",";","}"]}]},exports["postprocessing/dof.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DOF_TYPE",TOKENS:["DOF_SIMPLE"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","highp","sampler2D","u_sharp",";","uniform","highp","sampler2D","u_blurred1",";","uniform","highp","sampler2D","u_blurred2",";","uniform","float","u_dof_dist",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fU","=","GLSL_TEXTURE","(","u_sharp",",","n",")",";","if","(","u_dof_dist",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fP",";","vec4","fV","=","GLSL_TEXTURE","(","u_blurred1",",","n",")",";","vec4","fW","=","GLSL_TEXTURE","(","u_blurred2",",","n",")",";","vec4","fX","=","min","(","fV",".","rgba",",","fW",".","rgba",")",";","fP","=","fX",".","a",";","if","(","fP",">","0.0",")","{","fX","=","vec4","(","fX",".","rgb","/","fP",",","fU",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","fU",",","fX",",","min","(","fP","*","5.0",",","1.0",")",")",";","}","else","GLSL_OUT_FRAG_COLOR","=","fU",";"]}]}},{TYPE:"elif",EXPRESSION:["DOF_TYPE","DOF_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fO","=","fN","(","u_depth",",","n",",","u_camera_range",")",";","fO","*=","u_view_max_depth",";","float","fY",";","if","(","fO","<","u_dof_dist",")","fY","=","(","u_dof_dist","-","fO",")","/","u_dof_front_end",";","else","fY","=","(","fO","-","u_dof_dist",")","/","u_dof_rear_end",";","fY","=","clamp","(","fY",",","0.0",",","1.0",")",";","vec4","fZ","=","GLSL_TEXTURE","(","u_blurred",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","fU",",","fZ",",","fY",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fU",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","fU",";","}"]}]},exports["postprocessing/glow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_src_color",";","uniform","sampler2D","u_glow_mask_small",";","uniform","sampler2D","u_glow_mask_large",";","uniform","float","u_glow_mask_small_coeff",";","uniform","float","u_glow_mask_large_coeff",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","f_","=","GLSL_TEXTURE","(","u_src_color",",","n",")",";","vec4","gc","=","GLSL_TEXTURE","(","u_glow_mask_small",",","n",")",";","vec4","gd","=","GLSL_TEXTURE","(","u_glow_mask_large",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","f_",";","if","(","gd",".","a","!=","0.0",")","{","float","ge","=","u_glow_mask_large_coeff","*","gd",".","a",";","ge","=","clamp","(","ge",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gd",".","rgb","/","gd",".","a",",","ge",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","ge",")",";","}","if","(","gc",".","a","!=","0.0",")","{","float","gf","=","u_glow_mask_small_coeff","*","gc",".","a",";","gf","=","clamp","(","gf",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gc",".","rgb","/","gc",".","a",",","gf",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","gf",")",";","}","}"]}]},exports["postprocessing/god_rays.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"STEPS_PER_PASS",TOKENS:["10.0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_radial_blur_step",";","uniform","sampler2D","u_input",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","gh",";","GLSL_IN","vec2","gi",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_IN","vec4","gj",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","cB","=","(","gj",".","xy","-","n",")",";","float","aG","=","length","(","cB",")",";","vec2","gk","=","u_radial_blur_step","*","cB","/","aG",";","float","gl","=","aG","/","u_radial_blur_step",";","gk","*=","min","(","gl",",","STEPS_PER_PASS",")","/","STEPS_PER_PASS",";","gl","=","max","(","gl",",","STEPS_PER_PASS",")",";","vec2","gm","=","n",";","float","gn","=","0.0",";","const","int","go","=","int","(","STEPS_PER_PASS",")",";","int","gp","=","int","(","gl","+","0.5",")",";","for","(","int","bU","=","0",";","bU","<","go",";","bU","+=","1",")","{","if","(","bU","<=","gp",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fO","=","fN","(","u_input",",","gm",",","u_camera_range",")",";","gn","+=","max","(","(","1.0","-","pow","(","aG",",","0.3",")",")","*","step","(","0.9",",","fO",")",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gq","=","GLSL_TEXTURE","(","u_input",",","gm",")",";","gn","+=","cz","(","gq",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","gm","+=","gk",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bI","=","n","+","gi",";","float","gs","=","e_","(","vec2","(","2.5","*","(","bI",".","x",")",",","2.5","*","(","bI",".","y",")","+","1.0","*","u_time",")",")",".","x","+","0.75","*","e_","(","vec2","(","5.0","*","(","bI",".","x",")","-","0.66","*","u_time",",","5.0","*","(","bI",".","y",")","+","0.66","*","u_time",")",")",".","x","+","0.5","*","eP","(","vec2","(","7.5","*","(","bI",".","x",")","+","0.33","*","u_time",",","7.5","*","(","bI",".","y",")","-","0.33","*","u_time",")",")",";","gs","*=","clamp","(","1.2","-","sqrt","(","0.2","*","aG",")",",","0.0",",","1.0",")","*","gh",";","gn","=","max","(","gs",",","gn",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fT","(","gn","/","STEPS_PER_PASS",")",";","}"]}]},exports["postprocessing/god_rays.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat4","u_view_proj_matrix",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","gh",";","GLSL_OUT","vec2","gi",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","n",";","GLSL_OUT","vec4","gj",";","void","main","(",")","{","n","=","a_bb_vertex",";","vec3","bj","=","normalize","(","u_sun_direction",")",";","gj","=","u_view_proj_matrix","*","vec4","(","bj",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","{","gh","=","1.0",";","vec3","gt","=","vec3","(","0.0",",","1.0",",","0.0",")",";","vec3","gu","=","P","(","u_camera_quat",",","gt",")",";","gu","=","normalize","(","gu",")",";","float","gv","=","dot","(","gu",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","float","gw","=","atan","(","gu",".","x",",","gu",".","z",")",";","gi","=","vec2","(","-","gw",",","acos","(","gv",")",")",";","}","else","{","gh","=","0.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["gj",".","xy","=","0.5","*","(","gj",".","xy","/","gj",".","w","+","1.0",")",";","gj","+=","99999.0","*","step","(","gj",".","z",",","0.0",")",";","gl_Position","=","vec4","(","2.0","*","a_bb_vertex",".","xy","-","1.0",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/god_rays_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SAFARI_CANVAS_ALPHA_HACK",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_god_rays",";","uniform","float","u_god_rays_intensity",";","uniform","vec3","u_sun_intensity",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gx","=","GLSL_TEXTURE","(","u_main",",","n",")",";","vec3","gy","=","clamp","(","u_sun_intensity",",","0.4",",","0.8",")",";","cb","(","gx",".","rgb",")",";","float","gz","=","cz","(","GLSL_TEXTURE","(","u_god_rays",",","n",")",")",";","vec3","gA","=","gx",".","rgb","+","u_god_rays_intensity","*","vec3","(","gz",")","*","gy",";","aQ","(","gA",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SAFARI_CANVAS_ALPHA_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gA",",","max","(","0.01",",","gx",".","a",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gA",",","gx",".","a",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/luminance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fL","=","GLSL_TEXTURE","(","u_input",",","n",")",";","float","gB","=","dot","(","fL",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","gB",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_av.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","gB",";","float","gC","=","0.0",";","float","w","=","0.025",";","float","bS","=","0.025",";","for","(","int","bU","=","0",";","bU","<","20",";","bU","+=","1",")","{","bS","=","0.025",";","for","(","int","gD","=","0",";","gD","<","20",";","gD","+=","1",")","{","gB","=","max","(","GLSL_TEXTURE","(","u_input",",","vec2","(","w",",","bS",")",")",".","r",",","0.01",")",";","gC","+=","log","(","gB",")",";","bS","+=","0.05",";","}","w","+=","0.05",";","}","float","gE","=","exp","(","gC","/","400.0",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","gE",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_trunced.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_luminance",";","uniform","sampler2D","u_average_lum",";","uniform","float","u_bloom_edge_lum",";","GLSL_IN","vec2","n",";","GLSL_IN","float","gF",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","gE","=","GLSL_TEXTURE","(","u_average_lum",",","vec2","(","0.5",")",")",".","r",";","float","gG","=","GLSL_TEXTURE","(","u_luminance",",","n",")",".","r",";","vec4","aK","=","GLSL_TEXTURE","(","u_main",",","n",")",";","float","gH","=","gG","/","gE",";","float","gI","=","u_bloom_edge_lum",";","GLSL_OUT_FRAG_COLOR","=","aK","*","max","(","gH","-","gI",",","0.0",")","*","gF",";","}"]}]},exports["postprocessing/luminance_trunced.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","vec3","u_sun_direction",";","uniform","float","u_bloom_key",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","n",";","GLSL_OUT","float","gF",";","void","gQ","(","in","vec4","gJ",",","in","vec3","gK",",","out","vec3","gL",")","{","float","gM","=","gJ",".","w","*","gK",".","x","+","gJ",".","y","*","gK",".","z","-","gJ",".","z","*","gK",".","y",";","float","gN","=","gJ",".","w","*","gK",".","y","+","gJ",".","z","*","gK",".","x","-","gJ",".","x","*","gK",".","z",";","float","gO","=","gJ",".","w","*","gK",".","z","+","gJ",".","x","*","gK",".","y","-","gJ",".","y","*","gK",".","x",";","float","gP","=","-","gJ",".","x","*","gK",".","x","-","gJ",".","y","*","gK",".","y","-","gJ",".","z","*","gK",".","z",";","gL",".","x","=","gM","*","gJ",".","w","-","gP","*","gJ",".","x","-","gN","*","gJ",".","z","+","gO","*","gJ",".","y",";","gL",".","y","=","gN","*","gJ",".","w","-","gP","*","gJ",".","y","-","gO","*","gJ",".","x","+","gM","*","gJ",".","z",";","gL",".","z","=","gO","*","gJ",".","w","-","gP","*","gJ",".","z","-","gM","*","gJ",".","y","+","gN","*","gJ",".","x",";","}","void","main","(",")","{","n","=","2.0","*","a_position",";","vec3","gu",";","gQ","(","u_camera_quat",",","UP_VECTOR",",","gu",")",";","gF","=","dot","(","-","gu",",","u_sun_direction",")","*","u_bloom_key",";","gF","*=","max","(","sign","(","u_sun_direction",".","z",")",",","0.0",")",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/motion_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_mb_tex_curr",";","uniform","sampler2D","u_mb_tex_accum",";","uniform","float","u_motion_blur_exp",";","uniform","float","u_motion_blur_decay_threshold",";","float","gR","=","0.0042",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gS","=","GLSL_TEXTURE","(","u_mb_tex_curr",",","n",")",";","vec4","gT","=","GLSL_TEXTURE","(","u_mb_tex_accum",",","n",")",";","if","(","length","(","gS","-","gT",")",">","u_motion_blur_decay_threshold",")","{","vec4","gU","=","(","1.0","-","u_motion_blur_exp",")","*","gS","+","u_motion_blur_exp","*","gT",";","vec4","gV","=","gU","-","gT",";","vec4","gW","=","gS","-","gT",";","vec4","cB","=","min","(","max","(","abs","(","gV",")",",","vec4","(","gR",")",")",",","abs","(","gW",")",")","*","sign","(","gV",")",";","GLSL_OUT_FRAG_COLOR","=","gT","+","cB",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","gS",";","}","}"]}]},exports["postprocessing/outline.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_outline_src",";","uniform","sampler2D","u_outline_mask",";","uniform","sampler2D","u_outline_mask_blurred",";","uniform","vec3","u_outline_color",";","uniform","float","u_draw_outline",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gX","=","GLSL_TEXTURE","(","u_outline_src",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","gX",";","if","(","u_draw_outline","!=","0.0",")","{","vec4","gY","=","GLSL_TEXTURE","(","u_outline_mask",",","n",")",";","vec4","gZ","=","GLSL_TEXTURE","(","u_outline_mask_blurred",",","n",")",";","float","g_","=","gZ",".","a","-","gY",".","a",";","if","(","g_","!=","0.0",")","{","float","ha","=","smoothstep","(","0.0",",","1.0",",","gZ",".","a",")",";","if","(","gY",".","a","==","0.0",")","{","vec3","hb","=","u_outline_color",";","aQ","(","hb",")",";","vec4","hc","=","vec4","(","clamp","(","hb",",","0.0",",","1.0",")",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gX",",","hc",",","ha",")",";","}","}","}","}"]}]},exports["postprocessing/performance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aK","=","vec4","(","0.0",")",";","for","(","int","bU","=","0",";","bU","<","10",";","bU","++",")","{","vec2","hd","=","vec2","(","fract","(","n","*","vec2","(","bU",")","*","vec2","(","1.431",",","3.921",")",")",")",";","aK","+=","0.01","*","GLSL_TEXTURE","(","u_color",",","hd",")",";","}","GLSL_OUT_FRAG_COLOR","=","aK",";","}"]}]},exports["postprocessing/postprocessing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"POST_EFFECT",TOKENS:["POST_EFFECT_NONE"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_tex_number",";","uniform","vec2","u_delta",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_dof_bokeh_intensity",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","n",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GRAYSCALE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","de","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","vec3","(","(","de",".","r","+","de",".","g","+","de",".","b",")","/","3.0",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","1.0",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fb","=","vec2","(","0.0",",","0.0",")",";","vec2","cB","=","u_texel_size",";","vec4","aK",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","aK","*","0.2270270270",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1945945946",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1945945946",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1216216216",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.1216216216",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0540540541",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0540540541",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0162162162",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","0.0162162162",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GLOW_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fb","=","vec2","(","0.0",",","0.0",")",";","vec2","cB","=","u_texel_size",";","vec4","aK",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.152507",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.141763",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.141763",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.113861",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.113861",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.079019",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.079019",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.047383",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.047383",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.024549",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.024549",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.01099",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.01099",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00425",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00425",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00142",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","GLSL_OUT_FRAG_COLOR","+=","aK","*","(","1.0","-","step","(","0.0",",","-","aK",".","a",")",")","*","0.00142",";","GLSL_OUT_FRAG_COLOR","=","clamp","(","GLSL_OUT_FRAG_COLOR",",","0.0",",","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fb","=","vec2","(","0.0",",","0.0",")",";","vec2","cB","=","u_texel_size",";","vec4","aK",";","vec4","he",";","vec4","hf",";","float","fP",";","float","hg","=","u_dof_bokeh_intensity",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","he","=","aK",";","hf","=","aK",";","fP","=","aK",".","a",";","cB","=","fP","*","cB",";","for","(","int","bU","=","0",";","bU","<","12",";","bU","+=","2",")","{","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","he","+=","aK",";","hf","=","max","(","hf",",","aK",")",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","he","+=","aK",";","hf","=","max","(","hf",",","aK",")",";","}","he","/=","13.0",";","GLSL_OUT_FRAG_COLOR","=","mix","(","he",",","hf",",","hg",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_ALPHA_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fb","=","vec2","(","0.0",",","0.0",")",";","vec2","cB","=","u_texel_size",";","vec4","aK",";","vec4","he",";","vec4","hf",";","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","hf","=","max","(","hf",",","aK",")",";","he","=","aK",";","he",".","a","=","aK",".","a","*","0.2270270270",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.1945945946",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.1945945946",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.1216216216",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.1216216216",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.0540540541",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.0540540541",";","fb","+=","cB",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.0162162162",";","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","fb",")",";","hf",".","a","=","max","(","hf",".","a",",","aK",".","a",")",";","he",".","a","+=","aK",".","a","*","0.0162162162",";","GLSL_OUT_FRAG_COLOR","=","mix","(","he",",","hf",",","0.5",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_EXTEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cB","=","u_texel_size",";","vec4","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";","GLSL_OUT_FRAG_COLOR","=","aK",";","if","(","aK",".","a","==","0.0",")","{","aK","=","GLSL_TEXTURE","(","u_color",",","n","+","cB",")",";","if","(","aK",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aK",".","a",")",";","else","{","aK","=","GLSL_TEXTURE","(","u_color",",","n","-","cB",")",";","if","(","aK",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aK",".","a",")",";","}","}"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","hh","=","u_delta","[","0","]",";","float","hi","=","u_delta","[","1","]",";","float","hj","=","1.0","/","3.0",";","float","hk","=","0.5",";","vec2","hl","=","vec2","(","hj",",","hk",")",";","if","(","u_tex_number","==","0",")","{","vec2","bI","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","n","*","hl","+","vec2","(","2.0","*","hj",",","hk",")",";","bI","[","0","]","=","max","(","bI","[","0","]",",","2.0","*","hj","+","hh",")",";","bI","[","1","]","=","max","(","bI","[","1","]",",","hi",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bI","[","0","]",",","hk","-","bI","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","1",")","{","vec2","bI","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","n","*","hl","+","vec2","(","0.0",",","hk",")",";","bI","[","0","]","=","max","(","bI","[","0","]",",","hh",")",";","bI","[","1","]","=","min","(","bI","[","1","]",",","hk","-","hi",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hj","-","bI","[","0","]",",","bI","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","2",")","{","vec2","bI","=","n","*","hl","+","vec2","(","2.0","*","hj",",","hk",")",";","bI","[","0","]","=","max","(","bI","[","0","]",",","2.0","*","hj","+","hh",")",";","bI","[","1","]","=","min","(","bI","[","1","]",",","1.0","-","hi",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bI","[","0","]",",","1.5","-","bI","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","3",")","{","vec2","bI","=","n","*","hl","+","vec2","(","hj",",","0.0",")",";","bI","[","0","]","=","max","(","bI","[","0","]",",","hj","+","hh",")",";","bI","[","0","]","=","min","(","bI","[","0","]",",","2.0","*","hj","-","hh",")",";","bI","[","1","]","=","min","(","bI","[","1","]",",","hk","-","hi",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","1.0","-","bI","[","0","]",",","bI","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","4",")","{","vec2","bI","=","n","*","hl","+","vec2","(","hj",",","hk",")",";","bI","[","0","]","=","max","(","bI","[","0","]",",","hj","+","hh",")",";","bI","[","0","]","=","min","(","bI","[","0","]",",","2.0","*","hj","-","hh",")",";","bI","[","1","]","=","min","(","bI","[","1","]",",","1.0","-","hi",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bI","[","0","]",",","3.0","*","hk","-","bI","[","1","]",")",")",";","}","else","{","vec2","bI","=","n","*","hl","+","vec2","(","0.0",",","hk",")",";","bI","[","0","]","=","max","(","bI","[","0","]",",","hh",")",";","bI","[","1","]","=","min","(","bI","[","1","]",",","1.0","-","hi",")",";","bI","[","1","]","=","max","(","bI","[","1","]",",","hk","+","hi",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hj","-","bI","[","0","]",",","bI","[","1","]",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/postprocessing.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","n",";","void","main","(",")","{","n","=","2.0","*","a_position",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/smaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"SMAA_REPROJECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_PREDICATION",TOKENS:["0"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_prev",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_blend",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_velocity_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2},"SMAA_PREDICATION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_predication_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_search_tex",";","uniform","sampler2D","u_area_tex",";","uniform","vec4","u_subsample_indices",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hm",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hn",";","GLSL_IN","vec4","ho",";","GLSL_IN","vec4","hp",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","hq",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.15"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.05"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_DEPTH_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_DEPTH_THRESHOLD",TOKENS:["(","0.1","*","SMAA_THRESHOLD",")"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_CORNER_ROUNDING",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_THRESHOLD",TOKENS:["0.01"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_SCALE",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_STRENGTH",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_STRENGTH",TOKENS:["0.4"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",TOKENS:["30.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE_DIAG",TOKENS:["20"]},{TYPE:"define",NAME:"SMAA_AREATEX_PIXEL_SIZE",TOKENS:["(","1.0","/","vec2","(","160.0",",","560.0",")",")"]},{TYPE:"define",NAME:"SMAA_AREATEX_SUBTEX_SIZE",TOKENS:["(","1.0","/","7.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_SIZE",TOKENS:["vec2","(","66.0",",","33.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_PACKED_SIZE",TOKENS:["vec2","(","64.0",",","16.0",")"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING_NORM",TOKENS:["(","float","(","SMAA_CORNER_ROUNDING",")","/","100.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","hu","(","vec2","bI",",","sampler2D","hr",")","{","float","p","=","GLSL_TEXTURE","(","hr",",","bI",")",".","r",";","float","hs","=","GLSL_TEXTURE","(","hr",",","hn",".","xy",")",".","r",";","float","ht","=","GLSL_TEXTURE","(","hr",",","hn",".","zw",")",".","r",";","return","vec3","(","p",",","hs",",","ht",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hy","(","vec2","bI",",","sampler2D","hv",")","{","vec3","hw","=","hu","(","bI",",","hv",")",";","vec2","cB","=","abs","(","hw",".","xx","-","hw",".","yz",")",";","vec2","hx","=","step","(","SMAA_PREDICATION_THRESHOLD",",","cB",")",";","return","SMAA_PREDICATION_SCALE","*","SMAA_THRESHOLD","*","(","1.0","-","SMAA_PREDICATION_STRENGTH","*","hx",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","hC","(","bvec2","hz",",","inout","vec2","hA",",","vec2","hB",")","{","if","(","hz",".","x",")","hA",".","x","=","hB",".","x",";","if","(","hz",".","y",")","hA",".","y","=","hB",".","y",";","}","void","hC","(","bvec4","hz",",","inout","vec4","hA",",","vec4","hB",")","{","hC","(","hz",".","xy",",","hA",".","xy",",","hB",".","xy",")",";","hC","(","hz",".","zw",",","hA",".","zw",",","hB",".","zw",")",";","}","vec2","hD","(","vec2","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}","vec4","hD","(","vec4","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hQ","(","vec2","bI",",","sampler2D","hE"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","hv"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hF","=","hy","(","bI",",","hv",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hF","=","vec2","(","SMAA_THRESHOLD",",","SMAA_THRESHOLD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","hG","=","vec3","(","0.2126",",","0.7152",",","0.0722",")",";","float","hH","=","dot","(","GLSL_TEXTURE","(","hE",",","bI",")",".","rgb",",","hG",")",";","float","hI","=","dot","(","GLSL_TEXTURE","(","hE",",","hn",".","xy",")",".","rgb",",","hG",")",";","float","hJ","=","dot","(","GLSL_TEXTURE","(","hE",",","hn",".","zw",")",".","rgb",",","hG",")",";","vec4","cB",";","cB",".","xy","=","abs","(","hH","-","vec2","(","hI",",","hJ",")",")",";","vec2","hx","=","step","(","hF",",","cB",".","xy",")",";","if","(","dot","(","hx",",","vec2","(","1.0",",","1.0",")",")","==","0.0",")","discard",";","float","hK","=","dot","(","GLSL_TEXTURE","(","hE",",","ho",".","xy",")",".","rgb",",","hG",")",";","float","hL","=","dot","(","GLSL_TEXTURE","(","hE",",","ho",".","zw",")",".","rgb",",","hG",")",";","cB",".","zw","=","abs","(","hH","-","vec2","(","hK",",","hL",")",")",";","vec2","hM","=","max","(","cB",".","xy",",","cB",".","zw",")",";","float","hN","=","dot","(","GLSL_TEXTURE","(","hE",",","hp",".","xy",")",".","rgb",",","hG",")",";","float","hO","=","dot","(","GLSL_TEXTURE","(","hE",",","hp",".","zw",")",".","rgb",",","hG",")",";","cB",".","zw","=","abs","(","vec2","(","hI",",","hJ",")","-","vec2","(","hN",",","hO",")",")",";","hM","=","max","(","hM",".","xy",",","cB",".","zw",")",";","float","hP","=","max","(","hM",".","x",",","hM",".","y",")",";","hx",".","xy","*=","step","(","hP",",","SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR","*","cB",".","xy",")",";","return","hx",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hS","(","vec2","hR",")","{","hR",".","r","=","hR",".","r","*","abs","(","5.0","*","hR",".","r","-","5.0","*","0.75",")",";","return","hD","(","hR",")",";","}","vec4","hS","(","vec4","hR",")","{","hR",".","rb","=","hR",".","rb","*","abs","(","5.0","*","hR",".","rb","-","5.0","*","0.75",")",";","return","hD","(","hR",")",";","}","vec2","hU","(","sampler2D","hT",",","vec2","bI",",","vec2","bj",",","out","vec2","hR",")","{","vec4","fn","=","vec4","(","bI",",","-","1.0",",","1.0",")",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bU","=","0",";","bU","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bU","++",")","{","if","(","fn",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fn",".","w",">","0.9",")","{","fn",".","xyz","+=","t","*","vec3","(","bj",",","1.0",")",";","hR","=","GLSL_TEXTURE","(","hT",",","fn",".","xy",",","0.0",")",".","rg",";","fn",".","w","=","dot","(","hR",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fn",".","zw",";","}","vec2","hV","(","sampler2D","hT",",","vec2","bI",",","vec2","bj",",","out","vec2","hR",")","{","vec4","fn","=","vec4","(","bI",",","-","1.0",",","1.0",")",";","fn",".","x","+=","0.25","*","u_texel_size",".","x",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bU","=","0",";","bU","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bU","++",")","{","if","(","fn",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fn",".","w",">","0.9",")","{","fn",".","xyz","=","t","*","vec3","(","bj",",","1.0",")","+","fn",".","xyz",";","hR","=","GLSL_TEXTURE","(","hT",",","fn",".","xy",",","0.0",")",".","rg",";","hR","=","hS","(","hR",")",";","fn",".","w","=","dot","(","hR",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fn",".","zw",";","}","vec2","hX","(","sampler2D","hW",",","vec2","aG",",","vec2","hR",",","float","fb",")","{","vec2","bI","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE_DIAG",",","SMAA_AREATEX_MAX_DISTANCE_DIAG",")","*","hR","+","aG",";","bI","=","SMAA_AREATEX_PIXEL_SIZE","*","bI","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bI",".","x","+=","0.5",";","bI",".","y","+=","SMAA_AREATEX_SUBTEX_SIZE","*","fb",";","return","GLSL_TEXTURE","(","hW",",","bI",",","0.0",")",".","rg",";","}","vec2","ib","(","sampler2D","hT",",","sampler2D","hW",",","vec2","bI",",","vec2","hR",",","vec4","hY",")","{","vec2","hG","=","vec2","(","0.0",",","0.0",")",";","vec4","dj",";","vec2","hZ",";","if","(","hR",".","r",">","0.0",")","{","dj",".","xz","=","hU","(","hT",",","bI",",","vec2","(","-","1.0",",","1.0",")",",","hZ",")",";","dj",".","x","+=","float","(","hZ",".","y",">","0.9",")",";","}","else","dj",".","xz","=","vec2","(","0.0",",","0.0",")",";","dj",".","yw","=","hU","(","hT",",","bI",",","vec2","(","1.0",",","-","1.0",")",",","hZ",")",";","if","(","dj",".","x","+","dj",".","y",">","2.0",")","{","vec4","h_","=","vec4","(","-","dj",".","x","+","0.25",",","dj",".","x",",","dj",".","y",",","-","dj",".","y","-","0.25",")","*","u_texel_size",".","xyxy","+","bI",".","xyxy",";","vec4","de",";","de",".","xy","=","GLSL_TEXTURE","(","hT",",","h_",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","rg",";","de",".","zw","=","GLSL_TEXTURE","(","hT",",","h_",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","rg",";","de",".","yxwz","=","hS","(","de",".","xyzw",")",";","vec2","ia","=","vec2","(","2.0",",","2.0",")","*","de",".","xz","+","de",".","yw",";","hC","(","bvec2","(","step","(","0.9",",","dj",".","zw",")",")",",","ia",",","vec2","(","0.0",",","0.0",")",")",";","hG","+=","hX","(","hW",",","dj",".","xy",",","ia",",","hY",".","z",")",";","}","dj",".","xz","=","hV","(","hT",",","bI",",","vec2","(","-","1",",","-","1",")",",","hZ",")",";","if","(","GLSL_TEXTURE","(","hT",",","bI","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",">","0.0",")","{","dj",".","yw","=","hV","(","hT",",","bI",",","vec2","(","1",",","1",")",",","hZ",")",";","dj",".","y","+=","float","(","hZ",".","y",">","0.9",")",";","}","else","dj",".","yw","=","vec2","(","0.0",",","0.0",")",";","if","(","dj",".","x","+","dj",".","y",">","2.0",")","{","vec4","h_","=","vec4","(","-","dj",".","x",",","-","dj",".","x",",","dj",".","y",",","dj",".","y",")","*","u_texel_size",".","xyxy","+","bI",".","xyxy",";","vec4","de",";","de",".","x","=","GLSL_TEXTURE","(","hT",",","h_",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","g",";","de",".","y","=","GLSL_TEXTURE","(","hT",",","h_",".","xy","+","u_texel_size","*","vec2","(","0",",","-","1",")",",","0.0",")",".","r",";","de",".","zw","=","GLSL_TEXTURE","(","hT",",","h_",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","gr",";","vec2","ia","=","vec2","(","2.0",",","2.0",")","*","de",".","xz","+","de",".","yw",";","hC","(","bvec2","(","step","(","0.9",",","dj",".","zw",")",")",",","ia",",","vec2","(","0",",","0",")",")",";","hG","+=","hX","(","hW",",","dj",".","xy",",","ia",",","hY",".","w",")",".","gr",";","}","return","hG",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","ie","(","sampler2D","ic",",","vec2","hR",",","float","fb",")","{","vec2","hl","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","0.5",",","-","1.0",")",";","vec2","id","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","fb",",","1.0",")",";","hl","+=","vec2","(","-","1.0",",","1.0",")",";","id","+=","vec2","(","0.5",",","-","0.5",")",";","hl","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","id","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","return","GLSL_TEXTURE","(","ic",",","hl","*","hR","+","id",",","0.0",")",".","r",";","}","float","ig","(","sampler2D","hT",",","sampler2D","ic",",","vec2","bI",",","float","hZ",")","{","vec2","hR","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bU","=","0",";","bU","<","SMAA_MAX_SEARCH_STEPS",";","bU","++",")","{","if","(","bI",".","x",">","hZ","&&","hR",".","g",">","0.8281","&&","hR",".","r","==","0.0",")","{","hR","=","GLSL_TEXTURE","(","hT",",","bI",",","0.0",")",".","rg",";","bI","=","-","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bI",";","}","}","float","fb","=","-","(","255.0","/","127.0",")","*","ie","(","ic",",","hR",",","0.0",")","+","3.25",";","return","u_texel_size",".","x","*","fb","+","bI",".","x",";","}","float","ih","(","sampler2D","hT",",","sampler2D","ic",",","vec2","bI",",","float","hZ",")","{","vec2","hR","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bU","=","0",";","bU","<","SMAA_MAX_SEARCH_STEPS",";","bU","++",")","{","if","(","bI",".","x","<","hZ","&&","hR",".","g",">","0.8281","&&","hR",".","r","==","0.0",")","{","hR","=","GLSL_TEXTURE","(","hT",",","bI",",","0.0",")",".","rg",";","bI","=","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bI",";","}","}","float","fb","=","-","(","255.0","/","127.0",")","*","ie","(","ic",",","hR",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","x","*","fb","+","bI",".","x",";","}","float","ii","(","sampler2D","hT",",","sampler2D","ic",",","vec2","bI",",","float","hZ",")","{","vec2","hR","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bU","=","0",";","bU","<","SMAA_MAX_SEARCH_STEPS",";","bU","++",")","{","if","(","bI",".","y",">","hZ","&&","hR",".","r",">","0.8281","&&","hR",".","g","==","0.0",")","{","hR","=","GLSL_TEXTURE","(","hT",",","bI",",","0.0",")",".","rg",";","bI","=","-","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bI",";","}","}","float","fb","=","-","(","255.0","/","127.0",")","*","ie","(","ic",",","hR",".","gr",",","0.0",")","+","3.25",";","return","u_texel_size",".","y","*","fb","+","bI",".","y",";","}","float","ij","(","sampler2D","hT",",","sampler2D","ic",",","vec2","bI",",","float","hZ",")","{","vec2","hR","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bU","=","0",";","bU","<","SMAA_MAX_SEARCH_STEPS",";","bU","++",")","{","if","(","bI",".","y","<","hZ","&&","hR",".","r",">","0.8281","&&","hR",".","g","==","0.0",")","{","hR","=","GLSL_TEXTURE","(","hT",",","bI",",","0.0",")",".","rg",";","bI","=","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bI",";","}","}","float","fb","=","-","(","255.0","/","127.0",")","*","ie","(","ic",",","hR",".","gr",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","y","*","fb","+","bI",".","y",";","}","vec2","im","(","sampler2D","hW",",","vec2","aG",",","float","ik",",","float","il",",","float","fb",")","{","vec2","bI","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE",",","SMAA_AREATEX_MAX_DISTANCE",")","*","hD","(","4.0","*","vec2","(","ik",",","il",")",")","+","aG",";","bI","=","SMAA_AREATEX_PIXEL_SIZE","*","bI","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bI",".","y","=","SMAA_AREATEX_SUBTEX_SIZE","*","fb","+","bI",".","y",";","return","GLSL_TEXTURE","(","hW",",","bI",",","0.0",")",".","rg",";","}","void","iq","(","sampler2D","hT",",","inout","vec2","hG",",","vec4","bI",",","vec2","dj",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","io","=","step","(","dj",".","xy",",","dj",".","yx",")",";","vec2","ip","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","io",";","ip","/=","io",".","x","+","io",".","y",";","vec2","aF","=","vec2","(","1.0",",","1.0",")",";","aF",".","x","-=","ip",".","x","*","GLSL_TEXTURE","(","hT",",","bI",".","xy","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","r",";","aF",".","x","-=","ip",".","y","*","GLSL_TEXTURE","(","hT",",","bI",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","r",";","aF",".","y","-=","ip",".","x","*","GLSL_TEXTURE","(","hT",",","bI",".","xy","+","u_texel_size","*","vec2","(","0",",","-","2",")",",","0.0",")",".","r",";","aF",".","y","-=","ip",".","y","*","GLSL_TEXTURE","(","hT",",","bI",".","zw","+","u_texel_size","*","vec2","(","1",",","-","2",")",",","0.0",")",".","r",";","hG","*=","clamp","(","aF",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","ir","(","sampler2D","hT",",","inout","vec2","hG",",","vec4","bI",",","vec2","dj",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","io","=","step","(","dj",".","xy",",","dj",".","yx",")",";","vec2","ip","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","io",";","ip","/=","io",".","x","+","io",".","y",";","vec2","aF","=","vec2","(","1.0",",","1.0",")",";","aF",".","x","-=","ip",".","x","*","GLSL_TEXTURE","(","hT",",","bI",".","xy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","g",";","aF",".","x","-=","ip",".","y","*","GLSL_TEXTURE","(","hT",",","bI",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","g",";","aF",".","y","-=","ip",".","x","*","GLSL_TEXTURE","(","hT",",","bI",".","xy","+","u_texel_size","*","vec2","(","-","2",",","0",")",",","0.0",")",".","g",";","aF",".","y","-=","ip",".","y","*","GLSL_TEXTURE","(","hT",",","bI",".","zw","+","u_texel_size","*","vec2","(","-","2",",","1",")",",","0.0",")",".","g",";","hG","*=","clamp","(","aF",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iu","(","vec2","bI",",","vec2","is",",","sampler2D","hT",",","sampler2D","hW",",","sampler2D","ic",",","vec4","hY",")","{","vec4","hG","=","vec4","(","0.0",",","0.0",",","0.0",",","0.0",")",";","vec2","hR","=","GLSL_TEXTURE","(","hT",",","bI",")",".","rg",";","if","(","hR",".","g",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["hG",".","rg","=","ib","(","hT",",","hW",",","bI",",","hR",",","hY",")",";","if","(","hG",".","r","==","-","hG",".","g",")","{"]}]}}]},{TYPE:"txt",TOKENS:["vec2","dj",";","vec3","h_",";","h_",".","x","=","ig","(","hT",",","ic",",","hn",".","xy",",","hp",".","x",")",";","h_",".","y","=","ho",".","y",";","dj",".","x","=","h_",".","x",";","float","ik","=","GLSL_TEXTURE","(","hT",",","h_",".","xy",",","0.0",")",".","r",";","h_",".","z","=","ih","(","hT",",","ic",",","hn",".","zw",",","hp",".","y",")",";","dj",".","y","=","h_",".","z",";","dj","=","abs","(","hD","(","dj","/","u_texel_size",".","xx","-","is",".","xx",")",")",";","vec2","it","=","sqrt","(","dj",")",";","float","il","=","GLSL_TEXTURE","(","hT",",","h_",".","zy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",";","hG",".","rg","=","im","(","hW",",","it",",","ik",",","il",",","hY",".","y",")",";","h_",".","y","=","bI",".","y",";","iq","(","hT",",","hG",".","rg",",","h_",".","xyzy",",","dj",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["}","else","hR",".","r","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","hR",".","r",">","0.0",")","{","vec2","dj",";","vec3","h_",";","h_",".","y","=","ii","(","hT",",","ic",",","ho",".","xy",",","hp",".","z",")",";","h_",".","x","=","hn",".","x",";","dj",".","x","=","h_",".","y",";","float","ik","=","GLSL_TEXTURE","(","hT",",","h_",".","xy",",","0.0",")",".","g",";","h_",".","z","=","ij","(","hT",",","ic",",","ho",".","zw",",","hp",".","w",")",";","dj",".","y","=","h_",".","z",";","dj","=","abs","(","hD","(","dj","/","u_texel_size",".","yy","-","is",".","yy",")",")",";","vec2","it","=","sqrt","(","dj",")",";","float","il","=","GLSL_TEXTURE","(","hT",",","h_",".","xz","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","g",";","hG",".","ba","=","im","(","hW",",","it",",","ik",",","il",",","hY",".","x",")",";","h_",".","x","=","bI",".","x",";","ir","(","hT",",","hG",".","ba",",","h_",".","xyxz",",","dj",")",";","}","return","hG",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iD","(","vec2","bI",",","sampler2D","hE",",","sampler2D","iv"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","iw"]}]}}]},{TYPE:"txt",TOKENS:[")","{","vec4","a",";","a",".","x","=","GLSL_TEXTURE","(","iv",",","hm",".","xy",")",".","a",";","a",".","y","=","GLSL_TEXTURE","(","iv",",","hm",".","zw",")",".","g",";","a",".","wz","=","GLSL_TEXTURE","(","iv",",","bI",")",".","xz",";","if","(","dot","(","a",",","vec4","(","1.0",",","1.0",",","1.0",",","1.0",")",")","<","1e-5",")","{","vec4","aK","=","GLSL_TEXTURE","(","hE",",","bI",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ix","=","GLSL_TEXTURE","(","iw",",","n",")",";","vec2","cW","=","2.0","*","iy","(","ix",")","-","1.0",";","aK",".","a","=","sqrt","(","2.0","*","length","(","cW",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aK",";","}","else","{","bool","bS","=","max","(","a",".","x",",","a",".","z",")",">","max","(","a",".","y",",","a",".","w",")",";","vec4","iz","=","vec4","(","0.0",",","a",".","y",",","0.0",",","a",".","w",")",";","vec2","iA","=","a",".","yw",";","hC","(","bvec4","(","bS",",","bS",",","bS",",","bS",")",",","iz",",","vec4","(","a",".","x",",","0.0",",","a",".","z",",","0.0",")",")",";","hC","(","bvec2","(","bS",",","bS",")",",","iA",",","a",".","xz",")",";","iA","/=","dot","(","iA",",","vec2","(","1.0",",","1.0",")",")",";","vec4","iB","=","iz","*","vec4","(","u_texel_size",",","-","u_texel_size",")","+","bI",".","xyxy",";","vec4","aK","=","iA",".","x","*","GLSL_TEXTURE","(","hE",",","iB",".","xy",",","0.0",")",";","aK","+=","iA",".","y","*","GLSL_TEXTURE","(","hE",",","iB",".","zw",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ix","=","GLSL_TEXTURE","(","iw",",","iB",".","xy",")",";","vec2","iC","=","2.0","*","iy","(","ix",")","-","1.0",";","vec2","cW","=","iA",".","x","*","iC",";","ix","=","GLSL_TEXTURE","(","iw",",","iB",".","zw",")",";","iC","=","2.0","*","iy","(","ix",")","-","1.0",";","cW","+=","iA",".","y","*","iC",";","aK",".","a","=","sqrt","(","2.0","*","length","(","cW",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aK",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iI","(","vec2","bI",",","sampler2D","iE",",","sampler2D","iF"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","iw"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ix","=","GLSL_TEXTURE","(","iw",",","n",")",";","vec2","cW",";","cW","=","2.0","*","iy","(","ix",")","-","1.0",";","vec4","iG","=","GLSL_TEXTURE","(","iE",",","bI",")",";","vec4","iH","=","GLSL_TEXTURE","(","iF",",","bI","-","cW",")",";","float","cB","=","abs","(","iG",".","a","*","iG",".","a","-","iH",".","a","*","iH",".","a",")","/","2.0",";","float","bY","=","0.5","*","clamp","(","1.0","-","sqrt","(","cB",")","*","SMAA_REPROJECTION_WEIGHT_SCALE",",","0.0",",","1.0",")",";","vec4","aK","=","mix","(","iG",",","iH",",","bY",")",";","aK",".","a","=","1.0",";","return","aK",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iG","=","GLSL_TEXTURE","(","iE",",","bI",")",";","vec4","iH","=","GLSL_TEXTURE","(","iF",",","bI",")",";","return","mix","(","iG",",","iH",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","vec4","(","hQ","(","n",",","u_color"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_predication_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",",","0.0",",","0.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","iu","(","n",",","hq",",","u_color",",","u_area_tex",",","u_search_tex",",","u_subsample_indices",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","iD","(","n",",","u_color",",","u_blend"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","vec4","(","iI","(","n",",","u_color",",","u_color_prev"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aK","=","GLSL_TEXTURE","(","u_color",",","n",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aK",";","}"]}]},exports["postprocessing/smaa.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hm",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hn",";","GLSL_OUT","vec4","ho",";","GLSL_OUT","vec4","hp",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","hq",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["4"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["8"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["32"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iJ","(","vec2","bI",")","{","hn","=","u_texel_size",".","xyxy","*","vec4","(","-","1.0",",","0.0",",","0.0",",","-","1.0",")","+","bI",".","xyxy",";","ho","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bI",".","xyxy",";","hp","=","u_texel_size",".","xyxy","*","vec4","(","-","2.0",",","0.0",",","0.0",",","-","2.0",")","+","bI",".","xyxy",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iK","(","vec2","bI",",","out","vec2","is",")","{","is","=","bI","/","u_texel_size",";","hn","=","u_texel_size",".","xyxy","*","vec4","(","-","0.25",",","-","0.125",",","1.25",",","-","0.125",")","+","bI",".","xyxy",";","ho","=","u_texel_size",".","xyxy","*","vec4","(","-","0.125",",","-","0.25",",","-","0.125",",","1.25",")","+","bI",".","xyxy",";","hp","=","u_texel_size",".","xxyy","*","vec4","(","-","2.0",",","2.0",",","-","2.0",",","2.0",")","*","float","(","SMAA_MAX_SEARCH_STEPS",")","+","vec4","(","hn",".","xz",",","ho",".","yw",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iL","(","vec2","bI",")","{","hm","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bI",".","xyxy",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","n","=","2.0","*","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iJ","(","n",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iK","(","n",",","hq",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iL","(","n",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/ssao.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_WHITE",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_QUALITY",TOKENS:["SSAO_QUALITY_8"]},{TYPE:"var",NAME:"SSAO_HEMISPHERE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","sampler2D","u_ssao_special_tex",";","uniform","vec2","u_camera_range",";","uniform","vec2","u_texel_size",";","uniform","float","u_ssao_radius_increase",";","uniform","float","u_ssao_influence",";","uniform","float","u_ssao_dist_factor",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","float","iM","(","in","vec2","fn",")","{","return","fN","(","u_depth",",","fn",",","u_camera_range",")",";","}","void","main","(",")","{","vec3","fS","=","GLSL_TEXTURE","(","u_color",",","n",")",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_WHITE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","fS",",","1.0",")",";","return",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","iN","=","normalize","(","2.0","*","GLSL_TEXTURE","(","u_ssao_special_tex",",","n","*","0.25","/","u_texel_size",")",".","rgb","-","1.0",")",";","float","fO","=","iM","(","n",")",";","float","iO","=","fO","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iP","=","8.0",";","const","int","iQ","=","1",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iP","=","16.0",";","const","int","iQ","=","2",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_24",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iP","=","24.0",";","const","int","iQ","=","3",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_32",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iP","=","32.0",";","const","int","iQ","=","4",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iR","=","u_ssao_radius_increase","*","0.001",";","const","float","iS","=","1.0","+","2.4","/","iP",";","float","iT","=","0.0",";","for","(","int","bU","=","0",";","bU","<","iQ",";","bU","++",")","for","(","int","x","=","-","1",";","x","<=","1",";","x","+=","2",")","for","(","int","y","=","-","1",";","y","<=","1",";","y","+=","2",")","for","(","int","z","=","-","1",";","z","<=","1",";","z","+=","2",")","{","vec3","iU","=","reflect","(","normalize","(","vec3","(","x",",","y",",","z",")",")",",","iN",")","*","(","iR","*=","iS",")",";","vec3","iV","=","vec3","(","n",",","iO",")",";","iV","+=","vec3","(","iU",".","xy",",","iU",".","z","*","iO","*","2.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iV",".","z","-=","1.4","*","(","iV",".","z","-","iO",")","*","step","(","iO",",","iV",".","z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iW","=","iM","(","iV",".","xy",")","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";","float","iX","=","clamp","(","(","iO","-","iW",")","/","iW",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iT","+=","mix","(","1.0",",","iX",",","step","(","iW",",","iV",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iT","+=","mix","(","step","(","iV",".","z",",","iW",")",",","0.5",",","iX",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","iT","=","iT","/","iP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iT","=","clamp","(","iT","*","iT","+","0.6","*","iT",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iT","=","clamp","(","iT","*","iT","+","iT",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iY","=","u_ssao_influence","*","(","1.0","-","u_ssao_dist_factor","*","fO",")",";","iT","=","mix","(","1.0",",","iT",",","iY",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","fS",",","iT",")",";","}"]}]},exports["postprocessing/ssao_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_BLUR_DEPTH",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_ssao_mask",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","uniform","float","u_ssao_blur_discard_value",";","float","iM","(","in","vec2","fn",")","{","return","fN","(","u_depth",",","fn",",","u_camera_range",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","float","iZ","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","i_","=","iM","(","n",")",";","float","bY","=","0.0",";","float","ja","=","u_ssao_blur_discard_value","*","100.0",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","jb","=","vec2","(","-","2.0",")",";","for","(","int","bU","=","0",";","bU","<","4",";","++","bU",")","{","for","(","int","gD","=","0",";","gD","<","4",";","++","gD",")","{","vec2","fb","=","(","jb","+","vec2","(","float","(","bU",")",",","float","(","gD",")",")",")","*","u_texel_size",";","float","jc","=","GLSL_TEXTURE","(","u_ssao_mask",",","n","+","fb",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","jd","=","iM","(","n","+","fb",")",";","float","je","=","1.0","-","clamp","(","abs","(","jd","-","i_",")","*","ja",",","0.0",",","1.0",")",";","iZ","+=","jc","*","je",";","bY","+=","je",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iZ","+=","jc",";"]}]}}]},{TYPE:"txt",TOKENS:["}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","n",")",".","rgb",",","iZ","/","bY",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","n",")",".","rgb",",","iZ","/","16.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/stereo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANAGLYPH",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler_left",";","uniform","sampler2D","u_sampler_right",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_enable_hmd_stereo",";","uniform","vec4","u_distortion_params",";","uniform","vec4","u_chromatic_aberration_coefs",";","void","jo","(","vec2","bI",",","vec2","ad",",","float","cQ",",","sampler2D","jf",")","{","vec2","jg","=","(","bI","-","ad",")","*","2.0",";","jg","/=","cQ",";","float","jh","=","jg",".","x","*","jg",".","x","+","jg",".","y","*","jg",".","y",";","vec2","ji","=","jg","*","(","1.0","+","u_distortion_params","[","0","]","*","jh","+","u_distortion_params","[","1","]","*","jh","*","jh",")",";","vec2","jj","=","ji","*","0.5","/","(","1.0","+","u_distortion_params","[","0","]","+","u_distortion_params","[","1","]",")",";","if","(","length","(","u_chromatic_aberration_coefs",")",">","0.0",")","{","vec2","jk","=","jj","*","(","1.0","+","u_chromatic_aberration_coefs","[","0","]","+","jh","*","u_chromatic_aberration_coefs","[","1","]",")","+","ad",";","vec2","jl","=","jj","+","ad",";","vec2","jm","=","jj","*","(","1.0","+","u_chromatic_aberration_coefs","[","2","]","+","jh","*","u_chromatic_aberration_coefs","[","3","]",")","+","ad",";","if","(","clamp","(","jm",",","0.0",",","1.0",")","!=","jm",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","vec4","jn","=","GLSL_TEXTURE","(","jf",",","jl",")",";","GLSL_OUT_FRAG_COLOR","[","0","]","=","GLSL_TEXTURE","(","jf",",","jk",")",".","x",";","GLSL_OUT_FRAG_COLOR","[","1","]","=","jn",".","y",";","GLSL_OUT_FRAG_COLOR","[","2","]","=","GLSL_TEXTURE","(","jf",",","jm",")",".","z",";","GLSL_OUT_FRAG_COLOR","[","3","]","=","jn",".","w",";","}","}","else","{","jj","=","jj","*","cQ","+","ad",";","if","(","clamp","(","jj",",","0.0",",","1.0",")","!=","jj",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","jf",",","jj",")",";","}","}","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","jp","=","GLSL_TEXTURE","(","u_sampler_left",",","n",")",";","vec4","jq","=","GLSL_TEXTURE","(","u_sampler_right",",","n",")",";","vec3","jr","=","vec3","(","jp","[","0","]",",","jp","[","1","]",",","jp","[","2","]",")",";","cb","(","jr",")",";","vec3","js","=","vec3","(","jq","[","0","]",",","jq","[","1","]",",","jq","[","2","]",")",";","cb","(","js",")",";","mat3","jt","=","mat3","(","0.437",",","-","0.062",",","-","0.048",",","0.449",",","-","0.062",",","-","0.050",",","0.164",",","-","0.024",",","-","0.017",")",";","mat3","ju","=","mat3","(","-","0.011",",","0.377",",","-","0.026",",","-","0.032",",","0.761",",","-","0.093",",","-","0.007",",","0.009",",","1.234",")",";","vec3","aK","=","clamp","(","jt","*","jr",",","0.0",",","1.0",")","+","clamp","(","ju","*","js",",","0.0",",","1.0",")",";","aQ","(","aK",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aK",",","jp","[","3","]","+","jq","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_enable_hmd_stereo","!=","0",")","{","if","(","n","[","0","]","<","0.5",")","{","vec2","bI","=","vec2","(","2.0","*","n","[","0","]",",","n","[","1","]",")",";","vec2","ad","=","vec2","(","0.5","-","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cQ","=","2.0","*","u_distortion_params","[","3","]",";","jo","(","bI",",","ad",",","cQ",",","u_sampler_left",")",";","}","else","{","vec2","bI","=","vec2","(","2.0","*","(","n","[","0","]","-","0.5",")",",","n","[","1","]",")",";","vec2","ad","=","vec2","(","0.5","+","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cQ","=","2.0","*","u_distortion_params","[","3","]",";","jo","(","bI",",","ad",",","cQ",",","u_sampler_right",")",";","}","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_left",",","n",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/velocity.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","mat4","u_view_proj_inverse",";","uniform","mat4","u_view_proj_prev",";","GLSL_IN","vec2","n",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","fO","=","GLSL_TEXTURE","(","u_depth",",","n",")",".","x",";","vec4","jv","=","vec4","(","n","*","2.0","-","1.0",",","2.0","*","fO","-","1.0",",","1.0",")",";","vec4","ch","=","u_view_proj_inverse","*","jv",";","vec4","jw","=","ch","/","ch",".","w",";","vec4","jx","=","u_view_proj_prev","*","jw",";","jx","/=","jx",".","w",";","vec2","cW","=","(","jv",".","xy","-","jx",".","xy",")","/","4.0","+","0.5",";","cW","=","clamp","(","cW",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","fT","(","cW",")",";","}"]}]},exports["include/blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"BLENDING_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec3","jz","(","vec3","rgb",")","{","vec4","jy","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","jy",".","wz",")",",","vec4","(","rgb",".","gb",",","jy",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dj","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hR","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dj","+","hR",")",")",",","dj","/","(","q",".","x","+","hR",")",",","q",".","x",")",";","}","vec3","jB","(","vec3","jA",")","{","vec4","jy","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","jA",".","r",",","jA",".","r",",","jA",".","r",")","+","jy",".","xyz",")","*","6.0","-","jy",".","www",")",";","return","jA",".","b","*","mix","(","jy",".","xxx",",","clamp","(","p","-","jy",".","xxx",",","_0_0",",","_1_0",")",",","jA",".","g",")",";","}","vec3","jF","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","mix","(","jC",",","jD",",","jE",")",";","}","vec3","jG","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","jE","*","jC","+","jD",";","}","vec3","jH","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","jD","-","jE","*","jC",";","}","vec3","jJ","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","float","jI","=","_1_0","-","jE",";","return","(","vec3","(","jI",")","+","jE","*","jC",")","*","jD",";","}","vec3","jK","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jI","=","vec3","(","_1_0","-","jE",")",";","return","vec3","(","_1_0",")","-","(","jI","+","jE","*","(","vec3","(","_1_0",")","-","jC",")",")","*","(","vec3","(","_1_0",")","-","jD",")",";","}","vec3","jL","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jI","=","vec3","(","_1_0","-","jE",")",";","return","mix","(","jD","*","(","jI","+","2.0","*","jE","*","jC",")",",","vec3","(","_1_0",")","-","(","jI","+","2.0","*","jE","*","(","vec3","(","_1_0",")","-","jC",")",")","*","(","vec3","(","_1_0",")","-","jD",")",",","step","(","0.5",",","jD",")",")",";","}","vec3","jM","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","mix","(","jD",",","abs","(","jC","-","jD",")",",","jE",")",";","}","vec3","jN","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","mix","(","jD",",","jD","/","(","jC","+","step","(","jC",",","vec3","(","_0_0",")",")",")",",","jE",")",";","}","vec3","jO","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","mix","(","jD",",","min","(","jC",",","jD",")",",","jE",")",";","}","vec3","jP","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","max","(","jE","*","jC",",","jD",")",";","}","vec3","jT","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jQ","=","jz","(","jD",")",";","if","(","jQ",".","y","!=","_0_0",")","{","vec3","jR","=","jz","(","jC",")",";","vec3","jS","=","jB","(","vec3","(","jQ",".","x",",","jR",".","yz",")",")",";","return","mix","(","jC",",","jS",",","jE",")",";","}","return","jC",";","}","vec3","jU","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jQ","=","jz","(","jC",")",";","if","(","jQ",".","y","!=","_0_0",")","{","vec3","jR","=","jz","(","jD",")",";","return","jB","(","vec3","(","jQ",".","x",",","mix","(","jQ",".","y",",","jR",".","y",",","jE",")",",","jQ",".","z",")",")",";","}","return","jC",";","}","vec3","jV","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jQ","=","jz","(","jC",")",";","vec3","jR","=","jz","(","jD",")",";","return","jB","(","vec3","(","jQ",".","xy",",","mix","(","jQ",".","z",",","jR",".","z",",","jE",")",")",")",";","}","vec3","jW","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jQ","=","jz","(","jD",")",";","if","(","jQ",".","y","!=","_0_0",")","{","vec3","jR","=","jz","(","jC",")",";","vec3","jS","=","jB","(","vec3","(","jQ",".","xy",",","jR",".","z",")",")",";","return","mix","(","jC",",","jS",",","jE",")",";","}","return","jC",";","}","vec3","jY","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","vec3","jX","=","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","jD",")","*","(","vec3","(","_1_0",")","-","jC",")",";","return","mix","(","jC",",","(","(","vec3","(","_1_0",")","-","jC",")","*","jD","*","jC",")","+","jC","*","jX",",","jE",")",";","}","vec3","jZ","(","vec3","jC",",","vec3","jD",",","float","jE",")","{","return","jC","+","jE","*","(","2.0","*","jD","-","_1_0",")",";","}","float","kc","(","float","j_",",","float","ka",",","float","jE",",","float","kb",")","{","float","jI","=","_1_0","-","kb",";","return","(","jI","+","jE","*","j_",")","*","ka",";","}","float","kd","(","float","j_",",","float","ka",",","float","jE",",","float","kb",")","{","float","jI","=","_1_0","-","kb",";","return","_1_0","-","(","jI","+","jE","*","(","_1_0","-","j_",")",")","*","(","_1_0","-","ka",")",";","}","float","ke","(","float","j_",",","float","ka",",","float","jE",",","float","kb",")","{","float","jI","=","_1_0","-","kb",";","return","mix","(","ka","*","(","jI","+","2.0","*","jE","*","j_",")",",","_1_0","-","(","jI","+","2.0","*","jE","*","(","_1_0","-","j_",")",")","*","(","_1_0","-","ka",")",",","step","(","0.5",",","ka",")",")",";","}"]}]}}]}]},exports["include/caustics.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"CAUSTICS_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"CAUSTICS_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"SUN_NUM",TOKENS:["0"]},{TYPE:"var",NAME:"CAUST_SCALE",TOKENS:["0.25"]},{TYPE:"var",NAME:"CAUST_SPEED",TOKENS:["vec2","(","0.0",")"]},{TYPE:"var",NAME:"CAUST_BRIGHT",TOKENS:["0.5"]},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"CAUSTICS_VIEW_DISTANCE",TOKENS:["100.0"]},{TYPE:"txt",TOKENS:["void","bw","(","inout","vec3","aK",",","float","kf",",","float","eO",",","vec4","bv",",","vec3","Q",",","vec3","kg",",","vec3","kh",",","vec4","ki",",","vec3","bi",",","float","bt",")","{","if","(","bt",">","CAUSTICS_VIEW_DISTANCE",")","return",";","vec3","kj","=","bi","+","Q",";","kj",".","xz","=","10.0","*","sin","(","0.1","*","kj",".","xz",")",";","vec3","kl","=","P","(","kk","(","ki",")",",","kj",")",";","vec2","bI","=","kl",".","xz",";","vec3","km","=","kg",";","float","kn","=","max","(","dot","(","Q",",","km",")",",","0.0",")",";","float","ko","=","0.025",";","vec2","kp","=","CAUST_SPEED","*","eO",";","bI",".","s","+=","0.25","*","sin","(","dot","(","bi","+","eO",",","vec3","(","1.0",")",")",")",";","bI",".","t","+=","0.35","*","(","-","sin","(","dot","(","bi","-","eO",",","vec3","(","-","0.7",")",")",")",")",";","bI",".","st","+=","0.15","*","cos","(","4.0","*","kf","-","kp",".","x",")","+","1.5","*","sin","(","kf","-","0.3","*","kp",".","y",")",";","float","hl","=","CAUST_SCALE","*","(","1.0","+","max","(","0.1","*","kf",",","0.0",")",")",";","vec3","kr","=","kq","(","(","bI","/","hl",")",",","ko",")",";","kr","*=","CAUST_BRIGHT",";","kr","*=","kr",";","float","ks","=","min","(","0.25","*","kf",",","-","kf",")","+","1.0",";","ks","=","max","(","ks",",","0.0",")",";","float","kt","=","bv","[","SUN_NUM","]","*","kn",";","float","ku","=","max","(","sign","(","kf",")",",","0.0",")",";","kt","=","kt","+","max","(","0.5","*","sign","(","-","Q",".","y",")","*","ku",",","0.0",")",";","kt","=","min","(","kt",",","1.0",")",";","aK","+=","kh","*","kr","*","ks","*","kt",";","}"]}]}}]}]},exports["include/color_util.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"COLOR_UTIL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"COLOR_UTIL_GLSLF",TOKENS:[""]},{TYPE:"define",NAME:"PREMULTIPLY_ALPHA",TOKENS:["1"]},{TYPE:"var",NAME:"SRGB",TOKENS:["SRGB_NONE"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["void","cb","(","inout","float","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","pow","(","aK",",","2.2",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","aK","<=","0.04045",")","aK","=","aK","/","12.92",";","else","aK","=","pow","(","aK","+","0.055","/","1.055",",","2.4",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aQ","(","inout","float","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","pow","(","aK",",","2.2",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","aK","<=","0.00031308",")","aK","=","aK","*","12.92",";","else","aK","=","1.055","*","pow","(","aK",",","1.0","/","2.4",")","-","0.055",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","cb","(","inout","vec3","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","pow","(","aK",",","vec3","(","2.2",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cb","(","aK",".","r",")",";","cb","(","aK",".","g",")",";","cb","(","aK",".","b",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aQ","(","inout","vec3","aK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","pow","(","aK",",","vec3","(","1.0","/","2.2",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","(","aK",".","r",")",";","aQ","(","aK",".","g",")",";","aQ","(","aK",".","b",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aR","(","inout","vec3","aK",",","in","float","L",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PREMULTIPLY_ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aK","=","aK","*","L",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","fu","(","vec4","aK",")","{","vec3","kv","=","vec3","(","0.299",",","0.587",",","0.114",")",";","float","kw","=","dot","(","aK",".","rgb",",","kv",")",";","return","kw",";","}"]}]}}]}]},exports["include/depth_fetch.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DEPTH_FETCH_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DEPTH_FETCH_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["float","fN","(","in","sampler2D","kx",",","in","vec2","fn",",","in","vec2","ky",")","{","float","fO","=","GLSL_TEXTURE","(","kx",",","fn",")",".","r",";","float","dn","=","ky",".","x",";","float","kz","=","ky",".","y",";","float","kA","=","2.0","*","dn","/","(","dn","+","kz","-","(","2.0","*","fO","-","1.0",")","*","(","kz","-","dn",")",")",";","return","kA",";","}"]}]}}]}]},exports["include/dynamic_grass.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DYNAMIC_GRASS_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DYNAMIC_GRASS_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["vec2","kE","(","vec3","O",",","float","kB",",","vec2","kC",")","{","vec2","kD","=","vec2","(","(","O",".","x","-","kC",".","x",")","/","kB",",","(","O",".","y","-","kC",".","y",")","/","kB",")",";","return","fract","(","kD",")",";","}","vec2","kF","(","vec2","gm",",","float","kB",",","vec2","kC",")","{","return","vec2","(","gm",".","x","*","kB",",","gm",".","y","*","kB",")","+","kC",";","}","ak","kG","(",")","{","return","ak","(","vec3","(","-","10000.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",")",";","}","ak","aT","(","vec3","O",",","vec3","R",",","vec3","kH",",","vec3","S",",","vec3","Q",",","vec3","ad",",","PRECISION","sampler2D","kI",",","sampler2D","kJ",",","vec3","kK",",","float","kL",",","vec3","kM",",","vec4","kN",",","mat3","N",")","{","vec3","kO","=","P","(","kN",",","vec3","(","0.0",",","0.0",",","-","1.0",")",")",";","float","kP","=","-","kO",".","x",";","float","kQ","=","kO",".","y",";","vec2","kC","=","vec2","(","kM",".","x","-","kL","*","(","1.0","+","kP",")","/","2.0",",","kM",".","y","-","kL","*","(","1.0","-","kQ",")","/","2.0",")",";","vec2","kR","=","kE","(","ad",",","kL",",","kC",")",";","float","kS","=","kL","/","2.0",";","vec2","kT","=","abs","(","kF","(","kR","-","vec2","(","0.5",")",",","kL",",","vec2","(","0.0",")",")",")",";","float","kU","=","kS","*","(","1.0","+","sqrt","(","2.0",")",")","/","2.0",";","if","(","length","(","kT",")",">","kU",")","return","kG","(",")",";","float","kV","=","kL","/","kK",".","z",";","vec2","kW","=","(","kR","-","vec2","(","0.5",")",")","*","kV","+","vec2","(","0.5",")",";","vec3","kX","=","kO","*","(","kL","/","kK",".","z","-","1.0",")","/","2.0",";","kW",".","x","+=","kX",".","x",";","kW",".","y","+=","kX",".","y",";","vec4","kY","=","GLSL_TEXTURE","(","kJ",",","kW",")",";","float","hl","=","kY",".","r",";","if","(","hl","<","u_scale_threshold",")","return","kG","(",")",";","float","kZ","=","kK",".","y","-","kK",".","x",";","float","bR","=","kK",".","y","-","GLSL_TEXTURE","(","kI",",","kW",")",".","r","*","kZ",";","vec2","k_","=","O",".","xy","-","ad",".","xy",";","ad",".","xy","=","kF","(","kR",",","kL",",","kC",")",";","ad",".","z","=","bR",";","O",".","xy","=","ad",".","xy","+","k_",";","O",".","z","*=","hl",";","O",".","z","+=","bR",";","vec3","aK","=","kY",".","gba",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","-=","ad",";","mat3","la","=","ai","(","kM",",","ad",",","N",")",";","ak","am","=","al","(","O",",","ad",",","R",",","kH",",","S",",","Q",",","la",")",";","am",".","ad","=","ad",";","am",".","aK","=","aK",";","return","lb","(","am",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lb","(","ak","(","O",",","ad",",","R",",","kH",",","S",",","Q",",","aK",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/environment.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"ENVIRONMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"ENVIRONMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","ci","(","vec3","Q",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","Q",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["SKY_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","lc","=","0.5","*","Q",".","z","+","0.5",";","return","mix","(","u_horizon_color",",","u_zenith_color",",","lc",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fog.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FOG_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FOG_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"FOG_TYPE",TOKENS:["QUADRATIC"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lh","(","inout","vec3","aK",",","in","float","ld",",","in","float","bR",",","in","vec4","le",")","{","float","lf","=","clamp","(","(","ld","-","u_fog_params",".","z",")","/","u_fog_params",".","y",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOG_TYPE","QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lf","*=","lf",";"]}]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","LINEAR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","INVERSE_QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lf","=","sqrt","(","lf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","u_fog_params",".","w",">","0.0",")","{","if","(","bR",">","u_fog_params",".","w",")","lf","=","0.0",";","else","{","float","lg","=","(","u_fog_params",".","w","-","max","(","bR",",","0.0",")",")","/","u_fog_params",".","w",";","lf","*=","lg","*","lg",";","}","}","le",".","a","=","1.0","-","(","1.0","-","lf",")","*","(","1.0","-","u_fog_params",".","x",")",";","aK","=","mix","(","aK",",","le",".","rgb",",","le",".","a",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","lm","(","in","mat4","li",",","in","vec3","u",")","{","vec3","lj","=","mix","(","li","[","0","]",".","rgb",",","li","[","1","]",".","rgb",",","max","(","sign","(","u",".","x",")",",","0.0",")",")",";","vec3","lk","=","mix","(","li","[","2","]",".","rgb",",","li","[","3","]",".","rgb",",","max","(","sign","(","u",".","z",")",",","0.0",")",")",";","vec3","ll","=","vec3","(","li","[","0","]",".","a",",","li","[","1","]",".","a",",","li","[","2","]",".","a",")",";","vec3","aK","=","mix","(","lj",",","lk",",","abs","(","u",".","z",")",")",";","aK","=","mix","(","aK",",","ll",",","abs","(","u",".","y",")",")",";","cb","(","aK",")",";","return","aK",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lo","(","inout","float","ln",")","{","ln","-=","0.5",";","ln","=","4.0","*","(","ln","*","ln","*","ln",")","+","0.5",";","}","void","lu","(","inout","vec3","aK",",","in","float","ld",",","in","vec3","u",",","in","float","dS",",","in","vec4","lp",",","in","float","eF",")","{","float","lq","=","max","(","u",".","z",",","0.0",")",";","float","lr","=","max","(","ld","-","max","(","dS","/","lq",",","0.0",")",",","0.0",")",";","float","ls","=","lp",".","w","*","lr",";","vec3","dT","=","vec3","(","0.0",",","0.02",",","0.05",")",";","vec3","lt","=","lp",".","rgb",";","ls","=","min","(","ls",",","1.0",")",";","lo","(","ls",")",";","ls","*=","clamp","(","2.0","-","eF",",","0.0",",","1.0",")",";","vec3","dU","=","mix","(","lt",",","dT",",","min","(","lq",",","1.0",")",")",";","dS","=","clamp","(","-","dS","*","0.03",",","0.0",",","0.8",")",";","dU","*=","1.0","-","dS",";","aK","=","mix","(","aK",",","dU",",","ls",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","bx","(","inout","vec3","aK",",","float","ld",",","vec3","u",",","float","bu",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","li","=","lm","(","u_cube_fog",",","u",")",";","vec4","dU","=","vec4","(","li",",","u_fog_color_density",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","dU","=","u_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["lh","(","aK",",","ld",",","c",".","z",",","dU",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lu","(","aK",",","ld",",","u",",","u_cam_water_depth",",","u_underwater_fog_color_density",",","bu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fxaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"FXAA_BLEND4WEB",TOKENS:["1"]},{TYPE:"var",NAME:"FXAA_QUALITY_P12",TOKENS:["0.0"]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PS3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PS3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360_OPT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360_OPT",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC_CONSOLE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC_CONSOLE",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_120",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_120",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_130",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_130",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_4",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_5",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GREEN_AS_LUMA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_EARLY_EXIT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_EARLY_EXIT",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_DISCARD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_DISCARD",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_EXT_gpu_shader4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_HLSL_5",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["4.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["2.0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.125"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.25"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_QUALITY_PRESET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",10,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",11,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",12,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",13,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",14,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",15,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",20,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",21,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",22,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",23,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",24,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",25,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",26,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["9"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",27,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["10"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",28,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["11"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",29,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",39,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["float","lv","(","float","x",")","{","return","clamp","(","x",",","0.0",",","1.0",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lw","(","sampler2D","t",",","vec2","p",")","{","return","GLSL_TEXTURE","(","t",",","p",")",";","}","vec4","ly","(","sampler2D","t",",","vec2","p",",","vec2","lx",",","vec2","r",")","{","return","GLSL_TEXTURE","(","t",",","p","+","(","lx","*","r",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","fJ","(","vec2","eH",",","sampler2D","hr",",","vec2","lz",",","float","lA",",","float","lB",",","float","lC",")","{","vec2","lD",";","lD",".","x","=","eH",".","x",";","lD",".","y","=","eH",".","y",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lE","=","lw","(","hr",",","lD",")",";","float","fv","=","fu","(","lE",")",";","float","lF","=","fu","(","ly","(","hr",",","lD",",","vec2","(","0",",","1",")",",","lz",".","xy",")",")",";","float","lG","=","fu","(","ly","(","hr",",","lD",",","vec2","(","1",",","0",")",",","lz",".","xy",")",")",";","float","lH","=","fu","(","ly","(","hr",",","lD",",","vec2","(","0",",","-","1",")",",","lz",".","xy",")",")",";","float","lI","=","fu","(","ly","(","hr",",","lD",",","vec2","(","-","1",",","0",")",",","lz",".","xy",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","lJ","=","max","(","lF",",","fv",")",";","float","lK","=","min","(","lF",",","fv",")",";","float","lL","=","max","(","lG",",","lJ",")",";","float","lM","=","min","(","lG",",","lK",")",";","float","lN","=","max","(","lH",",","lI",")",";","float","lO","=","min","(","lH",",","lI",")",";","float","lP","=","max","(","lN",",","lL",")",";","float","lQ","=","min","(","lO",",","lM",")",";","float","lR","=","lP","*","lB",";","float","lS","=","lP","-","lQ",";","float","lT","=","max","(","lC",",","lR",")",";","bool","lU","=","lS","<","lT",";","if","(","lU",")","return","lE",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fw","=","fu","(","ly","(","hr",",","lD",",","vec2","(","-","1",",","-","1",")",",","lz",".","xy",")",")",";","float","fz","=","fu","(","ly","(","hr",",","lD",",","vec2","(","1",",","1",")",",","lz",".","xy",")",")",";","float","fx","=","fu","(","ly","(","hr",",","lD",",","vec2","(","1",",","-","1",")",",","lz",".","xy",")",")",";","float","fy","=","fu","(","ly","(","hr",",","lD",",","vec2","(","-","1",",","1",")",",","lz",".","xy",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[]}}]},{TYPE:"txt",TOKENS:["float","lV","=","lH","+","lF",";","float","lW","=","lI","+","lG",";","float","lX","=","1.0","/","lS",";","float","lY","=","lV","+","lW",";","float","lZ","=","(","-","2.0","*","fv",")","+","lV",";","float","l_","=","(","-","2.0","*","fv",")","+","lW",";","float","ma","=","fx","+","fz",";","float","mb","=","fw","+","fx",";","float","mc","=","(","-","2.0","*","lG",")","+","ma",";","float","md","=","(","-","2.0","*","lH",")","+","mb",";","float","me","=","fw","+","fy",";","float","mf","=","fy","+","fz",";","float","mg","=","(","abs","(","lZ",")","*","2.0",")","+","abs","(","mc",")",";","float","mh","=","(","abs","(","l_",")","*","2.0",")","+","abs","(","md",")",";","float","mi","=","(","-","2.0","*","lI",")","+","me",";","float","mj","=","(","-","2.0","*","lF",")","+","mf",";","float","mk","=","abs","(","mi",")","+","mg",";","float","ml","=","abs","(","mj",")","+","mh",";","float","mm","=","me","+","ma",";","float","mn","=","lz",".","x",";","bool","mo","=","mk",">=","ml",";","float","mp","=","lY","*","2.0","+","mm",";","if","(","!","mo",")","lH","=","lI",";","if","(","!","mo",")","lF","=","lG",";","if","(","mo",")","mn","=","lz",".","y",";","float","mq","=","(","mp","*","(","1.0","/","12.0",")",")","-","fv",";","float","mr","=","lH","-","fv",";","float","ms","=","lF","-","fv",";","float","mt","=","lH","+","fv",";","float","mu","=","lF","+","fv",";","bool","mv","=","abs","(","mr",")",">=","abs","(","ms",")",";","float","mw","=","max","(","abs","(","mr",")",",","abs","(","ms",")",")",";","if","(","mv",")","mn","=","-","mn",";","float","mx","=","lv","(","abs","(","mq",")","*","lX",")",";","vec2","my",";","my",".","x","=","lD",".","x",";","my",".","y","=","lD",".","y",";","vec2","mz",";","mz",".","x","=","(","!","mo",")","?","0.0",":","lz",".","x",";","mz",".","y","=","(","mo",")","?","0.0",":","lz",".","y",";","if","(","!","mo",")","my",".","x","+=","mn","*","0.5",";","if","(","mo",")","my",".","y","+=","mn","*","0.5",";","vec2","mA",";","mA",".","x","=","my",".","x","-","mz",".","x","*","FXAA_QUALITY_P0",";","mA",".","y","=","my",".","y","-","mz",".","y","*","FXAA_QUALITY_P0",";","vec2","mB",";","mB",".","x","=","my",".","x","+","mz",".","x","*","FXAA_QUALITY_P0",";","mB",".","y","=","my",".","y","+","mz",".","y","*","FXAA_QUALITY_P0",";","float","mC","=","(","(","-","2.0",")","*","mx",")","+","3.0",";","float","mD","=","fu","(","lw","(","hr",",","mA",")",")",";","float","mE","=","mx","*","mx",";","float","mF","=","fu","(","lw","(","hr",",","mB",")",")",";","if","(","!","mv",")","mt","=","mu",";","float","mG","=","mw","*","1.0","/","4.0",";","float","mH","=","fv","-","mt","*","0.5",";","float","mI","=","mC","*","mE",";","bool","mJ","=","mH","<","0.0",";","mD","-=","mt","*","0.5",";","mF","-=","mt","*","0.5",";","bool","mK","=","abs","(","mD",")",">=","mG",";","bool","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P1",";","bool","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P1",";","if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P2",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P2",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P3",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P3",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",4,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P4",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P4",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",5,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P5",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",6,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P6",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P6",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",7,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P7",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P7",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",8,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P8",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P8",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",9,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P9",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P9",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",10,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P10",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P10",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",11,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P11",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P11",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",12,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mM",")","{","if","(","!","mK",")","mD","=","fu","(","lw","(","hr",",","mA",".","xy",")",")",";","if","(","!","mL",")","mF","=","fu","(","lw","(","hr",",","mB",".","xy",")",")",";","if","(","!","mK",")","mD","=","mD","-","mt","*","0.5",";","if","(","!","mL",")","mF","=","mF","-","mt","*","0.5",";","mK","=","abs","(","mD",")",">=","mG",";","mL","=","abs","(","mF",")",">=","mG",";","if","(","!","mK",")","mA",".","x","-=","mz",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mK",")","mA",".","y","-=","mz",".","y","*","FXAA_QUALITY_P12",";","mM","=","(","!","mK",")","||","(","!","mL",")",";","if","(","!","mL",")","mB",".","x","+=","mz",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mL",")","mB",".","y","+=","mz",".","y","*","FXAA_QUALITY_P12",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}","float","mN","=","lD",".","x","-","mA",".","x",";","float","mO","=","mB",".","x","-","lD",".","x",";","if","(","!","mo",")","mN","=","lD",".","y","-","mA",".","y",";","if","(","!","mo",")","mO","=","mB",".","y","-","lD",".","y",";","bool","mP","=","(","mD","<","0.0",")","!=","mJ",";","float","mQ","=","(","mO","+","mN",")",";","bool","mR","=","(","mF","<","0.0",")","!=","mJ",";","float","mS","=","1.0","/","mQ",";","bool","mT","=","mN","<","mO",";","float","mU","=","min","(","mN",",","mO",")",";","bool","mV","=","mT","?","mP",":","mR",";","float","mW","=","mI","*","mI",";","float","mX","=","(","mU","*","(","-","mS",")",")","+","0.5",";","float","mY","=","mW","*","lA",";","float","mZ","=","mV","?","mX",":","0.0",";","float","m_","=","max","(","mZ",",","mY",")",";","if","(","!","mo",")","lD",".","x","+=","m_","*","mn",";","if","(","mo",")","lD",".","y","+=","m_","*","mn",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_DISCARD",1,{TYPE:"equal_expr",PLACES:2},"FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lw","(","hr",",","lD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","lw","(","hr",",","lD",")",".","xyz",",","fv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/halo_color.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"HALO_COLOR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"HALO_COLOR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"NUM_RINGS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LINES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","na","=","NUM_RINGS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","na","=","NUM_LINES",";"]}]}}]},{TYPE:"txt",TOKENS:["float","nb","(","float","x",")","{","return","x","-","floor","(","x","*","(","1.0","/","0.01",")",")","*","0.01",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","ni","(","inout","float","nc",",","in","float","nd","[","na","]",",","in","float","ne",")","{","for","(","int","a","=","0",";","a","<","NUM_RINGS",";","a","++",")","{","float","nf","=","40.0","*","nd","[","a","]",";","float","ng","=","300.0","*","(","nb","(","nf",")","-","0.005",")",";","float","nh","=","nf",";","float","lf","=","abs","(","nh","*","(","u_halo_size","*","ng","-","ne",")",")",";","nc","+=","1.0","-","min","(","lf",",","1.0",")",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nn","(","inout","float","nj",",","in","float","nd","[","na","]",",","in","float","aG",")","{","for","(","int","a","=","0",";","a","<","NUM_LINES",";","a","++",")","{","float","nk","=","nd","[","a","]",";","float","nl","=","nk",";","float","nm","=","1000.0","*","(","nb","(","nk",")","-","0.005",")",";","float","lf","=","20.0","*","abs","(","nl","*","n",".","x","+","nm","*","n",".","y",")",";","nj","+=","1.0","-","min","(","lf",",","1.0",")",";","}","nj","*=","aG",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","nr","(","inout","float","aG",",","in","vec2","bI",")","{","float","no",",","bp",";","bp","=","atan","(","bI",".","y",",","bI",".","x",")",";","bp","*=","(","1.0","+","0.25","*","float","(","NUM_STARS",")",")",";","float","np","=","cos","(","bp",")",";","float","nq","=","sin","(","bp",")",";","bp","=","(","np","*","bI",".","x","+","nq","*","bI",".","y",")","*","(","np","*","bI",".","y","-","nq","*","bI",".","x",")",";","no","=","abs","(","bp",")",";","if","(","no","<","1.0",")","{","no","=","(","0.01","*","u_halo_size",")","/","(","no",")",";","aG","*=","sqrt","(","min","(","no",",","1.0",")",")",";","}","}","vec4","aZ","(",")","{","float","aG","=","(","n",".","x","*","n",".","x","+","n",".","y","*","n",".","y",")",";","float","ne","=","sqrt","(","aG",")",";","aG","=","max","(","1.0","-","aG",",","0.0",")",";","aG","=","pow","(","aG",",","u_halo_hardness",")",";","float","L","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nd","[","na","]",";","for","(","int","bU","=","0",";","bU","<","na",";","bU","++",")","{","nd","[","bU","]","=","fract","(","aY","/","float","(","bU","+","1",")",")","-","1.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nc","=","0.0",";","ni","(","nc",",","nd",",","ne",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nj","=","0.0",";","nn","(","nj",",","nd",",","aG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nr","(","aG",",","n",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aG","*=","L",";","vec3","aK","=","u_diffuse_color",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nc","*=","aG",";","aK","+=","u_halo_rings_color","*","nc",";","aG","+=","nc",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nj","*=","L",";","aK","+=","u_halo_lines_color","*","nj",";","aG","+=","nj",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","*=","max","(","1.0","-","2.0","*","u_sun_intensity",".","x",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ks","=","u_halo_stars_blend","*","(","aX",".","y","-","u_halo_stars_height",")",";","aG","*=","clamp","(","ks",",","0.0",",","1.0",")",";","aG","*=","min","(","u_cam_water_depth","+","2.0","*","WAVES_HEIGHT",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","ns","=","vec4","(","aK",",","aG",")",";","return","ns",";","}"]}]}}]}]},exports["include/lighting_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"LIGHTING_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"LIGHTING_NODES_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"node",NAME:"LIGHTING_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"nF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nI",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nK",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nL",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nM",QUALIFIER:["vec4"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nN",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nO",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["nF","=","nt",";","nG","=","nu",";","nH","=","nv",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nI"],STATEMENTS:[{TYPE:"txt",TOKENS:["nI","=","nw",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["nJ","=","ny",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nL"],STATEMENTS:[{TYPE:"txt",TOKENS:["nL","=","nz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nK"],STATEMENTS:[{TYPE:"txt",TOKENS:["nK","=","nA",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nM"],STATEMENTS:[{TYPE:"txt",TOKENS:["nM","=","nB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nN"],STATEMENTS:[{TYPE:"txt",TOKENS:["nN","=","nC",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nO"],STATEMENTS:[{TYPE:"txt",TOKENS:["nO","=","nD",";"]}]}]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nS",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nS","=","vec4","(","nP","+","nR","*","nQ",",","_0_0",")",";","nT","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nW","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["nX","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","*=","nU","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nZ","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","nV","=","nZ","-","nx",";","float","aG","=","length","(","nV",")",";","float","n_","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aG","*","aG",")",";","nV","=","normalize","(","nV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oa","=","u_light_directions","[","LAMP_IND","]",";","float","ob","=","dot","(","nV",",","oa",")",";","ob","*=","smoothstep","(","_0_0",",","_1_0",",","(","ob","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","n_","*=","ob",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["n_","*=","max","(","LAMP_LIGHT_DIST","-","aG",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]},{TYPE:"txt",TOKENS:["nX","*=","n_",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"od",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"of",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"og",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oc",",","o",".","xyz",")",";","oe","=","cross","(","oi",",","o",".","xyz",")",";","oe","=","-","normalize","(","oe",")",";"]}]}]},{TYPE:"txt",TOKENS:["oh","=","_0_0",";","if","(","od",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","of",")","*","dot","(","oe",",","oc",")","+","of",";","if","(","og","[","0","]","==","_0_0",")","{","oh","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","oj",")",";","t","=","og","[","1","]","+","(","_1_0","-","og","[","1","]",")","*","pow","(","t",",","og","[","0","]",")",";","oh","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","oh","=","max","(","oh",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ok",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ol",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oo",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","ok",",","o",".","xyz",")",";","om","=","cross","(","oi",",","o",".","xyz",")",";","om","=","-","normalize","(","om",")",";"]}]}]},{TYPE:"txt",TOKENS:["oo","=","_0_0",";","if","(","ol",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","on",")","*","dot","(","om",",","ok",")","+","on",";","oo","=","max","(","oj",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"op",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"or",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"os",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ot",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ou",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","op",",","o",".","xyz",")",";","or","=","cross","(","oi",",","o",".","xyz",")",";","or","=","-","normalize","(","or",")",";"]}]}]},{TYPE:"txt",TOKENS:["ou","=","_0_0",";","if","(","oq",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","os",")","*","dot","(","or",",","op",")","+","os",";","if","(","ot","[","0","]",">","_0_0",")","{","float","ov","=","max","(","dot","(","or",",","v",")",",","_0_0",")",";","float","ow","=","ot","[","0","]","*","ot","[","0","]",";","float","ck","=","_1_0","-","_0_5","*","(","ow","/","(","ow","+","0.33",")",")",";","vec3","ox","=","op","-","oj","*","or",";","vec3","oy","=","v","-","ov","*","or",";","if","(","length","(","ox",")","==","_0_0","||","length","(","oy",")","==","_0_0","||","abs","(","oj",")",">","_1_0","||","abs","(","ov",")",">","_1_0",")","ou","=","oj","*","ck",";","else","{","float","oz","=","acos","(","oj",")",";","float","oA","=","acos","(","ov",")",";","vec3","oB","=","normalize","(","ox",")",";","vec3","oC","=","normalize","(","oy",")",";","float","a",",","b",";","a","=","max","(","oz",",","oA",")",";","b","=","min","(","oz",",","oA",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oB",",","oC",")",",","_0_0",")",";","float","oD","=","0.45","*","(","ow","/","(","ow","+","0.09",")",")",";","ou","=","oj","*","(","ck","+","(","oD","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","ou","=","oj",";","ou","=","max","(","ou",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oF",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oI",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oE",",","o",".","xyz",")",";","oG","=","cross","(","oi",",","o",".","xyz",")",";","oG","=","-","normalize","(","oG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oJ","=","_0_0",";","if","(","oF",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","oH",")","*","dot","(","oG",",","oE",")","+","oH",";","float","ov","=","max","(","dot","(","oG",",","v",")",",","_0_0",")",";","if","(","oI","[","0","]","<=","_1_0",")","oJ","=","oj","*","pow","(","max","(","ov","*","oj",",","0.1",")",",","oI","[","0","]","-","_1_0",")",";","else","oJ","=","oj","*","pow","(","1.0001","-","ov",",","oI","[","0","]","-","_1_0",")",";","oJ","=","max","(","oJ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oL",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oK",",","o",".","xyz",")",";","oM","=","cross","(","oi",",","o",".","xyz",")",";","oM","=","-","normalize","(","oM",")",";"]}]}]},{TYPE:"txt",TOKENS:["oP","=","_0_0",";","if","(","oL",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","oN",")","*","dot","(","oM",",","oK",")","+","oN",";","float","oQ","=","acos","(","oj",")",";","if","(","oQ","<","oO","[","0","]",")","oP","=","_1_0",";","else","if","(","oQ",">","(","oO","[","0","]","+","oO","[","1","]",")","||","oO","[","1","]","==","_0_0",")","oP","=","_0_0",";","else","oP","=","_1_0","-","(","(","oQ","-","oO","[","0","]",")","/","oO","[","1","]",")",";","oP","=","max","(","oP",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","_0_0",";","if","(","oS",".","g","!=","_0_0",")","{","vec3","oX","=","normalize","(","oR","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","oU","==","_0_0",")","{","oW","=","dot","(","o",".","xyz",",","oX",")",";","oW","=","sqrt","(","_1_0","-","oW","*","oW",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","(","_1_0","-","oU",")","*","max","(","dot","(","oT",",","oX",")",",","_0_0",")","+","oU",";"]}]}]},{TYPE:"txt",TOKENS:["oW","=","pow","(","oW",",","oV","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oZ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"o_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pc","=","_0_0",";","if","(","oZ",".","g","!=","_0_0",")","{","vec3","oX","=","normalize","(","oY","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pa","==","_0_0",")","{","pc","=","dot","(","o",".","xyz",",","oX",")",";","pc","=","sqrt","(","_1_0","-","pc","*","pc",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pc","=","max","(","dot","(","o_",",","oX",")",",","_0_0",")",";","pc","=","(","_1_0","-","pa",")","*","pc","+","pa",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ov","=","max","(","dot","(","o",".","xyz",",","v",")",",","_0_0",")",";","ov","=","sqrt","(","_1_0","-","ov","*","ov",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","ov","=","max","(","dot","(","o_",",","v",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pc","=","pow","(","pc",",","pb","[","0","]",")",";","pc","=","pc","/","(","0.1","+","ov",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pi","=","_0_0",";","if","(","pe",".","g","!=","_0_0",")","{","vec3","oX","=","normalize","(","pd","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","_0_0",";","float","ov","=","_0_0",";","float","pk","=","_0_0",";","if","(","pg","==","_0_0",")","{","pj","=","dot","(","o",".","xyz",",","oX",")",";","ov","=","dot","(","o",".","xyz",",","v",")",";","pk","=","dot","(","o",".","xyz",",","pd",")",";","pj","=","sqrt","(","_1_0","-","pj","*","pj",")",";","ov","=","sqrt","(","_1_0","-","ov","*","ov",")",";","pk","=","sqrt","(","_1_0","-","pk","*","pk",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","max","(","dot","(","pf",",","oX",")",",","0.01",")",";","float","ov","=","max","(","dot","(","pf",",","v",")",",","0.01",")",";","float","pk","=","max","(","dot","(","pf",",","pd",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bp","=","tan","(","acos","(","pj",")",")",";","float","L","=","max","(","ph","[","0","]",",","0.01",")",";","pi","=","pk","*","(","_1_0","/","(","4.0","*","M_PI","*","L","*","L",")",")","*","(","exp","(","-","(","bp","*","bp",")","/","(","L","*","L",")",")","/","(","sqrt","(","ov","*","pk",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pm",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pu","=","_0_0",";","if","(","pm",".","g","!=","_0_0",")","{","vec3","bS","=","normalize","(","pl","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pv","=","dot","(","bS",",","o",".","xyz",")",";","float","bp","=","pr","[","0","]","+","pr","[","1","]",";","if","(","po","==","_0_0",")","bp","=","acos","(","sqrt","(","_1_0","-","pv","*","pv",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bp","=","acos","(","dot","(","bS",",","pn",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bp","<","pr","[","0","]",")","pu","=","_1_0",";","else","if","(","bp",">=","pr","[","0","]","+","pr","[","1","]","||","pr","[","1","]","==","_0_0",")","pu","=","_0_0",";","else","pu","=","_1_0","-","(","bp","-","pr","[","0","]",")","/","pr","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"px",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"py",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pB","=","_0_0",";","if","(","px",".","g","!=","_0_0",")","{","if","(","pA","[","0","]","<","1.0","||","pA","[","1","]","==","_0_0",")","pB","=","_0_0",";","else","{","if","(","pA","[","1","]","<","100.0",")","pA","[","1","]","=","sqrt","(","1.0","/","pA","[","1","]",")",";","else","pA","[","1","]","=","10.0","/","pA","[","1","]",";","vec3","oX","=","normalize","(","v","+","pw",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","0.0",";","if","(","pz","==","_0_0",")","{","float","pC","=","dot","(","o",".","xyz",",","oX",")",";","pj","=","sqrt","(","_1_0","-","pC","*","pC",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","(","_1_0","-","pz",")","*","max","(","dot","(","py",",","oX",")",",","_0_0",")","+","pz",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","pj","<","_0_0",")","pB","=","_0_0",";","else","{","float","ov","=","max","(","dot","(","py",",","v",")",",","0.01",")",";","float","pk","=","dot","(","py",",","pw",")",";","if","(","pk","<=","0.01",")","pB","=","_0_0",";","else","{","float","pD","=","max","(","dot","(","v",",","oX",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","pj","*","ov",")","/","pD",";","float","de","=","(","2.0","*","pj","*","pk",")","/","pD",";","float","g","=","min","(","min","(","a",",","b",")",",","de",")",";","float","p","=","sqrt","(","pow","(","pA","[","0","]",",","2.0",")","+","pow","(","pD",",","2.0",")","-","_1_0",")",";","float","ln","=","pow","(","p","-","pD",",","2.0",")","/","pow","(","p","+","pD",",","2.0",")","*","(","_1_0","+","pow","(","pD","*","(","p","+","pD",")","-","_1_0",",","2.0",")","/","pow","(","pD","*","(","p","-","pD",")","+","_1_0",",","2.0",")",")",";","float","oQ","=","acos","(","pj",")",";","pB","=","max","(","ln","*","g","*","exp","(","-","pow","(","oQ",",","2.0",")","/","(","2.0","*","pow","(","pA","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pE",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pP",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pQ","=","pF","+","pN","*","pM","*","pH",";","pP","=","pE","+","vec4","(","pN","*","pL","*","pG",",","pH",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","pR",".","rgb",";","nE","=","pS",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","ct","(","vec3","nt",",","vec3","nu",",","vec3","nv",",","vec3","nw",",","vec3","nx",",","vec3","ny",",","vec3","v",",","vec2","nz",",","vec2","nA",",","vec4","nB",",","float","nC",",","vec4","nD",",","out","vec3","A",",","out","vec3","nE",")","{"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/math.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MATH_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MATH_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["struct","ak","{","vec3","O",";","vec3","ad",";","vec3","R",";","vec3","as",";","vec3","S",";","vec3","Q",";","vec3","aK",";","}",";","bool","em","(","vec3","a",",","vec3","b",")","{","return","any","(","lessThan","(","abs","(","a","-","b",")",",","vec3","(","EPSILON",")",")",")",";","}","vec3","P","(","in","vec4","q",",","in","vec3","kj",")","{","return","kj","+","2.0","*","cross","(","q",".","xyz",",","cross","(","q",".","xyz",",","kj",")","+","q",".","w","*","kj",")",";","}","vec4","kk","(","in","vec4","gJ",")","{","return","vec4","(","-","gJ",".","xyz",",","gJ",".","w",")",";","}","vec4","pT","(","in","vec4","a",",","in","vec4","b",")","{","vec4","gL",";","gL",".","x","=","a",".","x","*","b",".","w","+","a",".","w","*","b",".","x","+","a",".","y","*","b",".","z","-","a",".","z","*","b",".","y",";","gL",".","y","=","a",".","y","*","b",".","w","+","a",".","w","*","b",".","y","+","a",".","z","*","b",".","x","-","a",".","x","*","b",".","z",";","gL",".","z","=","a",".","z","*","b",".","w","+","a",".","w","*","b",".","z","+","a",".","x","*","b",".","y","-","a",".","y","*","b",".","x",";","gL",".","w","=","a",".","w","*","b",".","w","-","a",".","x","*","b",".","x","-","a",".","y","*","b",".","y","-","a",".","z","*","b",".","z",";","return","gL",";","}","vec4","cM","(","in","vec3","pU",",","in","float","pV",")","{","vec4","gL",";","pV","=","pV","*","0.5",";","float","s","=","sin","(","pV",")",";","gL",".","x","=","s","*","pU","[","0","]",";","gL",".","y","=","s","*","pU","[","1","]",";","gL",".","z","=","s","*","pU","[","2","]",";","gL",".","w","=","cos","(","pV",")",";","return","gL",";","}","vec4","pY","(","in","vec3","bj",",","in","vec3","pW",")","{","vec4","gL",";","float","dj","=","dot","(","pW",",","bj",")",";","vec3","pX","=","cross","(","pW",",","bj",")",";","gL",".","xyz","=","pX",".","xyz",";","gL",".","w","=","1.0","+","dj",";","return","normalize","(","gL",")",";","}","vec3","p_","(","vec4","pZ",",","vec4","gJ",",","vec3","gK",")","{","vec3","gL","=","gK","*","pZ",".","w",";","gL","=","P","(","gJ",",","gL",")",";","gL","+=","pZ",".","xyz",";","return","gL",";","}","vec3","ae","(","mat3","qa",",","vec3","gK",")","{","vec3","gL","=","gK","*","qa","[","1","]","[","0","]",";","vec4","gJ","=","vec4","(","qa","[","1","]","[","1","]",",","qa","[","1","]","[","2","]",",","qa","[","2","]","[","0","]",",","qa","[","2","]","[","1","]",")",";","gL","=","P","(","gJ",",","gL",")",";","gL","+=","qa","[","0","]",";","return","gL",";","}","vec3","qb","(","vec4","pZ",",","vec4","gJ",",","vec3","bj",")","{","vec3","gL","=","bj","*","pZ",".","w",";","gL","=","P","(","gJ",",","gL",")",";","return","gL",";","}","vec3","U","(","mat3","qa",",","vec3","bj",")","{","vec3","gL","=","bj","*","qa","[","1","]","[","0","]",";","vec4","gJ","=","vec4","(","qa","[","1","]","[","1","]",",","qa","[","1","]","[","2","]",",","qa","[","2","]","[","0","]",",","qa","[","2","]","[","1","]",")",";","gL","=","P","(","gJ",",","gL",")",";","return","gL",";","}","vec3","qc","(","vec4","pZ",",","vec4","gJ",",","vec3","gK",")","{","vec3","gL","=","gK","-","pZ",".","xyz",";","gL","=","P","(","kk","(","gJ",")",",","gL",")",";","gL","/=","pZ",".","w",";","return","gL",";","}","vec3","qd","(","vec4","pZ",",","vec4","gJ",",","vec3","bj",")","{","return","P","(","kk","(","gJ",")",",","bj",")","/","pZ",".","w",";","}","mat4","qe","(",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qf","(","float","bp",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","cos","(","bp",")",",","sin","(","bp",")",",","_0_0",",","_0_0",",","-","sin","(","bp",")",",","cos","(","bp",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qg","(","float","bp",")","{","return","mat4","(","cos","(","bp",")",",","_0_0",",","-","sin","(","bp",")",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","sin","(","bp",")",",","_0_0",",","cos","(","bp",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qh","(","float","bp",")","{","return","mat4","(","cos","(","bp",")",",","sin","(","bp",")",",","_0_0",",","_0_0",",","-","sin","(","bp",")",",","cos","(","bp",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","ak","lb","(","in","ak","kj",")","{","return","ak","(","kj",".","O",",","kj",".","ad",",","normalize","(","kj",".","R",")",",","normalize","(","kj",".","as",")",",","normalize","(","kj",".","S",")",",","normalize","(","kj",".","Q",")",",","kj",".","aK",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bG","(","vec4","at",")","{","float","au","=","at",".","x",";","float","av","=","at",".","y",";","float","aw","=","at",".","w",";","vec3","qi",";","qi",".","x","=","(","au","+","aw",")","/","2.0",";","qi",".","y","=","(","av","+","aw",")","/","2.0",";","qi",".","z","=","aw",";","return","qi",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cK","(",")","{","return","mat3","(","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",")",";","}","mat4","aV","(","mat3","t",")","{","mat4","qj",";","qj","[","0","]","[","0","]","=","(","_1_0","-","(","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qj","[","0","]","[","1","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qj","[","0","]","[","2","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qj","[","0","]","[","3","]","=","_0_0",";","qj","[","1","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","-","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qj","[","1","]","[","1","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qj","[","1","]","[","2","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qj","[","1","]","[","3","]","=","_0_0",";","qj","[","2","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qj","[","2","]","[","1","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qj","[","2","]","[","2","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")",")","*","t","[","1","]","[","0","]",";","qj","[","2","]","[","3","]","=","_0_0",";","qj","[","3","]","[","0","]","=","t","[","0","]","[","0","]",";","qj","[","3","]","[","1","]","=","t","[","0","]","[","1","]",";","qj","[","3","]","[","2","]","=","t","[","0","]","[","2","]",";","qj","[","3","]","[","3","]","=","1.0",";","return","qj",";","}","mat3","aS","(","in","mat3","qa",",","in","mat3","qk",")","{","mat3","gL",";","vec3","gK","=","qk","[","0","]",";","vec4","pZ","=","vec4","(","qa","[","0","]",",","qa","[","1","]","[","0","]",")",";","vec4","gJ","=","vec4","(","qa","[","1","]","[","1","]",",","qa","[","1","]","[","2","]",",","qa","[","2","]","[","0","]",",","qa","[","2","]","[","1","]",")",";","gL","[","0","]","=","p_","(","pZ",",","gJ",",","gK",")",";","gL","[","1","]","[","0","]","=","qa","[","1","]","[","0","]","*","qk","[","1","]","[","0","]",";","gL","[","1","]","[","1","]","=","qa","[","1","]","[","1","]","*","qk","[","2","]","[","1","]","+","qa","[","2","]","[","1","]","*","qk","[","1","]","[","1","]","+","qa","[","1","]","[","2","]","*","qk","[","2","]","[","0","]","-","qa","[","2","]","[","0","]","*","qk","[","1","]","[","2","]",";","gL","[","1","]","[","2","]","=","qa","[","1","]","[","2","]","*","qk","[","2","]","[","1","]","+","qa","[","2","]","[","1","]","*","qk","[","1","]","[","2","]","+","qa","[","2","]","[","0","]","*","qk","[","1","]","[","1","]","-","qa","[","1","]","[","1","]","*","qk","[","2","]","[","0","]",";","gL","[","2","]","[","0","]","=","qa","[","2","]","[","0","]","*","qk","[","2","]","[","1","]","+","qa","[","2","]","[","1","]","*","qk","[","2","]","[","0","]","+","qa","[","1","]","[","1","]","*","qk","[","1","]","[","2","]","-","qa","[","1","]","[","2","]","*","qk","[","1","]","[","1","]",";","gL","[","2","]","[","1","]","=","qa","[","2","]","[","1","]","*","qk","[","2","]","[","1","]","-","qa","[","1","]","[","1","]","*","qk","[","1","]","[","1","]","-","qa","[","1","]","[","2","]","*","qk","[","1","]","[","2","]","-","qa","[","2","]","[","0","]","*","qk","[","2","]","[","0","]",";","return","gL",";","}","mat3","cO","(","in","vec4","gJ",",","in","mat3","qa",")","{","mat3","gL",";","gL","[","0","]","=","qa","[","0","]",";","gL","[","1","]","[","0","]","=","qa","[","1","]","[","0","]",";","gL","[","1","]","[","1","]","=","gJ","[","0","]",";","gL","[","1","]","[","2","]","=","gJ","[","1","]",";","gL","[","2","]","[","0","]","=","gJ","[","2","]",";","gL","[","2","]","[","1","]","=","gJ","[","3","]",";","return","gL",";","}"]}]}}]}]},exports["include/mirror.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MIRROR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MIRROR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.1"]},{TYPE:"txt",TOKENS:["float","ql","(","in","vec3","u",",","vec3","ea",",","float","eg",",","float","ef",")","{","vec3","ed","=","normalize","(","ea","+","u",")",";","float","ee","=","1.0","-","dot","(","u",",","ed",")",";","float","r","=","ef","+","(","1.0","-","ef",")","*","pow","(","ee",",","eg",")",";","return","r",";","}","void","cu","(","inout","vec3","qm",",","vec3","u",",","vec3","Q",",","float","qn",",","mat3","N",")","{","vec3","ea","=","reflect","(","-","u",",","Q",")",";","float","eg","=","u_fresnel_params","[","2","]",";","float","ef","=","u_fresnel_params","[","3","]",";","float","r","=","1.0",";","if","(","eg","!=","0.0",")","r","=","ql","(","u",",","ea",",","eg",",","ef",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ec","=","GLSL_TEXTURE_CUBE","(","u_cube_reflection",",","ea",")",".","xyz",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qo","=","u_refl_plane",".","xyz","*","dot","(","Q",",","u_refl_plane",".","xyz",")",";","vec3","qr","=","Q","-","qo",";","vec2","qu","=","U","(","N",",","qr",")",".","xy",";","vec2","qv","=","h",".","xy","/","h",".","z",";","qv","+=","qu","*","REFL_BUMP",";","vec3","ec","=","GLSL_TEXTURE","(","u_plane_reflection",",","qv",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ec","=","vec3","(","1.0",")",";","qn","=","0.0",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ec","=","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","ea",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["cb","(","ec",".","rgb",")",";","qm","=","mix","(","qm",",","ec",",","qn","*","r",")",";","}"]}]}}]}]}}]}]},exports["include/nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"INVERT_FRONTFACING",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"HAS_REFRACT_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"shadow.glslf"},{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","qw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qz","(","in","vec3","qx",",","in","float","qy",")","{","vec3","eu","=","vec3","(","_0_0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eu","=","cw","(","h",",","qx",".","xy","*","qy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["HAS_REFRACT_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eu","=","GLSL_TEXTURE","(","u_refractmap",",","h",".","xy","/","h",".","z",")",".","rgb",";","cb","(","eu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","eu",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jz","(","vec3","rgb",")","{","vec4","jy","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","jy",".","wz",")",",","vec4","(","rgb",".","gb",",","jy",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dj","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hR","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dj","+","hR",")",")",",","dj","/","(","q",".","x","+","hR",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jB","(","vec3","jA",")","{","vec4","jy","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","jA",".","r",",","jA",".","r",",","jA",".","r",")","+","jy",".","xyz",")","*","6.0","-","jy",".","www",")",";","return","jA",".","b","*","mix","(","jy",".","xxx",",","clamp","(","p","-","jy",".","xxx",",","_0_0",",","_1_0",")",",","jA",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qA","(","vec2","gm",")","{","return","vec3","(","gm","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","qB","(","vec3","gK",")","{","return","vec2","(","gK",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"qU",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qV",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qW",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qU"],STATEMENTS:[{TYPE:"txt",TOKENS:["qU","=","normalize","(","qR",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qV"],STATEMENTS:[{TYPE:"txt",TOKENS:["qV","=","abs","(","qR",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qW"],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","length","(","qR",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"q_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["q_","=","vec3","(","qX",",","qY",",","qZ",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"re",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","jB","(","vec3","(","rc",",","rd",",","re",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ri",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ri","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qC",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rj","=","qA","(","qC",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rk","=","2.0","*","qw","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qD",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rl","=","max","(","vec3","(","_0_0",")",",","qD",")",";","cb","(","rl",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qE",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rm","=","max","(","_0_0",",","qE",")",";","cb","(","rm",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ro",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qF",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rn","=","max","(","_0_0",",","qF","[","0","]",")",";","ro","=","max","(","_0_0",",","qF","[","1","]",")",";","cb","(","rn",")",";","cb","(","ro",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qG",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rp","=","max","(","_0_0",",","qG","[","0","]",")",";","rq","=","max","(","_0_0",",","qG","[","1","]",")",";","rs","=","max","(","_0_0",",","qG","[","2","]",")",";","cb","(","rp",")",";","cb","(","rq",")",";","cb","(","rs",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","qP",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ru",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT_FRONTFACING"],STATEMENTS:[{TYPE:"txt",TOKENS:["ru","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["ru","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rv",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rv","=","-","U","(","F",",","v",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rw","[","0","]","=","qR","[","0","]",";","rw","[","1","]","=","qR","[","1","]",";","rw","[","2","]","=","qR","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rx","=","vec3","(","nx",".","r",",","nx",".","g",",","nx",".","b",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ry",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rF",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ry","=","vec3","(","_0_0",")",";","rz","=","vec3","(","_0_0",")",";","rA","=","vec3","(","_0_0",")",";","rB","=","vec3","(","_0_0",")",";","rC","=","vec3","(","_0_0",")",";","rD","=","vec3","(","_0_0",")",";","rE","=","_0_0",";","rF","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","jA","=","jz","(","rK",")",";","jA","[","0","]","+=","(","rG","-","_0_5",")",";","if","(","jA","[","0","]",">","_1_0",")","jA","[","0","]","-=","_1_0",";","else","if","(","jA","[","0","]","<","_0_0",")","jA","[","0","]","+=","_1_0",";","jA","*=","vec3","(","_1_0",",","rH",",","rI",")",";","jA","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","jA",",","step","(","vec3","(","_0_0",")",",","jA",")",")",",","step","(","jA",",","vec3","(","_1_0",")",")",")",";","rL","=","mix","(","rK",",","jB","(","jA",")",",","rJ",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","mix","(","rN",",","vec3","(","_1_0",")","-","rN",",","rM",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"rP",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rS",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rP"],STATEMENTS:[{TYPE:"txt",TOKENS:["rP","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec3","rT","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","rU","=","u_lamp_light_positions","[","LAMP_INDEX","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rQ","=","-","c","+","rU",";","rR","=","length","(","rQ",")",";","rQ","=","normalize","(","rQ",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rS"],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","rR","*","rR",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ob","=","dot","(","rQ",",","rT",")",";","ob","*=","smoothstep","(","_0_0",",","_1_0",",","(","ob","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","rS","*=","ob",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","*=","max","(","LAMP_LIGHT_DIST","-","rR",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["rQ","=","rT",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rR"],STATEMENTS:[{TYPE:"txt",TOKENS:["rR","=","length","(","rU","-","c",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rS"],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","=","_1_0",";"]}]}]}]}]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rW"],STATEMENTS:[{TYPE:"txt",TOKENS:["rW","=","qH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rX"],STATEMENTS:[{TYPE:"txt",TOKENS:["rX","=","-","dot","(","rV",",","qH",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rZ","=","-","U","(","F",",","rY",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"r_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"se",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","r_",";","sa",";","sb",";","sc",";","sd",";","se",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","sg",";","sh",";","si",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"so",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["so","=","sk",";","sl",";","sm",";","sn",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"su",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sw","=","sr",";","su",";","sv",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sB","=","sx",";","sy",";","sz",";","sA",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sD","=","sC",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sG","=","sE",";","sF",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sL","[","0","]","=","sL","[","1","]","=","sL","[","2","]","=","_0_0",";","sH",";","sI",";","sJ",";","sK",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sQ","=","sM",";","sN",";","sO",";","sP",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sU","=","sR",";","sS",";","sT",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"s_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ta",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ta","[","0","]","=","ta","[","1","]","=","ta","[","2","]","=","_0_0",";","sV",";","sX",";","sY",";","sZ",";","s_",";","sW",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"td",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["td","=","tb",";","tc",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"te",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tf","[","0","]","=","tf","[","1","]","=","tf","[","2","]","=","_0_0",";","te",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"tg",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tg","[","0","]","=","tg","[","1","]","=","tg","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"th",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ti",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tj","[","0","]","=","tj","[","1","]","=","tj","[","2","]","=","_0_0",";","th",";","ti",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tn","[","0","]","=","tn","[","1","]","=","tn","[","2","]","=","_0_0",";","tk",";","tl",";","tm",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"to",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tw","=","tv",";","to",";","tr",";","tu",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","tA","=","ny",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","2.0","*","ty",".","xyz","-","_1_0",";","tz","=","qQ","*","tz",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","2.0","*","ty",".","xyz","-","_1_0",";","tz",".","yz","*=","-","1.0",";","tz","=","U","(","H",",","tz",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","2.0","*","ty",".","xyz","-","_1_0",";","tz",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["tz","=","normalize","(","mix","(","tA",",","tz",",","tx",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","tB",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";","tC","=","ae","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";","tC","=","ae","(","I",",","tC",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";","tC","=","U","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";","tC","=","U","(","I",",","tC",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","normalize","(","tC",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tE","[","0","]","=","tE","[","1","]","=","tE","[","2","]","=","_0_0",";","tD",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tG","[","0","]","=","tG","[","1","]","=","tG","[","2","]","=","_0_0",";","tF",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tI","=","tH","[","0","]",";","tJ","=","tH","[","1","]",";","tK","=","tH","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tO","[","0","]","=","tL",";","tO","[","1","]","=","tM",";","tO","[","2","]","=","tN",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","tQ","-","tR","*","_0_5",";","tS","=","max","(","(","_1_0","+","tR",")","*","tP","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tV","=","tW","=","tX","=","_0_0",";","tT",";","tU",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"t_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tZ","[","0","]","=","tZ","[","1","]","=","tZ","[","2","]","=","_0_0",";","t_","=","_1_0",";","tY",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ua",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ub",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ub","[","0","]","=","ub","[","1","]","=","ub","[","2","]","=","_0_0",";","ua",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ud",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ud","[","0","]","=","ud","[","1","]","=","ud","[","2","]","=","_0_0",";","uc",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ug",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ui",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ui","[","0","]","=","ui","[","1","]","=","ui","[","2","]","=","_0_0",";","uj","=","_1_0",";","ue",";","uf",";","ug",";","uh",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ul",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"um",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"un",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["up","[","0","]","=","up","[","1","]","=","up","[","2","]","=","_0_0",";","uq","=","_1_0",";","uk",";","ul",";","um",";","un",";","uo",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ur",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"us",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ut",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ut","[","0","]","=","ut","[","1","]","=","ut","[","2","]","=","_0_0",";","uu","=","_1_0",";","ur",";","us",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uC","[","0","]","=","uC","[","1","]","=","uC","[","2","]","=","_0_0",";","uD","=","_1_0",";","uv",";","uw",";","ux",";","uy",";","uz",";","uA",";","uB",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uF","[","0","]","=","uF","[","1","]","=","uF","[","2","]","=","_0_0",";","uG","=","_1_0",";","uE",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uK","[","0","]","=","uK","[","1","]","=","uK","[","2","]","=","_0_0",";","uL","=","_1_0",";","uH",";","uI",";","uJ",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uQ","[","0","]","=","uQ","[","1","]","=","uQ","[","2","]","=","_0_0",";","uR","=","_1_0",";","uM",";","uN",";","uO",";","uP",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"u_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"va",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["va","[","0","]","=","va","[","1","]","=","va","[","2","]","=","_0_0",";","vb","=","_1_0",";","uS",";","uT",";","uU",";","uV",";","uW",";","uX",";","uY",";","uZ",";","u_",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ve",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ve","=","clamp","(","vc","+","vd",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","vf",",","_0_0",",","_1_0",")",";","vi","=","vj","*","vg","+","(","_1_0","-","vj",")","*","vh",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qI",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vk"],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","=","qA","(","qI",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vl"],STATEMENTS:[{TYPE:"txt",TOKENS:["vl","=","vec3","(","qI",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qJ",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vm","=","vec3","(","qJ",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vn","=","ny",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vo",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vo","=","qw",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vp","[","0","]","=","vp","[","1","]","=","vp","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vq","[","0","]","=","qR","[","0","]",";","vq","[","1","]","=","qR","[","1","]",";","vq","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vr",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vr","[","0","]","=","vr","[","1","]","=","vr","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vs","[","0","]","=","vs","[","1","]","=","vs","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qK",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vec3","(","qK",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vu","=","_0_0",";","vv","=","_0_0",";","vw","=","_0_0",";","vx","=","vec3","(","_0_0",")",";","vy","=","_0_0",";","vz","=","vx",";","vA","=","vx",";"]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vB","=","_0_0",";","vC","=","_0_0",";","vD","=","_0_0",";","vE","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vG","=","_0_0",";","vH","=","_0_0",";","vI","=","_0_0",";","vF","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vK","=","vJ",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vL","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vO","=","vP","=","_0_0",";","vN",";","vM",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vQ","=","vR","=","vS","=","_0_0",";","vT","=","vU","=","vV","=","_0_0",";","vW","=","vW","=","vY","=","vZ","=","_0_0",";","vX","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"v_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["v_","=","wa","=","vec3","(","_0_0",")",";","wb","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["we","=","wd",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["we","=","mix","(","wd",",","we",",","wc",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","wg",".","r",";","float","g","=","wg",".","g",";","float","b","=","wg",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["wh","=","mix","(","wg",",","wh",",","wf",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wi",",","NODE_TEX_ROW",")",")",";","wj","=","wl",".","rgb",";","wk","=","wl",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","(","MAPPING_TRS_MATRIX","*","vec4","(","wn",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","max","(","wn",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","min","(","wn",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","normalize","(","wn",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","wo","+","wp",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","clamp","(","wq",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ws",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wt",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","wr","-","ws",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","clamp","(","wt",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","wu","*","wv",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","clamp","(","wA",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","(","wC","!=","_0_0",")","?","wB","/","wC",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","clamp","(","wD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","sin","(","wE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","clamp","(","wG",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wF",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","cos","(","wH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","clamp","(","wJ",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wI",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","tan","(","wK",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","clamp","(","wM",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wL",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","(","wN","<=","_1_0","&&","wN",">=","-","_1_0",")","?","asin","(","wN",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","clamp","(","wP",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wO",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","(","wQ","<=","_1_0","&&","wQ",">=","-","_1_0",")","?","acos","(","wQ",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","clamp","(","wS",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wR",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","atan","(","wT",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","clamp","(","wV",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wU",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","wW","<","_0_0","&&","wX","!=","floor","(","wX",")",")","wY","=","_0_0",";","else","if","(","wX","==","_0_0",")","wY","=","_1_0",";","else","if","(","wW","<","_0_0",")","wY","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","wX",",","2.0",")",")",")","*","pow","(","-","wW",",","wX",")",";","else","if","(","wW","==","_0_0",")","wY","=","_0_0",";","else","wY","=","pow","(","wW",",","wX",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wY","=","clamp","(","wY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","(","wZ",">","_0_0","&&","w_",">","_0_0",")","?","log2","(","wZ",")","/","log2","(","w_",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","clamp","(","xa",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","min","(","xb",",","xc",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","clamp","(","xd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","max","(","xe",",","xf",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","clamp","(","xg",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","floor","(","xh","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","clamp","(","xj",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xi",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","(","xk","<","xl",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","clamp","(","xm",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xp",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","(","xn",">","xo",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","clamp","(","xp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","abs","(","xr",")",">","0.000001","?","mod","(","xq",",","xr",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","clamp","(","xs",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","abs","(","xt",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","clamp","(","xv",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xu",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xA",",","_0_0",",","_1_0",")",";","xD","=","mix","(","xB",",","xC",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xD","=","clamp","(","xD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xE",",","_0_0",",","_1_0",")",";","xH","=","mix","(","xF",",","xF","+","xG",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","=","clamp","(","xH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xI",",","_0_0",",","_1_0",")",";","xL","=","mix","(","xJ",",","xJ","*","xK",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xL","=","clamp","(","xL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xM",",","_0_0",",","_1_0",")",";","xP","=","mix","(","xN",",","xN","-","xO",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","clamp","(","xP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xQ",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xT","=","vec3","(","_1_0",")","-","(","vec3","(","xU",")","+","vj","*","(","vec3","(","_1_0",")","-","xS",")",")","*","(","vec3","(","_1_0",")","-","xR",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xT","=","clamp","(","xT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xV",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xX","+=","step","(","xX",",","vec3","(","_0_0",")",")",";","xY","=","xU","*","xW","+","vj","*","xW","/","xX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xY","=","clamp","(","xY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ya",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xZ",",","_0_0",",","_1_0",")",";","yb","=","mix","(","x_",",","abs","(","x_","-","ya",")",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yb","=","clamp","(","yb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ye",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yc",",","_0_0",",","_1_0",")",";","yf","=","min","(","yd",".","rgb",",","ye",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yf","=","clamp","(","yf",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yg",",","_0_0",",","_1_0",")",";","yj","=","max","(","yh",".","rgb",",","yi",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yj","=","clamp","(","yj",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ym",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yk",",","_0_0",",","_1_0",")",";","vec3","yo","=","vec3","(","_1_0","-","vj",")",";","yn","=","mix","(","yl","*","(","yo","+","2.0","*","vj","*","ym",")",",","vec3","(","_1_0",")","-","(","yo","+","2.0","*","vj","*","(","vec3","(","_1_0",")","-","ym",")",")","*","(","vec3","(","_1_0",")","-","yl",")",",","step","(","_0_5",",","yl",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yn","=","clamp","(","yn",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ys",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yp",",","_0_0",",","_1_0",")",";","vec3","yt","=","vec3","(","_1_0",")","-","vj","*","yr",";","vec3","yu","=","clamp","(","yq","/","yt",",","_0_0",",","_1_0",")",";","ys","=","mix","(","mix","(","yu",",","vec3","(","_1_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",",","yq",",","step","(","yq",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ys","=","clamp","(","ys",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yv",",","_0_0",",","_1_0",")",";","vec3","jI","=","vec3","(","_1_0","-","vj",")",";","vec3","yt","=","jI","+","vj","*","yB",";","vec3","yu","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","yA",")","/","yt",",","_0_0",",","_1_0",")",";","yC","=","mix","(","yu",",","vec3","(","_0_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yC","=","clamp","(","yC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yD",",","_0_0",",","_1_0",")",";","vec3","jA",",","yH",",","yt",";","yG","=","yE",";","yH","=","jz","(","yF",")",";","if","(","yH",".","y","!=","_0_0",")","{","jA","=","jz","(","yG",")",";","jA",".","x","=","yH",".","x",";","yt","=","jB","(","jA",")",";","yG","=","mix","(","yG",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yG","=","clamp","(","yG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yI",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","yL","=","yJ",";","vec3","jA",",","yH",";","jA","=","jz","(","yL",")",";","if","(","jA",".","y","!=","_0_0",")","{","yH","=","jz","(","yK",")",";","jA",".","y","=","xU","*","jA",".","y","+","vj","*","yH",".","y",";","yL","=","jB","(","jA",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yL","=","clamp","(","yL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yM",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","jA",",","yH",";","jA","=","jz","(","yN",")",";","yH","=","jz","(","yO",")",";","jA",".","z","=","xU","*","jA",".","z","+","vj","*","yH",".","z",";","yP","=","jB","(","jA",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yP","=","clamp","(","yP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yQ",",","_0_0",",","_1_0",")",";","vec3","jA",",","yH",",","yt",";","yT","=","yR",";","yH","=","jz","(","yS",")",";","if","(","yH",".","y","!=","_0_0",")","{","jA","=","jz","(","yT",")",";","jA",".","x","=","yH",".","x",";","jA",".","y","=","yH",".","y",";","yt","=","jB","(","jA",")",";","yT","=","mix","(","yT",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","clamp","(","yT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yU",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","yY","=","yW","+","yV","-","yW","*","yV",";","yX","=","yV","*","(","vec3","(","xU",")","+","vec3","(","vj",")","*","(","(","vec3","(","_1_0",")","-","yV",")","*","yW","+","yY",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","clamp","(","yX",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"y_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"za",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yZ",",","_0_0",",","_1_0",")",";","zb","=","y_","+","vj","*","(","2.0","*","za","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zb","=","clamp","(","zb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","zc",";","E","=","zd",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ze",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zh",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zp",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zq",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qL",QUALIFIER:["const","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qM",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","clamp","(","ze",",","_0_0",",","_1_0",")",";","zm","=","qM","[","0","]","*","clamp","(","zf",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","normalize","(","zh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","ny",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","zi","*","zl",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","qS","*","zl",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","*=","zg",";"]}]}]},{TYPE:"txt",TOKENS:["zk","=","qT","*","u_environment_energy","*","ci","(","zn",")",";","zq","=","cl","(","zl",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","vec2","(","qL","[","0","]",",","qL","[","1","]",")",";","zp","=","vec2","(","qM","[","1","]",",","qM","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["D","=","zq",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","vec3","(","_0_0",")",";","zk","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zr",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zB"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","zr",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT","REFLECTION_TYPE","REFL_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["cu","(","zB",",","v",",","zt",",","zu",",","F",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["cu","(","zB",",","v",",","zt",",","zu",",","mat3","(","_0_0",")",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","+=","zs",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zD"],STATEMENTS:[{TYPE:"txt",TOKENS:["zD","=","zt",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","zr",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zF","=","zs",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","zA",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","zv",";","zC","=","clamp","(","zA","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","qN",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","qO",";","zC","=","qN","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","zs",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["C","=","zt",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nS",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nS","=","vec4","(","nP","+","nR","*","nQ",",","_0_0",")",";","nT","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nW","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["nX","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","*=","nU","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nZ","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","nV","=","nZ","-","nx",";","float","aG","=","length","(","nV",")",";","nX","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aG","*","aG",")",";","nV","=","normalize","(","nV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oa","=","u_light_directions","[","LAMP_IND","]",";","float","ob","=","dot","(","nV",",","oa",")",";","ob","*=","smoothstep","(","_0_0",",","_1_0",",","(","ob","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","nX","*=","ob",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","*=","max","(","LAMP_LIGHT_DIST","-","aG",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"od",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"of",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"og",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","oe",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oc",",","o",".","xyz",")",";","zG","=","cross","(","oi",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oh","=","_0_0",";","if","(","od",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","of",")","*","dot","(","zG",",","oc",")","+","of",";","if","(","og","[","0","]","==","_0_0",")","{","oh","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","oj",")",";","t","=","og","[","1","]","+","(","_1_0","-","og","[","1","]",")","*","pow","(","t",",","og","[","0","]",")",";","oh","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","oh","=","max","(","oh",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ok",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ol",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oo",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","om",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","ok",",","o",".","xyz",")",";","zG","=","cross","(","oi",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oo","=","_0_0",";","if","(","ol",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","on",")","*","dot","(","zG",",","ok",")","+","on",";","oo","=","max","(","oj",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"op",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"or",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"os",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ot",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ou",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","or",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","op",",","o",".","xyz",")",";","zG","=","cross","(","oi",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["ou","=","_0_0",";","if","(","oq",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","os",")","*","dot","(","zG",",","op",")","+","os",";","if","(","ot","[","0","]",">","_0_0",")","{","float","ov","=","max","(","dot","(","zG",",","v",")",",","_0_0",")",";","float","ow","=","ot","[","0","]","*","ot","[","0","]",";","float","ck","=","_1_0","-","_0_5","*","(","ow","/","(","ow","+","0.33",")",")",";","vec3","ox","=","op","-","oj","*","zG",";","vec3","oy","=","v","-","ov","*","zG",";","if","(","length","(","ox",")","==","_0_0","||","length","(","oy",")","==","_0_0","||","abs","(","oj",")",">","_1_0","||","abs","(","ov",")",">","_1_0",")","ou","=","oj","*","ck",";","else","{","float","oz","=","acos","(","oj",")",";","float","oA","=","acos","(","ov",")",";","vec3","oB","=","normalize","(","ox",")",";","vec3","oC","=","normalize","(","oy",")",";","float","a",",","b",";","a","=","max","(","oz",",","oA",")",";","b","=","min","(","oz",",","oA",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oB",",","oC",")",",","_0_0",")",";","float","oD","=","0.45","*","(","ow","/","(","ow","+","0.09",")",")",";","ou","=","oj","*","(","ck","+","(","oD","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","ou","=","oj",";","ou","=","max","(","ou",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oF",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oI",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","oG",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oE",",","o",".","xyz",")",";","zG","=","cross","(","oi",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oJ","=","_0_0",";","if","(","oF",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","oH",")","*","dot","(","zG",",","oE",")","+","oH",";","float","ov","=","max","(","dot","(","zG",",","v",")",",","_0_0",")",";","if","(","oI","[","0","]","<=","_1_0",")","oJ","=","oj","*","pow","(","max","(","ov","*","oj",",","0.1",")",",","oI","[","0","]","-","_1_0",")",";","else","oJ","=","oj","*","pow","(","1.0001","-","ov",",","oI","[","0","]","-","_1_0",")",";","oJ","=","max","(","oJ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oL",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zG","=","oM",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oK",",","o",".","xyz",")",";","zG","=","cross","(","oi",",","o",".","xyz",")",";","zG","=","-","normalize","(","zG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oP","=","_0_0",";","if","(","oL",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","oN",")","*","dot","(","zG",",","oK",")","+","oN",";","float","oQ","=","acos","(","oj",")",";","if","(","oQ","<","oO","[","0","]",")","oP","=","_1_0",";","else","if","(","oQ",">","(","oO","[","0","]","+","oO","[","1","]",")","||","oO","[","1","]","==","_0_0",")","oP","=","_0_0",";","else","oP","=","_1_0","-","(","(","oQ","-","oO","[","0","]",")","/","oO","[","1","]",")",";","oP","=","max","(","oP",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","_0_0",";","if","(","oS",".","g","==","_1_0",")","{","vec3","oX","=","normalize","(","oR","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","oU","==","_0_0",")","{","oW","=","dot","(","o",".","xyz",",","oX",")",";","oW","=","sqrt","(","_1_0","-","oW","*","oW",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","(","_1_0","-","oU",")","*","max","(","dot","(","oT",",","oX",")",",","_0_0",")","+","oU",";"]}]}]},{TYPE:"txt",TOKENS:["oW","=","pow","(","oW",",","oV","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oZ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"o_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pc","=","_0_0",";","if","(","oZ",".","g","!=","_0_0",")","{","vec3","oX","=","normalize","(","oY","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pa","==","_0_0",")","{","pc","=","dot","(","o",".","xyz",",","oX",")",";","pc","=","sqrt","(","_1_0","-","pc","*","pc",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pc","=","max","(","dot","(","o_",",","oX",")",",","_0_0",")",";","pc","=","(","_1_0","-","pa",")","*","pc","+","pa",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ov","=","max","(","dot","(","o",".","xyz",",","v",")",",","_0_0",")",";","ov","=","sqrt","(","_1_0","-","ov","*","ov",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","ov","=","max","(","dot","(","o_",",","v",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pc","=","pow","(","pc",",","pb","[","0","]",")",";","pc","=","pc","/","(","0.1","+","ov",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pi","=","_0_0",";","if","(","pe",".","g","==","_1_0",")","{","vec3","oX","=","normalize","(","pd","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","_0_0",";","float","ov","=","_0_0",";","float","pk","=","_0_0",";","if","(","pg","==","_0_0",")","{","pj","=","dot","(","o",".","xyz",",","oX",")",";","ov","=","dot","(","o",".","xyz",",","v",")",";","pk","=","dot","(","o",".","xyz",",","pd",")",";","pj","=","sqrt","(","_1_0","-","pj","*","pj",")",";","ov","=","sqrt","(","_1_0","-","ov","*","ov",")",";","pk","=","sqrt","(","_1_0","-","pk","*","pk",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","max","(","dot","(","pf",",","oX",")",",","0.01",")",";","float","ov","=","max","(","dot","(","pf",",","v",")",",","0.01",")",";","float","pk","=","max","(","dot","(","pf",",","pd",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bp","=","tan","(","acos","(","pj",")",")",";","float","L","=","max","(","ph","[","0","]",",","0.01",")",";","pi","=","pk","*","(","_1_0","/","(","4.0","*","M_PI","*","L","*","L",")",")","*","(","exp","(","-","(","bp","*","bp",")","/","(","L","*","L",")",")","/","(","sqrt","(","ov","*","pk",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pm",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pu","=","_0_0",";","if","(","pm",".","g","==","_1_0",")","{","vec3","bS","=","normalize","(","pl","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pv","=","dot","(","bS",",","o",".","xyz",")",";","float","bp","=","pr","[","0","]","+","pr","[","1","]",";","if","(","po","==","_0_0",")","bp","=","acos","(","sqrt","(","_1_0","-","pv","*","pv",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bp","=","acos","(","dot","(","bS",",","pn",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bp","<","pr","[","0","]",")","pu","=","_1_0",";","else","if","(","bp",">=","pr","[","0","]","+","pr","[","1","]","||","pr","[","1","]","==","_0_0",")","pu","=","_0_0",";","else","pu","=","_1_0","-","(","bp","-","pr","[","0","]",")","/","pr","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"px",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"py",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pB","=","_0_0",";","if","(","px",".","g","==","_1_0",")","{","if","(","pA","[","0","]","<","1.0","||","pA","[","1","]","==","_0_0",")","pB","=","_0_0",";","else","{","if","(","pA","[","1","]","<","100.0",")","pA","[","1","]","=","sqrt","(","1.0","/","pA","[","1","]",")",";","else","pA","[","1","]","=","10.0","/","pA","[","1","]",";","vec3","oX","=","normalize","(","v","+","pw",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","0.0",";","if","(","pz","==","_0_0",")","{","float","pC","=","dot","(","o",".","xyz",",","oX",")",";","pj","=","sqrt","(","_1_0","-","pC","*","pC",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","(","_1_0","-","pz",")","*","max","(","dot","(","py",",","oX",")",",","_0_0",")","+","pz",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","pj","<","_0_0",")","pB","=","_0_0",";","else","{","float","ov","=","max","(","dot","(","py",",","v",")",",","0.01",")",";","float","pk","=","dot","(","py",",","pw",")",";","if","(","pk","<=","0.01",")","pB","=","_0_0",";","else","{","float","pD","=","max","(","dot","(","v",",","oX",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","pj","*","ov",")","/","pD",";","float","de","=","(","2.0","*","pj","*","pk",")","/","pD",";","float","g","=","min","(","min","(","a",",","b",")",",","de",")",";","float","p","=","sqrt","(","pow","(","pA","[","0","]",",","2.0",")","+","pow","(","pD",",","2.0",")","-","_1_0",")",";","float","ln","=","pow","(","p","-","pD",",","2.0",")","/","pow","(","p","+","pD",",","2.0",")","*","(","_1_0","+","pow","(","pD","*","(","p","+","pD",")","-","_1_0",",","2.0",")","/","pow","(","pD","*","(","p","-","pD",")","+","_1_0",",","2.0",")",")",";","float","oQ","=","acos","(","pj",")",";","pB","=","max","(","ln","*","g","*","exp","(","-","pow","(","oQ",",","2.0",")","/","(","2.0","*","pow","(","pA","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pE",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pP",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pI",",","pJ",")","*","dot","(","v",",","pJ",")","<","_0_0",")","{","float","zH","=","pK",".","x",";","float","zI","=","pK",".","y",";","float","zJ","=","pK",".","z",";","float","zK","=","pK",".","w",";","float","zL","=","clamp","(","abs","(","dot","(","pI",",","pJ",")",")",",","_0_0",",","_1_0",")",";","float","zM","=","clamp","(","dot","(","v",",","-","pI",")",",","_0_0",",","_1_0",")",";","float","zN","=","pow","(","zM",",","zI",")",";","pP","=","pE","+","pO","*","vec4","(","pN","*","zL","*","pow","(","pL",",","vec3","(","zH",")",")",",","_1_0",")",";","pP","+=","zJ","*","mix","(","vec4","(","pL",",","_1_0",")",",","vec4","(","_1_0",")",",","zK",")","*","pO","*","vec4","(","pN","*","zL","*","vec3","(","zN",")",",","_1_0",")",";","pQ","=","pF",";","}","else","{","pQ","=","pF","+","pN","*","pM","*","pH",";","pP","=","pE","+","vec4","(","pN","*","pL","*","pG",",","pH",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pQ","=","pF","+","pN","*","pM","*","pH",";","pP","=","pE","+","vec4","(","pN","*","pL","*","pG",",","pH",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"zO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zO","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","dot","(","zP",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zS",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zS"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zR",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","zR",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zU"],STATEMENTS:[{TYPE:"txt",TOKENS:["zU","=","zR",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zY",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zZ","=","jz","(","zV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zW"],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","zZ",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zX"],STATEMENTS:[{TYPE:"txt",TOKENS:["zX","=","zZ",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zY"],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","zZ",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"z_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ab",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ac",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ac","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","z_","-","Ab",")","*","Aa",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ad",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Af",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Af","=","Ad",";","if","(","Af",".","x",">","_0_0",")","Af",".","x","=","pow","(","Ad",".","x",",","Ae",")",";","if","(","Af",".","y",">","_0_0",")","Af",".","y","=","pow","(","Ad",".","y",",","Ae",")",";","if","(","Af",".","z",">","_0_0",")","Af",".","z","=","pow","(","Ad",".","z",",","Ae",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ag",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ah",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ah","=","max","(","vec3","(","_0_0",")",",","Ag",")",";","Ah","=","pow","(","Ah",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ai",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","max","(","vec3","(","_0_0",")",",","Ai",")",";","Aj","=","pow","(","Aj",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Ak",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Al",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ak"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ak","[","2","]","=","Ak","[","1","]","=","Ak","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Al"],STATEMENTS:[{TYPE:"txt",TOKENS:["Al","[","2","]","=","Al","[","1","]","=","Al","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Am"],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"An",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ao",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Aq","=","vec3","(","An",".","x",",","An",".","y",",","An",".","z",")",";","vec4","wl","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","Aq",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ao"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ao","=","wl",".","xyz",";","cb","(","Ao",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ap"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","wl",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ar",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"As",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"At",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Au",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Av",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Aw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ax",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Az",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","Ar",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Av"],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","Av",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Aw"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aw","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","As",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ax"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ax","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","Ax",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ay"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","At",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Az"],STATEMENTS:[{TYPE:"txt",TOKENS:["Az","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","Az",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AA"],STATEMENTS:[{TYPE:"txt",TOKENS:["AA","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","Au",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AB"],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","AB",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AC"],STATEMENTS:[{TYPE:"txt",TOKENS:["AC","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AG",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AH",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AK",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AO",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AD",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AH"],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AI"],STATEMENTS:[{TYPE:"txt",TOKENS:["AI","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AE",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["AJ","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AK"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AF",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AL"],STATEMENTS:[{TYPE:"txt",TOKENS:["AL","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AM"],STATEMENTS:[{TYPE:"txt",TOKENS:["AM","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AG",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AN"],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AO"],STATEMENTS:[{TYPE:"txt",TOKENS:["AO","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"VALUE_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"AP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AP","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AT",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AS","=","AQ","+","AR",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AT"],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","(","abs","(","AS","[","0","]",")","+","abs","(","AS","[","1","]",")","+","abs","(","AS","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AX",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","AU","-","AV",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AX"],STATEMENTS:[{TYPE:"txt",TOKENS:["AX","=","(","abs","(","AW","[","0","]",")","+","abs","(","AW","[","1","]",")","+","abs","(","AW","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"A_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","AY","+","AZ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ba"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ba","=","length","(","A_",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_A_"],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","normalize","(","A_",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Be"],STATEMENTS:[{TYPE:"txt",TOKENS:["Be","=","dot","(","Bb",",","Bc",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","cross","(","Bf",",","Bg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bi"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bi","=","length","(","Bh",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","normalize","(","Bj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bm"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bm","=","length","(","Bj",")",";"]}]}]},{TYPE:"txt",TOKENS:["Bk",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","reflect","(","U","(","G",",","Bn",")",",","Bo",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Br",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Bs","=","-","v",".","xyz",";","Br","=","reflect","(","Bs",",","Bq",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bv",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","qR",")",";","if","(","bt","<","Bw",")","{","vec2","bI","=","qB","(","Bt",")",";","float","bM","=","clamp","(","_0_5","*","(","Bw","-","bt",")",",","_0_0",",","_1_0",")",";","float","hl","=","Bu","*","bM",";","vec3","bO","=","normalize","(","v","*","qQ",")",";","float","bP","=","_1_0","/","Bv",";","vec2","bQ","=","bO",".","xy","*","hl","/","(","Bv","*","bO",".","z",")",";","float","bR","=","_1_0",";","float","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bI",")",".","a",";","for","(","float","bU","=","1.0",";","bU","<=","Bv",";","bU","++",")","{","if","(","bS","<","bR",")","{","bR","-=","bP",";","bI","-=","bQ",";","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bI",")",".","a",";","}","}","vec2","bV","=","bI","+","bQ",";","float","bW","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bV",")",".","a","-","(","bR","+","bP",")",";","float","bX","=","bS","-","bR",";","float","bY","=","bX","/","(","bX","-","bW",")",";","bI","=","bY","*","bV","+","(","_1_0","-","bY",")","*","bI",";","Bx","=","qA","(","bI",")",";","}","else","Bx","=","Bt",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bz","=","clamp","(","By",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BC","=","qz","(","BA",",","BB",")",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BJ",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BI"],STATEMENTS:[{TYPE:"txt",TOKENS:["BI","=","BD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","vec4","(","BE",",","BF",",","BG",",","BH",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"BK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BO","=","smoothstep","(","BM",",","BN",",","BL",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","BP",";","E","=","BQ",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BS","=","(","BR",".","r","+","BR",".","g","+","BR",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","[","0","]","=","BT",";","BU","[","1","]","=","BT",";","BU","[","2","]","=","BT",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(","in","vec3","v",",","in","mat3","F",",","in","mat3","G",",","in","mat3","H",",","in","mat3","I",",","out","vec3","A",",","out","vec3","B",",","out","vec3","C",",","out","vec4","D",",","out","float","E",")","{","A","=","vec3","(","_0_0",")",";","B","=","vec3","(","_0_0",")",";","C","=","vec3","(","_0_0",")",";","D","=","vec4","(","_0_0",")",";","E","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","normalize","(","e",")",";","vec3","bJ","=","Q",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bJ","=","bJ",";","else","bJ","=","-","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ny","=","bJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ny","=","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qP","=","bJ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","S","=","cross","(","bJ",",","f",".","xyz",")","*","f",".","w",";","S","=","normalize","(","S",")",";","vec3","R","=","cross","(","S",",","bJ",")","*","f",".","w",";","mat3","qQ","=","mat3","(","R",",","S",",","bJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nx","=","c",";","vec4","qR","=","d",";","float","qS","=","u_emit",";","float","qT","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2},"PARTICLE_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_orco_tex_coord",";","GLSL_OUT","vec3","qw",";"]}]}}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_TEX_COORD_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qJ",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qJ","=","node_TEX_COORD_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UV_MERGED_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qI",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qI","=","node_UV_MERGED_var_a_uv",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UVMAP_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qK",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qK","=","node_UVMAP_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qC",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qC","=","node_GEOMETRY_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BV",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BV","=","node_GEOMETRY_VC_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC1_var_a_vertex_color",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BW",QUALIFIER:["GLSL_OUT","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BW","=","node_GEOMETRY_VC1_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC2_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BX",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BX","=","node_GEOMETRY_VC2_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC3_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"BY",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BY","=","node_GEOMETRY_VC3_var_a_vertex_color",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["qw","=","a_orco_tex_coord",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PACK_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PACK_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","fT","(","const","in","float","hB",")","{","vec4","eK","=","vec4","(","_255_0","*","_255_0","*","_255_0",",","_255_0","*","_255_0",",","_255_0",",","_1_0",")",";","vec4","BZ","=","vec4","(","_0_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",")",";","vec4","iT","=","fract","(","hB","*","eK",")",";","iT","-=","iT",".","xxyz","*","BZ",";","return","iT",";","}","float","cz","(","const","in","vec4","B_",")","{","float","fO",";","vec4","eK","=","vec4","(","_1_0","/","(","_255_0","*","_255_0","*","_255_0",")",",","_1_0","/","(","_255_0","*","_255_0",")",",","_1_0","/","_255_0",",","_1_0",")",";","fO","=","dot","(","B_",",","eK",")",";","return","fO",";","}","vec4","fT","(","const","in","vec2","gK",")","{","vec2","eK","=","vec2","(","_255_0",",","_1_0",")",";","vec2","BZ","=","vec2","(","_0_0",",","_1_0","/","_255_0",")",";","vec4","iT","=","fract","(","gK",".","xxyy","*","eK",".","xyxy",")",";","iT","-=","iT",".","xxzz","*","BZ",".","xyxy",";","if","(","gK",".","r","==","_1_0",")","iT",".","rg","=","vec2","(","_0_0",",","_1_0",")",";","if","(","gK",".","g","==","_1_0",")","iT",".","ba","=","vec2","(","_0_0",",","_1_0",")",";","return","iT",";","}","vec2","iy","(","const","in","vec4","Ca",")","{","vec2","gK",";","vec2","eK","=","vec2","(","_1_0","/","_255_0",",","_1_0",")",";","gK",".","r","=","dot","(","Ca",".","rg",",","eK",")",";","gK",".","g","=","dot","(","Ca",".","ba",",","eK",")",";","return","gK",";","}"]}]}}]}]},exports["include/particles.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["struct","cH","{","float","cQ",";","vec3","O",";","float","L",";","vec3","aK",";","float","bp",";","vec3","cW",";","vec3","cX",";","float","cY",";","}",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","Ce","(","inout","vec3","aK",",","float","Cb",",","vec4","jt",",","vec4","ju",")","{","float","Cc","=","ju",".","x","-","jt",".","x",";","float","Cd","=","(","Cb","-","jt",".","x",")","/","Cc",";","aK","=","mix","(","aK",",","ju",".","yzw",",","clamp","(","Cd",",","0.0",",","1.0",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ch","(","float","t",",","float","Cf",",","vec4","Cg","[","COLOR_RAMP_LENGTH","]",")","{","float","Cb","=","t","/","Cf",";","vec3","aK","=","Cg","[","0","]",".","yzw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ce","(","aK",",","Cb",",","Cg","[","0","]",",","Cg","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ce","(","aK",",","Cb",",","Cg","[","1","]",",","Cg","[","2","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ce","(","aK",",","Cb",",","Cg","[","2","]",",","Cg","[","3","]",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aK",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","Cn","(","float","t",",","float","Cf",",","float","Ci",",","float","Cj",")","{","float","Ck","=","max","(","0.01",",","min","(","Cf",",","Ci",")",")",";","float","Cl","=","max","(","0.01",",","min","(","Cf",",","Cj",")",")",";","float","Cm","=","Cf","-","Cl",";","float","L","=","clamp","(","t","/","Ck",",","0.0",",","1.0",")","-","step","(","Cm",",","t",")","*","(","t","-","Cm",")","/","Cl",";","return","L",";","}","cH","cI","(",")","{","cH","sp",";","float","t",";","float","Cf","=","a_p_data","[","0","]",";","float","Co","=","a_p_data","[","1","]",";","if","(","u_p_cyclic","==","1",")","{","t","=","mod","(","u_p_time",",","u_p_length",")","-","Co",";","if","(","t","<","0.0",")","t","+=","u_p_length",";","}","if","(","u_p_cyclic","!=","1",")","{","t","=","u_p_time","-","Co",";","}","if","(","t","<","0.0","||","t",">=","Cf",")","{","sp",".","cQ","=","0.0001",";","sp",".","O","=","vec3","(","99999.0",",","0.0",",","0.0",")",";","}","if","(","!","(","t","<","0.0","||","t",">=","Cf",")",")","{","vec3","bC","=","P","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eH","=","a_position",";","vec3","zG","=","bC",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eH","=","ae","(","u_model_tsr",",","a_position",")",";","vec3","zG","=","U","(","u_model_tsr",",","bC",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Cp","=","u_p_nfactor","*","zG",";","Cp","+=","a_p_vels",".","xyz",";","Cp",".","z","-=","u_p_gravity","*","t","/","2.0",";","float","Cq","=","max","(","u_p_mass",",","EPSILON",")",";","Cp","+=","(","u_p_wind_fac","*","u_wind","/","Cq",")","*","t","/","2.0",";","sp",".","cY","=","t",";","sp",".","cW","=","Cp",";","sp",".","cX","=","bC","*","a_p_vels",".","w",";","sp",".","O","=","eH","+","Cp","*","t",";","sp",".","bp","=","a_p_vels",".","w","*","t",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cQ","=","GLSL_TEXTURE","(","u_color_ramp_tex",",","vec2","(","t","/","u_p_max_lifetime",",","0.5",")",")",".","g",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cQ","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aK","=","Ch","(","t",",","u_p_max_lifetime",",","u_p_color_ramp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aK","=","vec3","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["sp",".","L","=","Cn","(","t",",","a_p_data","[","0","]",",","u_p_fade_in",",","u_p_fade_out",")",";","}","return","sp",";","}"]}]}}]}]},exports["include/particles_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"INVERT_FRONTFACING",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jz","(","vec3","rgb",")","{","vec4","jy","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","jy",".","wz",")",",","vec4","(","rgb",".","gb",",","jy",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dj","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hR","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dj","+","hR",")",")",",","dj","/","(","q",".","x","+","hR",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jB","(","vec3","jA",")","{","vec4","jy","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","jA",".","r",",","jA",".","r",",","jA",".","r",")","+","jy",".","xyz",")","*","6.0","-","jy",".","www",")",";","return","jA",".","b","*","mix","(","jy",".","xxx",",","clamp","(","p","-","jy",".","xxx",",","_0_0",",","_1_0",")",",","jA",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qA","(","vec2","gm",")","{","return","vec3","(","gm","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","qB","(","vec3","gK",")","{","return","vec2","(","gK",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"qU",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qV",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"qW",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qU"],STATEMENTS:[{TYPE:"txt",TOKENS:["qU","=","normalize","(","qR",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qV"],STATEMENTS:[{TYPE:"txt",TOKENS:["qV","=","abs","(","qR",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qW"],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","length","(","qR",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"q_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["q_","=","vec3","(","qX",",","qY",",","qZ",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"re",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","jB","(","vec3","(","rc",",","rd",",","re",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ri",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ri","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rj","=","qA","(","n",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rk","=","2.0","*","vec3","(","n",",","_0_0",")","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rl","=","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rm","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ro",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rn","=","_1_0",";","ro","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rp","=","_1_0",";","rq","=","_1_0",";","rs","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","qP",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ru",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT_FRONTFACING"],STATEMENTS:[{TYPE:"txt",TOKENS:["ru","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["ru","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rv",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rv","=","-","U","(","F",",","v",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rw","[","0","]","=","qR","[","0","]",";","rw","[","1","]","=","qR","[","1","]",";","rw","[","2","]","=","qR","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rx","=","vec3","(","nx",".","r",",","-","nx",".","b",",","nx",".","g",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"ry",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rF",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ry","=","vec3","(","_0_0",")",";","rz","=","vec3","(","_0_0",")",";","rA","=","vec3","(","_0_0",")",";","rB","=","vec3","(","_0_0",")",";","rC","=","vec3","(","_0_0",")",";","rD","=","vec3","(","_0_0",")",";","rE","=","_0_0",";","rF","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","jA","=","jz","(","rK",")",";","jA","[","0","]","+=","(","rG","-","_0_5",")",";","if","(","jA","[","0","]",">","_1_0",")","jA","[","0","]","-=","_1_0",";","else","if","(","jA","[","0","]","<","_0_0",")","jA","[","0","]","+=","_1_0",";","jA","*=","vec3","(","_1_0",",","rH",",","rI",")",";","jA","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","jA",",","step","(","vec3","(","_0_0",")",",","jA",")",")",",","step","(","jA",",","vec3","(","_1_0",")",")",")",";","rL","=","mix","(","rK",",","jB","(","jA",")",",","rJ",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","mix","(","rN",",","vec3","(","_1_0",")","-","rN",",","rM",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"rP",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rS",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rP"],STATEMENTS:[{TYPE:"txt",TOKENS:["rP","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec3","rT","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","rU","=","u_lamp_light_positions","[","LAMP_INDEX","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rQ","=","-","c","+","rU",";","rR","=","length","(","rQ",")",";","rQ","=","normalize","(","rQ",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rS"],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","rR","*","rR",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ob","=","dot","(","rQ",",","rT",")",";","ob","*=","smoothstep","(","_0_0",",","_1_0",",","(","ob","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","rS","*=","ob",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","*=","max","(","LAMP_LIGHT_DIST","-","rR",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["rQ","=","rT",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rR"],STATEMENTS:[{TYPE:"txt",TOKENS:["rR","=","length","(","rU","-","c",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rS"],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","=","_1_0",";"]}]}]}]}]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rW"],STATEMENTS:[{TYPE:"txt",TOKENS:["rW","=","qH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rX"],STATEMENTS:[{TYPE:"txt",TOKENS:["rX","=","-","dot","(","rV",",","qH",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rZ","=","-","U","(","F",",","rY",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"r_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"se",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","r_",";","sa",";","sb",";","sc",";","sd",";","se",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","sg",";","sh",";","si",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"so",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["so","=","sk",";","sl",";","sm",";","sn",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"su",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sw","=","sr",";","su",";","sv",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sB","=","sx",";","sy",";","sz",";","sA",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sD","=","sC",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sG","=","sE",";","sF",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sL","[","0","]","=","sL","[","1","]","=","sL","[","2","]","=","_0_0",";","sH",";","sI",";","sJ",";","sK",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sQ","=","sM",";","sN",";","sO",";","sP",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sU","=","sR",";","sS",";","sT",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"s_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ta",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ta","[","0","]","=","ta","[","1","]","=","ta","[","2","]","=","_0_0",";","sV",";","sX",";","sY",";","sZ",";","s_",";","sW",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"td",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["td","=","tb",";","tc",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"te",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tf","[","0","]","=","tf","[","1","]","=","tf","[","2","]","=","_0_0",";","te",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"tg",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tg","[","0","]","=","tg","[","1","]","=","tg","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"th",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ti",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tj","[","0","]","=","tj","[","1","]","=","tj","[","2","]","=","_0_0",";","th",";","ti",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tn","[","0","]","=","tn","[","1","]","=","tn","[","2","]","=","_0_0",";","tk",";","tl",";","tm",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"to",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tw","=","tv",";","to",";","tr",";","tu",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","tA","=","ny",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","qQ","*","(","ty",".","xyz","-","_0_5",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","ty",".","xyz","-","_0_5",";","tz",".","yz","*=","-","1.0",";","tz","=","U","(","H",",","tz",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","ty",".","xyz","-","_0_5",";","tz",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["tz","=","normalize","(","mix","(","tA",",","tz",",","tx",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","tB",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","H",",","tB",")",";","tC","=","ae","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","ae","(","G",",","tB",")",";","tC","=","ae","(","I",",","tC",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","F",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","I",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","H",",","tB",")",";","tC","=","U","(","F",",","tC",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","U","(","G",",","tB",")",";","tC","=","U","(","I",",","tC",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","normalize","(","tC",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tE","[","0","]","=","tE","[","1","]","=","tE","[","2","]","=","_0_0",";","tD",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tG","[","0","]","=","tG","[","1","]","=","tG","[","2","]","=","_0_0",";","tF",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tI","=","tH","[","0","]",";","tJ","=","tH","[","1","]",";","tK","=","tH","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tO","[","0","]","=","tL",";","tO","[","1","]","=","tM",";","tO","[","2","]","=","tN",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","tQ","-","tR","*","_0_5",";","tS","=","max","(","(","_1_0","+","tR",")","*","tP","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tV","=","tW","=","tX","=","_0_0",";","tT",";","tU",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"t_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tZ","[","0","]","=","tZ","[","1","]","=","tZ","[","2","]","=","_0_0",";","t_","=","_1_0",";","tY",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ua",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ub",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ub","[","0","]","=","ub","[","1","]","=","ub","[","2","]","=","_0_0",";","ua",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ud",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ud","[","0","]","=","ud","[","1","]","=","ud","[","2","]","=","_0_0",";","uc",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ug",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ui",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ui","[","0","]","=","ui","[","1","]","=","ui","[","2","]","=","_0_0",";","uj","=","_1_0",";","ue",";","uf",";","ug",";","uh",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ul",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"um",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"un",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["up","[","0","]","=","up","[","1","]","=","up","[","2","]","=","_0_0",";","uq","=","_1_0",";","uk",";","ul",";","um",";","un",";","uo",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ur",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"us",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ut",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ut","[","0","]","=","ut","[","1","]","=","ut","[","2","]","=","_0_0",";","uu","=","_1_0",";","ur",";","us",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uC","[","0","]","=","uC","[","1","]","=","uC","[","2","]","=","_0_0",";","uD","=","_1_0",";","uv",";","uw",";","ux",";","uy",";","uz",";","uA",";","uB",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uF","[","0","]","=","uF","[","1","]","=","uF","[","2","]","=","_0_0",";","uG","=","_1_0",";","uE",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uK","[","0","]","=","uK","[","1","]","=","uK","[","2","]","=","_0_0",";","uL","=","_1_0",";","uH",";","uI",";","uJ",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uQ","[","0","]","=","uQ","[","1","]","=","uQ","[","2","]","=","_0_0",";","uR","=","_1_0",";","uM",";","uN",";","uO",";","uP",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"u_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"va",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["va","[","0","]","=","va","[","1","]","=","va","[","2","]","=","_0_0",";","vb","=","_1_0",";","uS",";","uT",";","uU",";","uV",";","uW",";","uX",";","uY",";","uZ",";","u_",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ve",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ve","=","clamp","(","vc","+","vd",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","vf",",","_0_0",",","_1_0",")",";","vi","=","vj","*","vg","+","(","_1_0","-","vj",")","*","vh",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vk"],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","=","qA","(","n",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vl"],STATEMENTS:[{TYPE:"txt",TOKENS:["vl","=","vec3","(","n",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vm",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vm","=","vec3","(","n",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vn","=","ny",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vo",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vo","=","vec3","(","n",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vp","[","0","]","=","vp","[","1","]","=","vp","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vq","[","0","]","=","qR","[","0","]",";","vq","[","1","]","=","qR","[","1","]",";","vq","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vr",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vr","[","0","]","=","vr","[","1","]","=","vr","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vs","[","0","]","=","vs","[","1","]","=","vs","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vec3","(","n",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"Cr",QUALIFIER:["GLSL_IN","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cs",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Ct",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cu",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PARTICLE_BATCH"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vu"],STATEMENTS:[{TYPE:"txt",TOKENS:["vu","=","Cr","[","0","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vv"],STATEMENTS:[{TYPE:"txt",TOKENS:["vv","=","Cr","[","1","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vw"],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","Cr","[","2","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vx"],STATEMENTS:[{TYPE:"txt",TOKENS:["vx","=","Cs",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vy"],STATEMENTS:[{TYPE:"txt",TOKENS:["vy","=","Cr","[","3","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vz"],STATEMENTS:[{TYPE:"txt",TOKENS:["vz","=","Ct",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_vA"],STATEMENTS:[{TYPE:"txt",TOKENS:["vA","=","Cu",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vu","=","_0_0",";","vv","=","_0_0",";","vw","=","_0_0",";","vx","=","vec3","(","_0_0",")",";","vy","=","_0_0",";","vz","=","vx",";","vA","=","vx",";"]}]}]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vB","=","_0_0",";","vC","=","_0_0",";","vD","=","_0_0",";","vE","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vG","=","_0_0",";","vH","=","_0_0",";","vI","=","_0_0",";","vF","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vK","=","vJ",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vL","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vO","=","vP","=","_0_0",";","vN",";","vM",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vQ","=","vR","=","vS","=","_0_0",";","vT","=","vU","=","vV","=","_0_0",";","vW","=","vW","=","vY","=","vZ","=","_0_0",";","vX","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"v_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["v_","=","wa","=","vec3","(","_0_0",")",";","wb","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["we","=","wd",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["we",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","wd",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["we","=","mix","(","wd",",","we",",","wc",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wg",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","wg",".","r",";","float","g","=","wg",".","g",";","float","b","=","wg",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wh",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["wh","=","mix","(","wg",",","wh",",","wf",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","wi",",","NODE_TEX_ROW",")",")",";","wj","=","wl",".","rgb",";","wk","=","wl",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","wn","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","(","MAPPING_TRS_MATRIX","*","vec4","(","wn",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","max","(","wn",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","min","(","wn",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","normalize","(","wn",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","wo","+","wp",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","clamp","(","wq",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ws",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wt",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","wr","-","ws",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wt","=","clamp","(","wt",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","wu","*","wv",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","clamp","(","wA",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","(","wC","!=","_0_0",")","?","wB","/","wC",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","=","clamp","(","wD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","sin","(","wE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","=","clamp","(","wG",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wF",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","cos","(","wH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","=","clamp","(","wJ",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wI",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","tan","(","wK",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","clamp","(","wM",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wL",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","(","wN","<=","_1_0","&&","wN",">=","-","_1_0",")","?","asin","(","wN",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wP","=","clamp","(","wP",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wO",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","(","wQ","<=","_1_0","&&","wQ",">=","-","_1_0",")","?","acos","(","wQ",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wS","=","clamp","(","wS",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wR",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","atan","(","wT",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wV","=","clamp","(","wV",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["wU",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","wW","<","_0_0","&&","wX","!=","floor","(","wX",")",")","wY","=","_0_0",";","else","if","(","wX","==","_0_0",")","wY","=","_1_0",";","else","if","(","wW","<","_0_0",")","wY","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","wX",",","2.0",")",")",")","*","pow","(","-","wW",",","wX",")",";","else","if","(","wW","==","_0_0",")","wY","=","_0_0",";","else","wY","=","pow","(","wW",",","wX",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["wY","=","clamp","(","wY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","(","wZ",">","_0_0","&&","w_",">","_0_0",")","?","log2","(","wZ",")","/","log2","(","w_",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xa","=","clamp","(","xa",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","min","(","xb",",","xc",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xd","=","clamp","(","xd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","max","(","xe",",","xf",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","=","clamp","(","xg",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","floor","(","xh","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xj","=","clamp","(","xj",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xi",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","(","xk","<","xl",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xm","=","clamp","(","xm",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xp",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","(","xn",">","xo",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","=","clamp","(","xp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","abs","(","xr",")",">","0.000001","?","mod","(","xq",",","xr",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","=","clamp","(","xs",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","abs","(","xt",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xv","=","clamp","(","xv",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["xu",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xA",",","_0_0",",","_1_0",")",";","xD","=","mix","(","xB",",","xC",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xD","=","clamp","(","xD",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xE",",","_0_0",",","_1_0",")",";","xH","=","mix","(","xF",",","xF","+","xG",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","=","clamp","(","xH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xI",",","_0_0",",","_1_0",")",";","xL","=","mix","(","xJ",",","xJ","*","xK",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xL","=","clamp","(","xL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xM",",","_0_0",",","_1_0",")",";","xP","=","mix","(","xN",",","xN","-","xO",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","clamp","(","xP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xQ",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xT","=","vec3","(","_1_0",")","-","(","vec3","(","xU",")","+","vj","*","(","vec3","(","_1_0",")","-","xS",")",")","*","(","vec3","(","_1_0",")","-","xR",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xT","=","clamp","(","xT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xV",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","xX","+=","step","(","xX",",","vec3","(","_0_0",")",")",";","xY","=","xU","*","xW","+","vj","*","xW","/","xX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xY","=","clamp","(","xY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"xZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ya",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","xZ",",","_0_0",",","_1_0",")",";","yb","=","mix","(","x_",",","abs","(","x_","-","ya",")",",","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yb","=","clamp","(","yb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ye",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yc",",","_0_0",",","_1_0",")",";","yf","=","min","(","yd",".","rgb",",","ye",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yf","=","clamp","(","yf",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yg",",","_0_0",",","_1_0",")",";","yj","=","max","(","yh",".","rgb",",","yi",".","rgb","*","vj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yj","=","clamp","(","yj",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ym",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yk",",","_0_0",",","_1_0",")",";","vec3","yo","=","vec3","(","_1_0","-","vj",")",";","yn","=","mix","(","yl","*","(","yo","+","2.0","*","vj","*","ym",")",",","vec3","(","_1_0",")","-","(","yo","+","2.0","*","vj","*","(","vec3","(","_1_0",")","-","ym",")",")","*","(","vec3","(","_1_0",")","-","yl",")",",","step","(","_0_5",",","yl",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yn","=","clamp","(","yn",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ys",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yp",",","_0_0",",","_1_0",")",";","vec3","yt","=","vec3","(","_1_0",")","-","vj","*","yr",";","vec3","yu","=","clamp","(","yq","/","yt",",","_0_0",",","_1_0",")",";","ys","=","mix","(","mix","(","yu",",","vec3","(","_1_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",",","yq",",","step","(","yq",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ys","=","clamp","(","ys",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yv",",","_0_0",",","_1_0",")",";","vec3","jI","=","vec3","(","_1_0","-","vj",")",";","vec3","yt","=","jI","+","vj","*","yB",";","vec3","yu","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","yA",")","/","yt",",","_0_0",",","_1_0",")",";","yC","=","mix","(","yu",",","vec3","(","_0_0",")",",","step","(","yt",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yC","=","clamp","(","yC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yD",",","_0_0",",","_1_0",")",";","vec3","jA",",","yH",",","yt",";","yG","=","yE",";","yH","=","jz","(","yF",")",";","if","(","yH",".","y","!=","_0_0",")","{","jA","=","jz","(","yG",")",";","jA",".","x","=","yH",".","x",";","yt","=","jB","(","jA",")",";","yG","=","mix","(","yG",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yG","=","clamp","(","yG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yI",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","yL","=","yJ",";","vec3","jA",",","yH",";","jA","=","jz","(","yL",")",";","if","(","jA",".","y","!=","_0_0",")","{","yH","=","jz","(","yK",")",";","jA",".","y","=","xU","*","jA",".","y","+","vj","*","yH",".","y",";","yL","=","jB","(","jA",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yL","=","clamp","(","yL",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yM",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","jA",",","yH",";","jA","=","jz","(","yN",")",";","yH","=","jz","(","yO",")",";","jA",".","z","=","xU","*","jA",".","z","+","vj","*","yH",".","z",";","yP","=","jB","(","jA",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yP","=","clamp","(","yP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yQ",",","_0_0",",","_1_0",")",";","vec3","jA",",","yH",",","yt",";","yT","=","yR",";","yH","=","jz","(","yS",")",";","if","(","yH",".","y","!=","_0_0",")","{","jA","=","jz","(","yT",")",";","jA",".","x","=","yH",".","x",";","jA",".","y","=","yH",".","y",";","yt","=","jB","(","jA",")",";","yT","=","mix","(","yT",",","yt",",","vj",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","clamp","(","yT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yU",",","_0_0",",","_1_0",")",";","float","xU","=","_1_0","-","vj",";","vec3","yY","=","yW","+","yV","-","yW","*","yV",";","yX","=","yV","*","(","vec3","(","xU",")","+","vec3","(","vj",")","*","(","(","vec3","(","_1_0",")","-","yV",")","*","yW","+","yY",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","clamp","(","yX",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"y_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"za",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","vj","=","clamp","(","yZ",",","_0_0",",","_1_0",")",";","zb","=","y_","+","vj","*","(","2.0","*","za","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zb","=","clamp","(","zb",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","zc",";","E","=","zd",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ze",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zh",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zp",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zq",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qL",QUALIFIER:["const","vec2"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qM",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","clamp","(","ze",",","_0_0",",","_1_0",")",";","zm","=","qM","[","0","]","*","clamp","(","zf",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","normalize","(","zh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","ny",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","zi","*","zl",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","qS","*","zl",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","*=","zg",";"]}]}]},{TYPE:"txt",TOKENS:["zk","=","qT","*","u_environment_energy","*","ci","(","zn",")",";","zq","=","vec4","(","1.0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","vec2","(","qL","[","0","]",",","qL","[","1","]",")",";","zp","=","vec2","(","qM","[","1","]",",","qM","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["D","=","zq",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","vec3","(","_0_0",")",";","zk","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zr",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"qN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zu",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zB"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","zr",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","+=","zs",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zD"],STATEMENTS:[{TYPE:"txt",TOKENS:["zD","=","zt",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zE"],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","zr",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zF","=","zs",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","zA",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","zv",";","zC","=","clamp","(","zA","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zC"],STATEMENTS:[{TYPE:"txt",TOKENS:["zC","=","clamp","(","qN",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","zs",".","r",",","zs",".","g",")",",","zs",".","b",")","*","qO",";","zC","=","qN","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","zs",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["B","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["C","=","zt",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nS",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nS","=","vec4","(","nP","+","nR","*","nQ",",","_0_0",")",";","nT","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nW","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["nX","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","*=","nU","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nZ","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","nV","=","nZ","-","nx",";","float","aG","=","length","(","nV",")",";","nX","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aG","*","aG",")",";","nV","=","normalize","(","nV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oa","=","u_light_directions","[","LAMP_IND","]",";","float","ob","=","dot","(","nV",",","oa",")",";","ob","*=","smoothstep","(","_0_0",",","_1_0",",","(","ob","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","nX","*=","ob",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"od",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"of",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"og",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oc",",","f",".","xyz",")",";","oe","=","cross","(","oi",",","f",".","xyz",")",";","oe","=","-","normalize","(","oe",")",";"]}]}]},{TYPE:"txt",TOKENS:["oh","=","_0_0",";","if","(","od",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","of",")","*","dot","(","oe",",","oc",")","+","of",";","if","(","og","[","0","]","==","_0_0",")","{","oh","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","oj",")",";","t","=","og","[","1","]","+","(","_1_0","-","og","[","1","]",")","*","pow","(","t",",","og","[","0","]",")",";","oh","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","oh","=","max","(","oh",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ok",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ol",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oo",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","ok",",","f",".","xyz",")",";","om","=","cross","(","oi",",","f",".","xyz",")",";","om","=","-","normalize","(","om",")",";"]}]}]},{TYPE:"txt",TOKENS:["oo","=","_0_0",";","if","(","ol",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","on",")","*","dot","(","om",",","ok",")","+","on",";","oo","=","max","(","oj",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"op",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"or",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"os",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ot",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ou",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","op",",","f",".","xyz",")",";","or","=","cross","(","oi",",","f",".","xyz",")",";","or","=","-","normalize","(","or",")",";"]}]}]},{TYPE:"txt",TOKENS:["ou","=","_0_0",";","if","(","oq",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","os",")","*","dot","(","or",",","op",")","+","os",";","if","(","ot","[","0","]",">","_0_0",")","{","float","ov","=","max","(","dot","(","or",",","v",")",",","_0_0",")",";","float","ow","=","ot","[","0","]","*","ot","[","0","]",";","float","ck","=","_1_0","-","_0_5","*","(","ow","/","(","ow","+","0.33",")",")",";","vec3","ox","=","op","-","oj","*","or",";","vec3","oy","=","v","-","ov","*","or",";","if","(","length","(","ox",")","==","_0_0","||","length","(","oy",")","==","_0_0","||","abs","(","oj",")",">","_1_0","||","abs","(","ov",")",">","_1_0",")","ou","=","oj","*","ck",";","else","{","float","oz","=","acos","(","oj",")",";","float","oA","=","acos","(","ov",")",";","vec3","oB","=","normalize","(","ox",")",";","vec3","oC","=","normalize","(","oy",")",";","float","a",",","b",";","a","=","max","(","oz",",","oA",")",";","b","=","min","(","oz",",","oA",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oB",",","oC",")",",","_0_0",")",";","float","oD","=","0.45","*","(","ow","/","(","ow","+","0.09",")",")",";","ou","=","oj","*","(","ck","+","(","oD","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","ou","=","oj",";","ou","=","max","(","ou",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oF",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oI",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oE",",","f",".","xyz",")",";","oG","=","cross","(","oi",",","f",".","xyz",")",";","oG","=","-","normalize","(","oG",")",";"]}]}]},{TYPE:"txt",TOKENS:["oJ","=","_0_0",";","if","(","oF",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","oH",")","*","dot","(","oG",",","oE",")","+","oH",";","float","ov","=","max","(","dot","(","oG",",","v",")",",","_0_0",")",";","if","(","oI","[","0","]","<=","_1_0",")","oJ","=","oj","*","pow","(","max","(","ov","*","oj",",","0.1",")",",","oI","[","0","]","-","_1_0",")",";","else","oJ","=","oj","*","pow","(","1.0001","-","ov",",","oI","[","0","]","-","_1_0",")",";","oJ","=","max","(","oJ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oL",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","cross","(","oK",",","f",".","xyz",")",";","oM","=","cross","(","oi",",","f",".","xyz",")",";","oM","=","-","normalize","(","oM",")",";"]}]}]},{TYPE:"txt",TOKENS:["oP","=","_0_0",";","if","(","oL",".","r","!=","_0_0",")","{","float","oj","=","(","_1_0","-","oN",")","*","dot","(","oM",",","oK",")","+","oN",";","float","oQ","=","acos","(","oj",")",";","if","(","oQ","<","oO","[","0","]",")","oP","=","_1_0",";","else","if","(","oQ",">","(","oO","[","0","]","+","oO","[","1","]",")","||","oO","[","1","]","==","_0_0",")","oP","=","_0_0",";","else","oP","=","_1_0","-","(","(","oQ","-","oO","[","0","]",")","/","oO","[","1","]",")",";","oP","=","max","(","oP",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","_0_0",";","if","(","oS",".","g","==","_1_0",")","{","vec3","oX","=","normalize","(","oR","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","oU","==","_0_0",")","{","oW","=","dot","(","f",".","xyz",",","oX",")",";","oW","=","sqrt","(","_1_0","-","oW","*","oW",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","(","_1_0","-","oU",")","*","max","(","dot","(","oT",",","oX",")",",","_0_0",")","+","oU",";"]}]}]},{TYPE:"txt",TOKENS:["oW","=","pow","(","oW",",","oV","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oZ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"o_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pc","=","_0_0",";","if","(","oZ",".","g","!=","_0_0",")","{","vec3","oX","=","normalize","(","oY","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pa","==","_0_0",")","{","pc","=","dot","(","o",".","xyz",",","oX",")",";","pc","=","sqrt","(","_1_0","-","pc","*","pc",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pc","=","max","(","dot","(","o_",",","oX",")",",","_0_0",")",";","pc","=","(","_1_0","-","pa",")","*","pc","+","pa",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ov","=","max","(","dot","(","o",".","xyz",",","v",")",",","_0_0",")",";","ov","=","sqrt","(","_1_0","-","ov","*","ov",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","ov","=","max","(","dot","(","o_",",","v",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pc","=","pow","(","pc",",","pb","[","0","]",")",";","pc","=","pc","/","(","0.1","+","ov",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pi","=","_0_0",";","if","(","pe",".","g","==","_1_0",")","{","vec3","oX","=","normalize","(","pd","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","_0_0",";","float","ov","=","_0_0",";","float","pk","=","_0_0",";","if","(","pg","==","_0_0",")","{","pj","=","dot","(","f",".","xyz",",","oX",")",";","ov","=","dot","(","f",".","xyz",",","v",")",";","pk","=","dot","(","f",".","xyz",",","pd",")",";","pj","=","sqrt","(","_1_0","-","pj","*","pj",")",";","ov","=","sqrt","(","_1_0","-","ov","*","ov",")",";","pk","=","sqrt","(","_1_0","-","pk","*","pk",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","max","(","dot","(","pf",",","oX",")",",","0.01",")",";","float","ov","=","max","(","dot","(","pf",",","v",")",",","0.01",")",";","float","pk","=","max","(","dot","(","pf",",","pd",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bp","=","tan","(","acos","(","pj",")",")",";","float","L","=","max","(","ph","[","0","]",",","0.01",")",";","pi","=","pk","*","(","_1_0","/","(","4.0","*","M_PI","*","L","*","L",")",")","*","(","exp","(","-","(","bp","*","bp",")","/","(","L","*","L",")",")","/","(","sqrt","(","ov","*","pk",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pm",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pu","=","_0_0",";","if","(","pm",".","g","==","_1_0",")","{","vec3","bS","=","normalize","(","pl","+","v",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pv","=","dot","(","bS",",","f",".","xyz",")",";","float","bp","=","pr","[","0","]","+","pr","[","1","]",";","if","(","po","==","_0_0",")","bp","=","acos","(","sqrt","(","_1_0","-","pv","*","pv",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bp","=","acos","(","dot","(","bS",",","pn",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bp","<","pr","[","0","]",")","pu","=","_1_0",";","else","if","(","bp",">=","pr","[","0","]","+","pr","[","1","]","||","pr","[","1","]","==","_0_0",")","pu","=","_0_0",";","else","pu","=","_1_0","-","(","bp","-","pr","[","0","]",")","/","pr","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"px",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"py",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pB","=","_0_0",";","if","(","px",".","g","==","_1_0",")","{","if","(","pA","[","0","]","<","1.0","||","pA","[","1","]","==","_0_0",")","pB","=","_0_0",";","else","{","if","(","pA","[","1","]","<","100.0",")","pA","[","1","]","=","sqrt","(","1.0","/","pA","[","1","]",")",";","else","pA","[","1","]","=","10.0","/","pA","[","1","]",";","vec3","oX","=","normalize","(","v","+","pw",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","0.0",";","if","(","pz","==","_0_0",")","{","float","pC","=","dot","(","f",".","xyz",",","oX",")",";","pj","=","sqrt","(","_1_0","-","pC","*","pC",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","pj","=","(","_1_0","-","pz",")","*","max","(","dot","(","py",",","oX",")",",","_0_0",")","+","pz",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","pj","<","_0_0",")","pB","=","_0_0",";","else","{","float","ov","=","max","(","dot","(","py",",","v",")",",","0.01",")",";","float","pk","=","dot","(","py",",","pw",")",";","if","(","pk","<=","0.01",")","pB","=","_0_0",";","else","{","float","pD","=","max","(","dot","(","v",",","oX",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","pj","*","ov",")","/","pD",";","float","de","=","(","2.0","*","pj","*","pk",")","/","pD",";","float","g","=","min","(","min","(","a",",","b",")",",","de",")",";","float","p","=","sqrt","(","pow","(","pA","[","0","]",",","2.0",")","+","pow","(","pD",",","2.0",")","-","_1_0",")",";","float","ln","=","pow","(","p","-","pD",",","2.0",")","/","pow","(","p","+","pD",",","2.0",")","*","(","_1_0","+","pow","(","pD","*","(","p","+","pD",")","-","_1_0",",","2.0",")","/","pow","(","pD","*","(","p","-","pD",")","+","_1_0",",","2.0",")",")",";","float","oQ","=","acos","(","pj",")",";","pB","=","max","(","ln","*","g","*","exp","(","-","pow","(","oQ",",","2.0",")","/","(","2.0","*","pow","(","pA","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pE",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pP",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pI",",","pJ",")","*","dot","(","v",",","pJ",")","<","_0_0",")","{","float","zH","=","pK",".","x",";","float","zI","=","pK",".","y",";","float","zJ","=","pK",".","z",";","float","zK","=","pK",".","w",";","float","zL","=","clamp","(","abs","(","dot","(","pI",",","pJ",")",")",",","_0_0",",","_1_0",")",";","float","zM","=","clamp","(","dot","(","v",",","-","pI",")",",","_0_0",",","_1_0",")",";","float","zN","=","pow","(","zM",",","zI",")",";","pP","=","pE","+","pO","*","vec4","(","pN","*","zL","*","pow","(","pL",",","vec3","(","zH",")",")",",","_1_0",")",";","pP","+=","zJ","*","mix","(","vec4","(","pL",",","_1_0",")",",","vec4","(","_1_0",")",",","zK",")","*","pO","*","vec4","(","pN","*","zL","*","vec3","(","zN",")",",","_1_0",")",";","pQ","=","pF",";","}","else","{","pQ","=","pF","+","pN","*","pM","*","pH",";","pP","=","pE","+","vec4","(","pN","*","pL","*","pG",",","pH",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pQ","=","pF","+","pN","*","pM","*","pH",";","pP","=","pE","+","vec4","(","pN","*","pL","*","pG",",","pH",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"zO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zO","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","dot","(","zP",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zS",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zS"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zR",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","zR",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zU"],STATEMENTS:[{TYPE:"txt",TOKENS:["zU","=","zR",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"zY",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zZ","=","jz","(","zV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zW"],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","zZ",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zX"],STATEMENTS:[{TYPE:"txt",TOKENS:["zX","=","zZ",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zY"],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","zZ",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"z_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ab",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ac",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ac","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","z_","-","Ab",")","*","Aa",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ad",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Af",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Af","=","Ad",";","if","(","Af",".","x",">","_0_0",")","Af",".","x","=","pow","(","Ad",".","x",",","Ae",")",";","if","(","Af",".","y",">","_0_0",")","Af",".","y","=","pow","(","Ad",".","y",",","Ae",")",";","if","(","Af",".","z",">","_0_0",")","Af",".","z","=","pow","(","Ad",".","z",",","Ae",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ag",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ah",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ah","=","max","(","vec3","(","_0_0",")",",","Ag",")",";","Ah","=","pow","(","Ah",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ai",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","max","(","vec3","(","_0_0",")",",","Ai",")",";","Aj","=","pow","(","Aj",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Ak",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Al",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ak"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ak","[","2","]","=","Ak","[","1","]","=","Ak","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Al"],STATEMENTS:[{TYPE:"txt",TOKENS:["Al","[","2","]","=","Al","[","1","]","=","Al","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Am"],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"An",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ao",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","An",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ao"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ao","=","wl",".","xyz",";","cb","(","Ao",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ap"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","wl",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ar",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"As",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"At",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Au",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Av",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Aw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ax",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Az",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AA",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AC",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","Ar",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Av"],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","Av",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Aw"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aw","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","As",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ax"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ax","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","Ax",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ay"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","At",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Az"],STATEMENTS:[{TYPE:"txt",TOKENS:["Az","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","Az",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AA"],STATEMENTS:[{TYPE:"txt",TOKENS:["AA","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qB","(","Au",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AB"],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","wl",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cb","(","AB",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AC"],STATEMENTS:[{TYPE:"txt",TOKENS:["AC","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"AG",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AH",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AK",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"AO",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AD",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AH"],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AI"],STATEMENTS:[{TYPE:"txt",TOKENS:["AI","=","wl",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AE",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["AJ","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AK"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AF",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AL"],STATEMENTS:[{TYPE:"txt",TOKENS:["AL","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AM"],STATEMENTS:[{TYPE:"txt",TOKENS:["AM","=","wl",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["wl","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qB","(","AG",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AN"],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","normalize","(","qQ","*","(","wl",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AO"],STATEMENTS:[{TYPE:"txt",TOKENS:["AO","=","wl",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"AP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AP","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AT",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AS","=","AQ","+","AR",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AT"],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","(","abs","(","AS","[","0","]",")","+","abs","(","AS","[","1","]",")","+","abs","(","AS","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AX",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","AU","-","AV",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_AX"],STATEMENTS:[{TYPE:"txt",TOKENS:["AX","=","(","abs","(","AW","[","0","]",")","+","abs","(","AW","[","1","]",")","+","abs","(","AW","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"A_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","AY","+","AZ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ba"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ba","=","length","(","A_",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_A_"],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","normalize","(","A_",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Be"],STATEMENTS:[{TYPE:"txt",TOKENS:["Be","=","dot","(","Bb",",","Bc",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","cross","(","Bf",",","Bg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bi"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bi","=","length","(","Bh",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","normalize","(","Bj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Bm"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bm","=","length","(","Bj",")",";"]}]}]},{TYPE:"txt",TOKENS:["Bk",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","reflect","(","U","(","G",",","Bn",")",",","Bo",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Br",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Bs","=","-","v",".","xyz",";","Br","=","reflect","(","Bs",",","Bq",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bv",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","qR",")",";","if","(","bt","<","Bw",")","{","vec2","bI","=","qB","(","Bt",")",";","float","bM","=","clamp","(","_0_5","*","(","Bw","-","bt",")",",","_0_0",",","_1_0",")",";","float","hl","=","Bu","*","bM",";","vec3","bO","=","normalize","(","v","*","qQ",")",";","float","bP","=","_1_0","/","Bv",";","vec2","bQ","=","bO",".","xy","*","hl","/","(","Bv","*","bO",".","z",")",";","float","bR","=","_1_0",";","float","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bI",")",".","a",";","for","(","float","bU","=","1.0",";","bU","<=","Bv",";","bU","++",")","{","if","(","bS","<","bR",")","{","bR","-=","bP",";","bI","-=","bQ",";","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bI",")",".","a",";","}","}","vec2","bV","=","bI","+","bQ",";","float","bW","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bV",")",".","a","-","(","bR","+","bP",")",";","float","bX","=","bS","-","bR",";","float","bY","=","bX","/","(","bX","-","bW",")",";","bI","=","bY","*","bV","+","(","_1_0","-","bY",")","*","bI",";","Bx","=","qA","(","bI",")",";","}","else","Bx","=","Bt",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Bz","=","clamp","(","By",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BC","=","BA",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BJ",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BI"],STATEMENTS:[{TYPE:"txt",TOKENS:["BI","=","BD",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","vec4","(","BE",",","BF",",","BG",",","BH",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"BK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BO","=","smoothstep","(","BM",",","BN",",","BL",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","BP",";","E","=","BQ",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BS","=","(","BR",".","r","+","BR",".","g","+","BR",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"BT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","[","0","]","=","BT",";","BU","[","1","]","=","BT",";","BU","[","2","]","=","BT",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(","in","vec3","v",",","in","mat3","F",",","in","mat3","G",",","in","mat3","H",",","in","mat3","I",",","out","vec3","A",",","out","vec3","B",",","out","vec3","C",",","out","vec4","D",",","out","float","E",")","{","A","=","vec3","(","_0_0",")",";","B","=","vec3","(","_0_0",")",";","C","=","vec3","(","_0_0",")",";","D","=","vec4","(","_0_0",")",";","E","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","normalize","(","e",")",";","vec3","bJ","=","Q",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bJ","=","bJ",";","else","bJ","=","-","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ny","=","bJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ny","=","Q",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qP","=","bJ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","S","=","cross","(","bJ",",","f",".","xyz",")","*","f",".","w",";","S","=","normalize","(","S",")",";","vec3","R","=","cross","(","S",",","bJ",")","*","f",".","w",";","mat3","qQ","=","mat3","(","R",",","S",",","bJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nx","=","c",";","vec4","qR","=","d",";","float","qS","=","u_emit",";","float","qT","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/particles_nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLV",TOKENS:[""]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["n","=","CA",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[{TYPE:"node_var",NAME:"PART_INFO_SIZE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_AGE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LT",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LOC",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_VEL",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_A_VEL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_param",NAME:"Cr",QUALIFIER:["GLSL_OUT","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cs",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Ct",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Cu",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_PARTICLE_INFO_var_a_p_indices",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_SIZE"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","3","]","=","Cz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_AGE"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","1","]","=","Cy",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LT"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","2","]","=","CB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LOC"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cs","=","Cv",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_IND"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cr","[","0","]","=","node_PARTICLE_INFO_var_a_p_indices",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ct","=","Cw",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_A_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cu","=","Cx",";"]}]}]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","J","(","in","vec3","Cv",",","in","vec3","Cw",",","in","vec3","Cx",",","in","float","Cy",",","in","float","Cz",",","in","vec2","CA",",","in","float","CB",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["n","=","CA",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/precision_statement.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PRECISION_STATEMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PRECISION_STATEMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","float",";"]}]}}]}]},exports["include/procedural.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PROCEDURAL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PROCEDURAL_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","CC","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec3","CC","(","vec3","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec2","CC","(","vec2","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec4","CD","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","7.0",")",")","*","7.0",";","}","vec4","CE","(","vec4","x",")","{","return","CC","(","(","34.0","*","x","+","5.0",")","*","x",")",";","}"]},{TYPE:"define",NAME:"K",TOKENS:["0.142857142857"]},{TYPE:"define",NAME:"K2",TOKENS:["0.0714285714285"]},{TYPE:"define",NAME:"JITTER",TOKENS:["0.7"]},{TYPE:"txt",TOKENS:["vec2","e_","(","vec2","CF",")","{","vec2","CG","=","CC","(","floor","(","CF",")",")",";","vec2","CH","=","fract","(","CF",")",";","vec4","CI","=","CH",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","CJ","=","CH",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","CE","(","CG",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","CE","(","p","+","CG",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","CK","=","CD","(","p",")","*","K","+","K2",";","vec4","CL","=","CD","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","CM","=","CI","+","JITTER","*","CK",";","vec4","CN","=","CJ","+","JITTER","*","CL",";","vec4","dj","=","CM","*","CM","+","CN","*","CN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dj",".","xy","=","min","(","dj",".","xy",",","dj",".","zw",")",";","dj",".","x","=","min","(","dj",".","x",",","dj",".","y",")",";","return","dj",".","xx",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dj",".","xy","=","(","dj",".","x","<","dj",".","y",")","?","dj",".","xy",":","dj",".","yx",";","dj",".","xz","=","(","dj",".","x","<","dj",".","z",")","?","dj",".","xz",":","dj",".","zx",";","dj",".","xw","=","(","dj",".","x","<","dj",".","w",")","?","dj",".","xw",":","dj",".","wx",";","dj",".","y","=","min","(","dj",".","y",",","dj",".","z",")",";","dj",".","y","=","min","(","dj",".","y",",","dj",".","w",")",";","return","sqrt","(","dj",".","xy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","vec3","kq","(","vec2","CF",",","float","CO",")","{","vec2","CG","=","CC","(","floor","(","CF",")",")",";","vec2","CH","=","fract","(","CF",")",";","vec4","CI","=","CH",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","CJ","=","CH",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","CE","(","CG",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","CE","(","p","+","CG",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","CK","=","CD","(","p",")","*","K","+","K2",";","vec4","CL","=","CD","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","CM","=","CI","+","JITTER","*","CK",";","vec4","CN","=","CJ","+","JITTER","*","CL",";","vec4","CP","=","CM","*","CM","+","CN","*","CN",";","CM","+=","CO",";","CN","+=","CO",";","vec4","CQ","=","CM","*","CM","+","CN","*","CN",";","CM","+=","CO",";","CN","+=","CO",";","vec4","CR","=","CM","*","CM","+","CN","*","CN",";","CP",".","xy","=","min","(","CP",".","xy",",","CP",".","zw",")",";","CP",".","x","=","min","(","CP",".","x",",","CP",".","y",")",";","CQ",".","xy","=","min","(","CQ",".","xy",",","CQ",".","zw",")",";","CQ",".","x","=","min","(","CQ",".","x",",","CQ",".","y",")",";","CR",".","xy","=","min","(","CR",".","xy",",","CR",".","zw",")",";","CR",".","x","=","min","(","CR",".","x",",","CR",".","y",")",";","return","vec3","(","CP",".","x",",","CQ",".","x",",","CR",".","x",")",";","}","vec3","CS","(","vec3","x",")","{","return","CC","(","(","(","x","*","34.0",")","+","_1_0",")","*","x",")",";","}","float","eP","(","vec2","kj",")","{","const","vec4","CT","=","vec4","(","0.211324865405187",",","0.366025403784439",",","-","0.577350269189626",",","0.024390243902439",")",";","vec2","bU","=","floor","(","kj","+","dot","(","kj",",","CT",".","yy",")",")",";","vec2","CU","=","kj","-","bU","+","dot","(","bU",",","CT",".","xx",")",";","vec2","CV",";","CV","=","(","CU",".","x",">","CU",".","y",")","?","vec2","(","_1_0",",","_0_0",")",":","vec2","(","_0_0",",","_1_0",")",";","vec4","CW","=","CU",".","xyxy","+","CT",".","xxzz",";","CW",".","xy","-=","CV",";","bU","=","CC","(","bU",")",";","vec3","p","=","CS","(","CS","(","bU",".","y","+","vec3","(","_0_0",",","CV",".","y",",","_1_0",")",")","+","bU",".","x","+","vec3","(","_0_0",",","CV",".","x",",","_1_0",")",")",";","vec3","aq","=","max","(","0.5","-","vec3","(","dot","(","CU",",","CU",")",",","dot","(","CW",".","xy",",","CW",".","xy",")",",","dot","(","CW",".","zw",",","CW",".","zw",")",")",",","_0_0",")",";","aq","=","aq","*","aq",";","aq","=","aq","*","aq",";","vec3","x","=","2.0","*","fract","(","p","*","CT",".","www",")","-","_1_0",";","vec3","bS","=","abs","(","x",")","-","0.5",";","vec3","CK","=","floor","(","x","+","0.5",")",";","vec3","CX","=","x","-","CK",";","aq","*=","1.79284291400159","-","0.85373472095314","*","(","CX","*","CX","+","bS","*","bS",")",";","vec3","g",";","g",".","x","=","CX",".","x","*","CU",".","x","+","bS",".","x","*","CU",".","y",";","g",".","yz","=","CX",".","yz","*","CW",".","xz","+","bS",".","yz","*","CW",".","yw",";","return","130.0","*","dot","(","aq",",","g",")",";","}","vec2","C_","(","vec2","fn",")","{","float","CP","=","dot","(","fn",",","vec2","(","12.9898",",","78.233",")",")",";","float","CQ","=","dot","(","fn",",","vec2","(","12.9898",",","78.233",")","*","2.0",")",";","float","CY","=","fract","(","sin","(","CP",")","*","43758.5453",")","*","2.0","-","_1_0",";","float","CZ","=","fract","(","sin","(","CQ",")","*","43758.5453",")","*","2.0","-","_1_0",";","return","vec2","(","CY",",","CZ",")",";","}"]}]}}]}]},exports["include/refraction.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"REFRACTION_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"REFRACTION_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ep","(","in","float","cA",",","inout","vec2","eo",",","in","vec2","dY",")","{","vec4","Da","=","GLSL_TEXTURE","(","u_scene_depth",",","eo",")",";","float","eq","=","cz","(","Da",")",";","if","(","eq","<","i",")","{","eo","=","dY",";","return","cA",";","}","else","{","return","eq",";","}","return","cA",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cw","(","in","vec3","qi",",","in","vec2","Db",")","{","vec2","dY","=","qi",".","xy","/","qi",".","z",";","vec2","eo","=","dY","+","Db",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cy","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","qi",")",";","float","cA","=","cz","(","cy",")",";","ep","(","cA",",","eo",",","dY",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","eu","=","GLSL_TEXTURE","(","u_refractmap",",","eo",")",".","rgb",";","cb","(","eu",")",";","return","eu",";","}"]}]}}]}]}}]}]},exports["include/scale_texcoord.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SCALE_TEXCOORD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SCALE_TEXCOORD_GLSLV",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec2","ap","(","vec2","bI",",","vec3","Dc",")","{","return","(","bI","+","0.5",")","*","Dc",".","xy","-","0.5",";","}"]}]}}]}]},exports["include/shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"CSM_FADE_LAST_CASCADE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_BLEND_BETWEEN_CASCADES",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Dd","=","0.1",";","const","float","De","=","0.1",";","const","float","Df","=","-","0.01",";","const","float","Dg","=","0.05",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Dh","=","vec4","(","0.14383161",",","0.34495938",",","-","0.38277543",",","-","0.26496911",")",";","vec4","Di","=","vec4","(","0.53742981",",","0.19984126",",","0.79197514",",","-","0.094184101",")",";","vec4","Dj","=","vec4","(","-","0.94201624",",","-","0.91588581",",","-","0.2418884",",","0.44323325",")",";","vec4","Dk","=","vec4","(","-","0.81544232",",","0.94558609",",","-","0.81409955",",","0.97484398",")",";","vec4","Dl","=","vec4","(","-","0.1410079",",","0.2938776",",","0.27676845",",","-","0.41893023",")",";","vec4","Dm","=","vec4","(","-","0.4737342",",","0.78641367",",","0.19090188",",","-","0.9293887",")",";","vec4","Dn","=","vec4","(","-","0.39906216",",","0.45771432",",","0.99706507",",","-","0.97511554",")",";","vec4","Do","=","vec4","(","-","0.87912464",",","-","0.76890725",",","0.9143759",",","0.7564837",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Dh","=","vec2","(","-","0.37192261",",","0.47109537",")",";","vec2","Di","=","vec2","(","-","0.6807477",",","0.69048062",")",";","vec2","Dj","=","vec2","(","0.11615683",",","-","0.91318524",")",";","vec2","Dk","=","vec2","(","0.93688596",",","-","0.16948928",")",";","vec2","Dl","=","vec2","(","-","0.89699117",",","0.74092316",")",";","vec2","Dm","=","vec2","(","0.38263656",",","-","0.66119884",")",";","vec2","Dn","=","vec2","(","-","0.08193062",",","-","0.21275223",")",";","vec2","Do","=","vec2","(","0.05578877",",","0.84225623",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_4",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Dh","=","vec2","(","-","0.51808083",",","0.0",")",";","vec2","Di","=","vec2","(","0.5741194",",","0.0",")",";","vec2","Dj","=","vec2","(","-","0.68048857",",","0.0",")",";","vec2","Dk","=","vec2","(","0.82934988",",","0.0",")",";","vec2","Dl","=","vec2","(","0.70009436",",","0.0",")",";","vec2","Dm","=","vec2","(","-","0.78790467",",","0.0",")",";","vec2","Dn","=","vec2","(","-","0.58619489",",","0.0",")",";","vec2","Do","=","vec2","(","0.41902178",",","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bool","Dq","(","vec2","h_",",","float","Dp",")","{","return","all","(","lessThanEqual","(","h_",",","vec2","(","1.0","+","Dp",")",")",")","&&","all","(","greaterThanEqual","(","h_",",","vec2","(","0.0","-","Dp",")",")",")",";","}","float","Dx","(","float","Dr",",","float","Ds",",","mat2","Dt",",","vec3","Du",",","float","Dv",",","PRECISION","GLSL_SMPLR2D_SHDW","Dw",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","h_",",","fb",";","fb",".","x","=","Dr",";","fb",".","y","=","Ds",";","fb","=","Dt","*","fb",";","h_","=","Du",".","xy","+","fb","*","Dv","/","SHADOW_TEX_RES",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","h_","=","Du",".","xy",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","Dq","(","h_",",","Df",")",")","return","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE","(","Dw",",","vec3","(","h_",",","Du",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","step","(","Du",".","z",",","GLSL_TEXTURE","(","Dw",",","h_",")",".","r",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","DC","(","vec3","Du",",","PRECISION","GLSL_SMPLR2D_SHDW","Dw",",","float","Dv",")","{","float","Dy","=","0.0",";","Du",".","z","=","clamp","(","Du",".","z",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Dz","=","C_","(","Du",".","xy",")",".","x","*","M_PI",";","float","DA","=","cos","(","Dz",")",";","float","DB","=","sin","(","Dz",")",";","mat2","Dt","=","mat2","(","DA",",","DB",",","-","DB",",","DA",")",";","for","(","int","bU","=","0",";","bU","<","POISSON_DISK_NUM",";","bU","++",")","{","Dy","+=","Dx","(","Dh","[","bU","]",",","Dl","[","bU","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","Dy","+=","Dx","(","Di","[","bU","]",",","Dm","[","bU","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","Dy","+=","Dx","(","Dj","[","bU","]",",","Dn","[","bU","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","Dy","+=","Dx","(","Dk","[","bU","]",",","Do","[","bU","]",",","Dt",",","Du",",","Dv",",","Dw",")",";","}","return","clamp","(","Dy","/","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","Dx","(","0.0",",","0.0",",","mat2","(","0.0",")",",","Du",",","Dv",",","Dw",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","DL","(","vec3","DD",",","PRECISION","GLSL_SMPLR2D_SHDW","DE",",","vec3","DF",",","PRECISION","GLSL_SMPLR2D_SHDW","DG",",","float","DH",",","float","DI",",","float","aF",")","{","float","DJ",",","DK",";","DD",".","z","=","clamp","(","DD",".","z",",","0.0",",","1.0",")",";","DF",".","z","=","clamp","(","DF",".","z",",","0.0",",","1.0",")",";","DJ","=","0.0",";","DK","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Dz","=","C_","(","DD",".","xy",")",".","x","*","M_PI",";","float","DA","=","cos","(","Dz",")",";","float","DB","=","sin","(","Dz",")",";","mat2","Dt","=","mat2","(","DA",",","DB",",","-","DB",",","DA",")",";","for","(","int","bU","=","0",";","bU","<","POISSON_DISK_NUM",";","bU","++",")","{","DJ","+=","Dx","(","Dh","[","bU","]",",","Dl","[","bU","]",",","Dt",",","DD",",","DH",",","DE",")",";","DJ","+=","Dx","(","Di","[","bU","]",",","Dm","[","bU","]",",","Dt",",","DD",",","DH",",","DE",")",";","DJ","+=","Dx","(","Dj","[","bU","]",",","Dn","[","bU","]",",","Dt",",","DD",",","DH",",","DE",")",";","DJ","+=","Dx","(","Dk","[","bU","]",",","Do","[","bU","]",",","Dt",",","DD",",","DH",",","DE",")",";","}","for","(","int","bU","=","0",";","bU","<","POISSON_DISK_NUM",";","bU","++",")","{","DK","+=","Dx","(","Dh","[","bU","]",",","Dl","[","bU","]",",","Dt",",","DF",",","DI",",","DG",")",";","DK","+=","Dx","(","Di","[","bU","]",",","Dm","[","bU","]",",","Dt",",","DF",",","DI",",","DG",")",";","DK","+=","Dx","(","Dj","[","bU","]",",","Dn","[","bU","]",",","Dt",",","DF",",","DI",",","DG",")",";","DK","+=","Dx","(","Dk","[","bU","]",",","Do","[","bU","]",",","Dt",",","DF",",","DI",",","DG",")",";","}","DJ","=","mix","(","DJ",",","DK",",","aF",")",";","DJ","/=","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DJ","+=","Dx","(","0.0",",","0.0",",","mat2","(","0.0",")",",","DD",",","DH",",","DE",")",";","DK","+=","Dx","(","0.0",",","0.0",",","mat2","(","0.0",")",",","DF",",","DI",",","DG",")",";","DJ","=","mix","(","DJ",",","DK",",","aF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","clamp","(","DJ",",","0.0",",","1.0",")",";","}","float","DM","(","vec2","h_",")","{","float","a","=","min","(","h_",".","x",",","h_",".","y",")",";","float","b","=","min","(","1.0","-","h_",".","x",",","1.0","-","h_",".","y",")",";","return","min","(","a",",","b",")",";","}","float","DP","(","float","DN",",","float","DO",")","{","if","(","DO",">=","0.0","&&","DO","<=","De",")","DN","=","(","DN","-","1.0",")","/","De","*","DO","+","1.0",";","return","DN",";","}","float","DU","(","vec3","DQ",",","vec3","DR",",","PRECISION","GLSL_SMPLR2D_SHDW","DE",",","PRECISION","GLSL_SMPLR2D_SHDW","DG",",","float","DH",",","float","DI",",","float","DS",",","float","fO",")","{","float","DN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_BLEND_BETWEEN_CASCADES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","DO","=","DM","(","DQ",".","xy",")",";","if","(","-","fO",">","DS","&&","DO",">=","0.0","&&","DO","<=","Dd","&&","Dq","(","DR",".","xy",",","0.0",")",")","{","float","DT","=","1.0","-","DO","/","Dd",";","DN","=","DL","(","DQ",",","DE",",","DR",",","DG",",","DH",",","DI",",","DT",")",";","}","else"]}]}}]},{TYPE:"txt",TOKENS:["DN","=","DC","(","DQ",",","DE",",","DH",")",";","return","DN",";","}","float","DW","(","vec3","DV",",","PRECISION","GLSL_SMPLR2D_SHDW","Dw",",","float","Dv",",","float","DS",",","float","fO",")","{","float","DN","=","DC","(","DV",",","Dw",",","Dv",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_FADE_LAST_CASCADE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","-","fO",">","DS",")","{","float","DO","=","DM","(","DV",".","xy",")",";","DN","=","DP","(","DN",",","DO",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["return","DN",";","}","vec4","dH","(","float","fO",")","{","float","DN","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","DX","=","u_pcf_blur_radii",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","DX","=","vec4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","DD","=","j",".","xyz","/","j",".","w",";","if","(","j",".","w","<","0.0",")","DD",".","z","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DF","=","k",".","xyz","/","k",".","w",";","if","(","k",".","w","<","0.0",")","DF",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DY","=","l",".","xyz","/","l",".","w",";","if","(","l",".","w","<","0.0",")","DY",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DZ","=","m",".","xyz","/","m",".","w",";","if","(","m",".","w","<","0.0",")","DZ",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","Dq","(","DD",".","xy",",","0.0",")",")","{","DN","=","DU","(","DD",",","DF",",","u_shadow_map0",",","u_shadow_map1",",","DX","[","0","]",",","DX","[","1","]",",","u_csm_center_dists","[","0","]",",","fO",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","Dq","(","DD",".","xy",",","Dg",")",")","{","DN","=","DW","(","DD",",","u_shadow_map0",",","DX","[","0","]",",","u_csm_center_dists","[","0","]",",","fO",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Dq","(","DF",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DU","(","DF",",","DY",",","u_shadow_map1",",","u_shadow_map2",",","DX","[","1","]",",","DX","[","2","]",",","u_csm_center_dists","[","1","]",",","fO",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DW","(","DF",",","u_shadow_map1",",","DX","[","1","]",",","u_csm_center_dists","[","1","]",",","fO",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Dq","(","DY",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DU","(","DY",",","DZ",",","u_shadow_map2",",","u_shadow_map3",",","DX","[","2","]",",","DX","[","3","]",",","u_csm_center_dists","[","2","]",",","fO",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DN","=","DW","(","DY",",","u_shadow_map2",",","DX","[","2","]",",","u_csm_center_dists","[","2","]",",","fO",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Dq","(","DZ",".","xy",",","0.0",")",")","DN","=","DW","(","DZ",",","u_shadow_map3",",","DX","[","3","]",",","u_csm_center_dists","[","3","]",",","fO",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","D_","=","DC","(","DF",",","u_shadow_map1",",","DX","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","D_","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Ea","=","DC","(","DY",",","u_shadow_map2",",","DX","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Ea","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Eb","=","DC","(","DZ",",","u_shadow_map3",",","DX","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Eb","=","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec4","(","DN",",","D_",",","Ea",",","Eb",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","cl","(","inout","vec3","ch",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Dy","=","GLSL_TEXTURE","(","u_shadow_mask",",","h",".","xy","/","h",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"l_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ch","*=","Dy",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["return","Dy",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Dy","=","dH","(","d",".","z",")",";","return","Dy",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["vec4","Ef","(","mat4","Ec",",","vec4","Ed",",","mat4","Ee",")","{","vec2","dJ","=","(","Ec","*","Ee","[","3","]",")",".","xy",";","float","dK","=","SHADOW_TEX_RES","/","2.0",";","dJ","=","floor","(","dJ","*","dK","+","0.5",")","/","dK","-","dJ",";","vec4","Du","=","Ec","*","Ed",";","Du",".","xy","+=","dJ",";","Du",".","xyz","=","0.5","*","(","Du",".","xyz","+","Du",".","w",")",";","return","Du",";","}","void","bH","(","vec3","eH",",","vec3","Eg",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","Ee","=","aV","(","u_v_light_tsr","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","Ee","=","aV","(","mat3","(","u_v_light_ts","[","0","]",",","u_v_light_r","[","0","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","Eh","=","Ee","*","vec4","(","eH","+","u_normal_offset","*","Eg",",","1.0",")",";","j","=","Ef","(","u_p_light_matrix0",",","Eh",",","Ee",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","u_v_light_tsr","[","1","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","mat3","(","u_v_light_ts","[","1","]",",","u_v_light_r","[","1","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Eh","=","Ee","*","vec4","(","eH","+","u_normal_offset","*","Eg",",","1.0",")",";","k","=","Ef","(","u_p_light_matrix1",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","u_v_light_tsr","[","2","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","mat3","(","u_v_light_ts","[","2","]",",","u_v_light_r","[","2","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Eh","=","Ee","*","vec4","(","eH","+","u_normal_offset","*","Eg",",","1.0",")",";","l","=","Ef","(","u_p_light_matrix2",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","u_v_light_tsr","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ee","=","aV","(","mat3","(","u_v_light_ts","[","3","]",",","u_v_light_r","[","3","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Eh","=","Ee","*","vec4","(","eH","+","u_normal_offset","*","Eg",",","1.0",")",";","m","=","Ef","(","u_p_light_matrix3",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["k","=","Ef","(","u_p_light_matrix1",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","Ef","(","u_p_light_matrix2",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","Ef","(","u_p_light_matrix3",",","Eh",",","Ee",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/skin.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKIN_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKIN_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"DISABLE_TANGENT_SKINNING",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"SKIN_SLERP",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Ep","(","in","vec4","gJ",",","in","vec4","Ei",",","in","float","Ej",")","{","float","Ek","=","gJ","[","0","]","*","Ei","[","0","]","+","gJ","[","1","]","*","Ei","[","1","]","+","gJ","[","2","]","*","Ei","[","2","]","+","gJ","[","3","]","*","Ei","[","3","]",";","if","(","Ek","<","0.0",")","{","Ei","*=","-","1.0",";","Ek","=","-","Ek",";","}","if","(","abs","(","Ek",")",">=","1.0",")","return","gJ",";","float","El","=","acos","(","Ek",")",";","float","Em","=","sqrt","(","1.0","-","Ek","*","Ek",")",";","if","(","abs","(","Em",")","<","0.001",")","return","vec4","(","gJ","*","0.5","+","Ei","*","0.5",")",";","float","En","=","sin","(","(","1.0","-","Ej",")","*","El",")","/","Em",";","float","Eo","=","sin","(","Ej","*","El",")","/","Em",";","return","gJ","*","En","+","Ei","*","Eo",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ED","(","in","vec3","O",",","in","vec4","Eq",",","in","vec4","Er",",","in","vec4","Es",",","in","vec4","Et",",","in","float","Eu",")","{","vec3","Ev","=","p_","(","u_arm_rel_trans",",","u_arm_rel_quat",",","O",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gJ","=","Ep","(","Eq",",","Er",",","Eu",")",";","vec4","Ew","=","mix","(","Es",",","Et",",","Eu",")",";","vec3","Ex","=","P","(","gJ",",","Ev",")",";","vec3","Ey","=","Ex","*","Ew",".","w","+","Ew",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ez","=","P","(","Eq",",","Ev",")",";","vec3","EA","=","P","(","Er",",","Ev",")",";","vec3","EB","=","Ez","*","Es",".","w","+","Es",".","xyz",";","vec3","EC","=","EA","*","Et",".","w","+","Et",".","xyz",";","vec3","Ey","=","mix","(","EB",",","EC",",","Eu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","qc","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Ey",")",";","}","vec3","EJ","(","in","vec3","EE",",","in","vec4","Eq",",","in","vec4","Er",",","in","float","Eu",")","{","vec3","EF","=","qb","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EE",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gJ","=","Ep","(","Eq",",","Er",",","Eu",")",";","vec3","EG","=","P","(","gJ",",","EF",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","EH","=","P","(","Eq",",","EF",")",";","vec3","EI","=","P","(","Er",",","EF",")",";","vec3","EG","=","mix","(","EH",",","EI",",","Eu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","qd","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EG",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ED","(","in","vec3","O",",","in","vec4","Eq",",","in","vec4","Es",")","{","vec3","Ev","=","p_","(","u_arm_rel_trans",",","u_arm_rel_quat",",","O",")",";","vec3","Ex","=","P","(","Eq",",","Ev",")",";","vec3","Ey","=","Ex","*","Es",".","w","+","Es",".","xyz",";","return","qc","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Ey",")",";","}","vec3","EJ","(","in","vec3","EE",",","in","vec4","Eq",")","{","vec3","EF","=","qb","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EE",")",";","vec3","EG","=","P","(","Eq",",","EF",")",";","return","qd","(","u_arm_rel_trans",",","u_arm_rel_quat",",","EG",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","ac","(","inout","vec3","O",",","inout","vec3","R",",","inout","vec3","S",",","inout","vec3","Q",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","EK","=","u_frame_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","a_influence",".","y",">","0.0",")","{","vec3","iV","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","EL","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","EM","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","EN","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec4","EO","=","a_influence",";","for","(","int","bU","=","0",";","bU","<","4",";","bU","++",")","{","int","EP","=","int","(","EO","[","bU","]",")",";","float","EQ","=","fract","(","EO","[","bU","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EL","+=","EQ","*","EJ","(","R",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","EK",")",";","EM","+=","EQ","*","EJ","(","S",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","EK",")",";","EN","+=","EQ","*","EJ","(","Q",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","EK",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iV","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_transb","[","EP","]",")",";","EN","+=","EQ","*","EJ","(","Q",",","u_quatsb","[","EP","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EL","+=","EQ","*","EJ","(","R",",","u_quatsb","[","EP","]",")",";","EM","+=","EQ","*","EJ","(","S",",","u_quatsb","[","EP","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["int","EP","=","int","(","EO","[","0","]",")",";","float","EQ","=","fract","(","EO","[","0","]",")",";","iV","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";","EP","=","int","(","EO","[","1","]",")",";","EQ","=","fract","(","EO","[","1","]",")",";","iV","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";","EP","=","int","(","EO","[","2","]",")",";","EQ","=","fract","(","EO","[","2","]",")",";","iV","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";","EP","=","int","(","EO","[","3","]",")",";","EQ","=","fract","(","EO","[","3","]",")",";","iV","+=","EQ","*","ED","(","O",",","u_quatsb","[","EP","]",",","u_quatsa","[","EP","]",",","u_transb","[","EP","]",",","u_transa","[","EP","]",",","EK",")",";"]}]}}]},{TYPE:"txt",TOKENS:["O","=","iV",";","Q","=","EN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["R","=","EL",";","S","=","EM",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","!","(","a_influence",".","y",">","0.0",")",")","{","int","ER","=","int","(","a_influence","[","0","]","-","1.0",")",";","if","(","ER",">","-","1",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","ED","(","O",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","u_transb","[","ER","]",",","u_transa","[","ER","]",",","EK",")",";","R","=","EJ","(","R",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","EK",")",";","S","=","EJ","(","S",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","EK",")",";","Q","=","EJ","(","Q",",","u_quatsb","[","ER","]",",","u_quatsa","[","ER","]",",","EK",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","ED","(","O",",","u_quatsb","[","ER","]",",","u_transb","[","ER","]",")",";","Q","=","EJ","(","Q",",","u_quatsb","[","ER","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["R","=","EJ","(","R",",","u_quatsb","[","ER","]",")",";","S","=","EJ","(","S",",","u_quatsb","[","ER","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}","}","}"]}]}}]}]}}]}]},exports["include/sky_blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKY_BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKY_BLENDING_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"blending.glslf"},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"BLENDTYPE",TOKENS:["MIX"]},{TYPE:"var",NAME:"MTEX_RGBTOINT",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_HORIZ",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENUP",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENDOWN",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_BLEND",TOKENS:["0"]},{TYPE:"var",NAME:"MTEX_NEGATIVE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","ES","(","vec3","jC",",","vec3","jD",",","float","aF",",","float","kb",")","{","float","jE","=","aF","*","kb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jF","(","jD",",","jC",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jG","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jH","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jJ","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jK","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jL","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jM","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jN","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jO","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jP","(","jC",",","jD",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","HUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jT","(","jD",",","jC",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SATURATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jU","(","jD",",","jC",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","VALUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jV","(","jD",",","jC",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","COLOR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jW","(","jD",",","jC",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jY","(","jD",",","jC",",","jE",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jZ","(","jD",",","jC",",","jE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec3","(","1.0",",","0.0",",","1.0",")",";","}","float","ET","(","float","j_",",","float","ka",",","float","aF",",","float","kb",")","{","vec3","jC","=","vec3","(","j_",")",",","jD","=","vec3","(","ka",")",";","float","jE","=","aF","*","kb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jF","(","jD",",","jC",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jG","(","jC",",","jD",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jH","(","jC",",","jD",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","kc","(","j_",",","ka",",","jE",",","kb",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","kd","(","j_",",","ka",",","jE",",","kb",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ke","(","j_",",","ka",",","jE",",","kb",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jM","(","jC",",","jD",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jN","(","jC",",","jD",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jO","(","jC",",","jD",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jP","(","jC",",","jD",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jY","(","jD",",","jC",",","jE",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jZ","(","jD",",","jC",",","jE",")",".","x",";"]}]}}]},{TYPE:"txt",TOKENS:["return","0.0",";","}","vec3","dR","(","vec3","dN",",","vec3","dO",",","vec4","dQ",",","float","dM",",","vec3","dP",")","{","float","EU","=","1.0",";","EU","=","dQ",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EU","=","fu","(","dQ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_NEGATIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dQ","=","vec4","(","vec3","(","1.0",")","-","dQ",".","rgb",",","dQ",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EU","=","1.0","-","EU",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ","WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dQ","=","vec4","(","u_sky_tex_color",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EU","=","dQ",".","a",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dN","=","ES","(","dQ",".","rgb",",","dN",",","EU",",","u_sky_tex_fac","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","EV","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","dP",",","vec3","(","0.0",",","0.0",",","1.0",")",")",">=","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EV","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","EV","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EV","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"elif",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EV","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","EV","!=","0.0",")","dO","=","ES","(","dQ",".","rgb",",","dO",",","EU",",","EV",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_BLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EU","=","dot","(","dQ",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["dM","=","ET","(","u_sky_tex_dvar",",","dM",",","EU",",","u_sky_tex_fac","[","0","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dL","=","mix","(","dN",",","dO",",","dM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dL","=","dN",";"]}]}}]},{TYPE:"txt",TOKENS:["return","dL",";","}"]}]}}]}]},exports["include/std.glsl"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"STD_ENUMS_GLSL",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"STD_ENUMS_GLSL",TOKENS:[""]},{TYPE:"var",NAME:"CONSTANTS_HACK",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_UV_ORCO",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MIX",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MULTIPLY",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_SRC_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_DST_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_DST_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_DST_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"NO_SHADOWS",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_CASTING",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_MASK_GENERATION",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_MAPPING_OPAQUE",TOKENS:["4"]},{TYPE:"define",NAME:"SHADOW_MAPPING_BLEND",TOKENS:["5"]},{TYPE:"define",NAME:"POISSON_X_16",TOKENS:["4"]},{TYPE:"define",NAME:"POISSON_X_8",TOKENS:["2"]},{TYPE:"define",NAME:"POISSON_X_4",TOKENS:["1"]},{TYPE:"define",NAME:"NO_SOFT_SHADOWS",TOKENS:["0"]},{TYPE:"define",NAME:"SPECULAR_PHONG",TOKENS:["1"]},{TYPE:"define",NAME:"SPECULAR_COOKTORR",TOKENS:["2"]},{TYPE:"define",NAME:"SPECULAR_WARDISO",TOKENS:["3"]},{TYPE:"define",NAME:"SPECULAR_BLINN",TOKENS:["4"]},{TYPE:"define",NAME:"SPECULAR_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFUSE_LAMBERT",TOKENS:["1"]},{TYPE:"define",NAME:"DIFFUSE_OREN_NAYAR",TOKENS:["2"]},{TYPE:"define",NAME:"DIFFUSE_FRESNEL",TOKENS:["3"]},{TYPE:"define",NAME:"DIFFUSE_MINNAERT",TOKENS:["4"]},{TYPE:"define",NAME:"DIFFUSE_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"MIX",TOKENS:["0"]},{TYPE:"define",NAME:"ADD",TOKENS:["1"]},{TYPE:"define",NAME:"SUBTRACT",TOKENS:["2"]},{TYPE:"define",NAME:"MULTIPLY",TOKENS:["3"]},{TYPE:"define",NAME:"SCREEN",TOKENS:["4"]},{TYPE:"define",NAME:"OVERLAY",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFERENCE",TOKENS:["6"]},{TYPE:"define",NAME:"DIVIDE",TOKENS:["7"]},{TYPE:"define",NAME:"DARKEN",TOKENS:["8"]},{TYPE:"define",NAME:"LIGHTEN",TOKENS:["9"]},{TYPE:"define",NAME:"HUE",TOKENS:["10"]},{TYPE:"define",NAME:"SATURATION",TOKENS:["11"]},{TYPE:"define",NAME:"VALUE",TOKENS:["12"]},{TYPE:"define",NAME:"COLOR",TOKENS:["13"]},{TYPE:"define",NAME:"SOFT_LIGHT",TOKENS:["14"]},{TYPE:"define",NAME:"LINEAR_LIGHT",TOKENS:["15"]},{TYPE:"define",NAME:"REFL_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_MIRRORMAP",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PLANE",TOKENS:["2"]},{TYPE:"define",NAME:"REFL_CUBE",TOKENS:["3"]},{TYPE:"define",NAME:"INVERSE_QUADRATIC",TOKENS:["0"]},{TYPE:"define",NAME:"LINEAR",TOKENS:["1"]},{TYPE:"define",NAME:"QUADRATIC",TOKENS:["2"]},{TYPE:"define",NAME:"HEMI",TOKENS:["1"]},{TYPE:"define",NAME:"SPOT",TOKENS:["2"]},{TYPE:"define",NAME:"POINT",TOKENS:["3"]},{TYPE:"define",NAME:"SUN",TOKENS:["4"]},{TYPE:"define",NAME:"DOF_SIMPLE",TOKENS:["0"]},{TYPE:"define",NAME:"DOF_BOKEH",TOKENS:["1"]},{TYPE:"define",NAME:"COC_ALL",TOKENS:["0"]},{TYPE:"define",NAME:"COC_FOREGROUND",TOKENS:["1"]},{TYPE:"define",NAME:"COC_COMBINE",TOKENS:["2"]},{TYPE:"define",NAME:"VT_WORLD_TO_WORLD",TOKENS:["0"]},{TYPE:"define",NAME:"VT_WORLD_TO_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"VT_WORLD_TO_CAMERA",TOKENS:["2"]},{TYPE:"define",NAME:"VT_OBJECT_TO_WORLD",TOKENS:["3"]},{TYPE:"define",NAME:"VT_OBJECT_TO_OBJECT",TOKENS:["4"]},{TYPE:"define",NAME:"VT_OBJECT_TO_CAMERA",TOKENS:["5"]},{TYPE:"define",NAME:"VT_CAMERA_TO_WORLD",TOKENS:["6"]},{TYPE:"define",NAME:"VT_CAMERA_TO_OBJECT",TOKENS:["7"]},{TYPE:"define",NAME:"VT_CAMERA_TO_CAMERA",TOKENS:["8"]},{TYPE:"define",NAME:"VT_POINT",TOKENS:["0"]},{TYPE:"define",NAME:"VT_VECTOR",TOKENS:["1"]},{TYPE:"define",NAME:"VT_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"NM_TANGENT",TOKENS:["0"]},{TYPE:"define",NAME:"NM_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"NM_WORLD",TOKENS:["2"]},{TYPE:"define",NAME:"NM_BLENDER_OBJECT",TOKENS:["3"]},{TYPE:"define",NAME:"NM_BLENDER_WORLD",TOKENS:["4"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_VIEW",TOKENS:["1"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_XY",TOKENS:["2"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_YZ",TOKENS:["3"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_ZX",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"POST_EFFECT_GRAYSCALE",TOKENS:["2"]},{TYPE:"define",NAME:"POST_EFFECT_BLUR",TOKENS:["3"]},{TYPE:"define",NAME:"POST_EFFECT_GLOW_BLUR",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_DOF_BLUR",TOKENS:["5"]},{TYPE:"define",NAME:"POST_EFFECT_ALPHA_BLUR",TOKENS:["6"]},{TYPE:"define",NAME:"POST_EFFECT_EXTEND",TOKENS:["7"]},{TYPE:"define",NAME:"FLIP_CUBEMAP_COORDS",TOKENS:["8"]},{TYPE:"define",NAME:"DV_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"DV_OPAQUE_WIREFRAME",TOKENS:["1"]},{TYPE:"define",NAME:"DV_TRANSPARENT_WIREFRAME",TOKENS:["2"]},{TYPE:"define",NAME:"DV_FRONT_BACK_VIEW",TOKENS:["3"]},{TYPE:"define",NAME:"DV_BOUNDINGS",TOKENS:["4"]},{TYPE:"define",NAME:"DV_CLUSTERS_VIEW",TOKENS:["5"]},{TYPE:"define",NAME:"DV_BATCHES_VIEW",TOKENS:["6"]},{TYPE:"define",NAME:"DV_RENDER_TIME",TOKENS:["7"]},{TYPE:"define",NAME:"SSAO_QUALITY_8",TOKENS:["1"]},{TYPE:"define",NAME:"SSAO_QUALITY_16",TOKENS:["2"]},{TYPE:"define",NAME:"SSAO_QUALITY_24",TOKENS:["3"]},{TYPE:"define",NAME:"SSAO_QUALITY_32",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_LIGHT",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_QUALITY",TOKENS:["2"]},{TYPE:"define",NAME:"AA_QUALITY_LOW",TOKENS:["0"]},{TYPE:"define",NAME:"AA_QUALITY_MEDIUM",TOKENS:["1"]},{TYPE:"define",NAME:"AA_QUALITY_HIGH",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_RESOLVE",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_EDGE_DETECTION",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_BLENDING_WEIGHT_CALCULATION",TOKENS:["3"]},{TYPE:"define",NAME:"SMAA_NEIGHBORHOOD_BLENDING",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_LOW",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_MEDIUM",TOKENS:["2"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_HIGH",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_ULTRA",TOKENS:["4"]},{TYPE:"define",NAME:"REFL_PASS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_PASS_PLANE",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PASS_CUBE",TOKENS:["2"]},{TYPE:"define",NAME:"SRGB_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"SRGB_SIMPLE",TOKENS:["1"]},{TYPE:"define",NAME:"SRGB_PROPER",TOKENS:["2"]},{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"define",NAME:"M_PI_4",TOKENS:["0.785398163"]},{TYPE:"define",NAME:"INV_PI",TOKENS:["0.318309886"]},{TYPE:"define",NAME:"UP_VECTOR",TOKENS:["vec3","(","0.0",",","0.0",",","1.0",")"]},{TYPE:"define",NAME:"RIGHT_VECTOR",TOKENS:["vec3","(","1.0",",","0.0",",","0.0",")"]},{TYPE:"define",NAME:"TOWARD_VECTOR",TOKENS:["vec3","(","0.0",",","-","1.0",",","0.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CONSTANTS_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","_0_0","=","0.0",";","float","_0_5","=","0.5",";","float","_1_0","=","1.0",";","float","_255_0","=","255.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"_0_0",TOKENS:["0.0"]},{TYPE:"define",NAME:"_0_5",TOKENS:["0.5"]},{TYPE:"define",NAME:"_1_0",TOKENS:["1.0"]},{TYPE:"define",NAME:"_255_0",TOKENS:["255.0"]}]}}]}]}}]}]},exports["include/to_world.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"TO_WORLD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"TO_WORLD_GLSLV",TOKENS:[""]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_SPHERICAL",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_RANDOM",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"define",NAME:"MAX_BILLBOARD_ANGLE",TOKENS:["M_PI_4"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bc","(","vec3","EW",",","mat3","N",")","{","vec4","EX","=","vec4","(","N","[","1","]","[","1","]",",","N","[","1","]","[","2","]",",","N","[","2","]","[","0","]",",","N","[","2","]","[","1","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EY","=","cM","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EY","=","cM","(","RIGHT_VECTOR",",","M_PI","/","2.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["EX","=","pT","(","EY",",","EX",")",";","EX","=","kk","(","EX",")",";","mat3","bd","=","cK","(",")",";","bd","[","0","]","=","EW",";","bd","=","cO","(","EX",",","bd",")",";","return","bd",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","E_","(","vec3","kM",",","vec3","EW",")","{","vec3","EZ","=","kM","-","EW",";","EZ",".","z","=","0.0",";","EZ","=","normalize","(","EZ",")",";","vec4","EX","=","pY","(","EZ",",","TOWARD_VECTOR",")",";","mat3","bd","=","cK","(",")",";","bd","[","0","]","=","EW",";","bd","=","cO","(","EX",",","bd",")",";","return","bd",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","aj","(","in","vec3","Fa",",","float","Fb",",","float","Fc",",","float","Fd",",","vec3","aU",",","mat3","T",")","{","float","Fe","=","fract","(","length","(","aU",")","/","0.17",")",";","float","Ff","=","Fd","+","Fe","/","10.0",";","float","Fg","=","Fe",";","if","(","Fd","!=","0.0",")","Fg","/=","Fd",";","Fa","*=","1.0","+","0.5","*","sin","(","Fb",")",";","float","Fh","=","length","(","Fa",")","*","Fc","*","sin","(","2.0","*","3.14","*","Fb","*","Ff","+","Fg",")",";","vec4","Fi","=","cM","(","TOWARD_VECTOR",",","Fh",")",";","vec4","Fj","=","vec4","(","T","[","1","]","[","1","]",",","T","[","1","]","[","2","]",",","T","[","2","]","[","0","]",",","T","[","2","]","[","1","]",")",";","Fj","=","pT","(","Fj",",","Fi",")",";","T","=","cO","(","Fj",",","T",")",";","return","T",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","ai","(","in","vec3","kM",",","in","vec3","af",",","in","mat3","N",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","la","=","bc","(","af",",","N",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BILLBOARD_RANDOM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Fe","=","fract","(","(","af",".","x","*","1.43","-","af",".","z","*","0.123","+","af",".","y","*","6.1",")",")",";","float","Fk","=","2.0","*","M_PI","*","Fe",";","vec4","Fl","=","vec4","(","N","[","1","]","[","1","]",",","N","[","1","]","[","2","]",",","N","[","2","]","[","0","]",",","N","[","2","]","[","1","]",")",";","float","Fm","=","asin","(","2.0","*","(","Fl",".","x","*","Fl",".","y","-","Fl",".","z","*","Fl",".","w",")",")",";","float","g_","=","Fm","-","Fk",";","if","(","g_","<","0.0",")","g_","=","2.0","*","M_PI","+","g_",";","float","Fn","=","Fk",";","if","(","g_","<=","MAX_BILLBOARD_ANGLE",")","Fn","+=","g_",";","else","if","(","g_","<=","M_PI","-","MAX_BILLBOARD_ANGLE",")","Fn","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","g_","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")",";","else","if","(","g_","<=","M_PI","+","MAX_BILLBOARD_ANGLE",")","Fn","+=","g_","-","M_PI",";","else","if","(","g_","<=","2.0","*","M_PI","-","MAX_BILLBOARD_ANGLE",")","Fn","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","g_","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")","+","M_PI",";","else","Fn","+=","g_","-","2.0","*","M_PI",";","vec4","Fo","=","cM","(","UP_VECTOR",",","Fn",")",";","mat3","la",";","la","[","0","]","=","af",";","la","[","1","]","[","0","]","=","1.0",";","la","=","cO","(","Fo",",","la",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","la","=","E_","(","kM",",","af",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","la",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","ah","(","in","vec3","kM",",","in","vec3","af",",","in","mat3","N",",","in","mat3","T",")","{","mat3","la","=","ai","(","kM",",","af",",","N",")",";","T","[","0","]","=","vec3","(","0.0",",","0.0",",","0.0",")",";","la","=","aS","(","la",",","T",")",";","return","la",";","}"]}]}}]},{TYPE:"txt",TOKENS:["ak","al","(","in","vec3","eH",",","in","vec3","Fp",",","in","vec3","Fq",",","in","vec3","Fr",",","in","vec3","Fs",",","in","vec3","Ft",",","in","mat3","T",")","{","eH","=","ae","(","T",",","eH",")",";","Fp","=","ae","(","T",",","Fp",")",";","Fq","=","U","(","T",",","Fq",")",";","Fr","=","U","(","T",",","Fr",")",";","Fs","=","U","(","T",",","Fs",")",";","Ft","=","U","(","T",",","Ft",")",";","return","lb","(","ak","(","eH",",","Fp",",","Fq",",","Fr",",","Fs",",","Ft",",","vec3","(","0.0",")",")",")",";","}"]}]}}]}]},exports["include/wind_bending.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"WIND_BENDING_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"WIND_BENDING_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","FG","(","inout","vec3","bi",",","in","vec3","Fu",",","in","float","Fv",",","in","float","Fw",",","in","float","eO",",","in","vec3","Fa",",","in","float","Fx",",","in","mat4","bB",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fy","=","(","bB","*","vec4","(","bi",",","1.0",")",")",".","xyz",";","vec3","Fz","=","(","bB","*","vec4","(","Fu",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fy","=","bi",";","vec3","Fz","=","Fu",";"]}]}}]},{TYPE:"txt",TOKENS:["float","dk","=","length","(","Fz",")",";","float","FA","=","Fw","*","(","1.0","+","0.1","*","fract","(","dk",")",")",";","float","FB","=","Fv","*","Fx","*","(","1.0","+","sin","(","2.0","*","3.14","*","eO","*","FA","+","dk",")",")",";","float","FC","=","(","Fy",".","z","-","Fz",".","z",")","*","abs","(","FB",")",";","FC","+=","1.0",";","FC","*=","FC",";","FC","=","FC","*","FC","-","FC",";","vec3","FD","=","Fy",";","FD",".","xy","+=","Fa",".","xy","*","FC","*","sign","(","FB",")",";","vec3","FE","=","FD","-","Fz",";","if","(","all","(","equal","(","FE",",","vec3","(","0.0",")",")",")",")","bi","=","Fu",";","else","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FE","=","(","bB","*","vec4","(","FE",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["float","FF","=","length","(","Fy","-","Fz",")",";","bi","=","Fu","+","normalize","(","FE",")","*","FF",";","}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","FH","(","vec4","x",")","{","return","x","*","x","*","(","3.0","-","2.0","*","x",")",";","}","vec4","FI","(","vec4","x",")","{","return","abs","(","fract","(","x","+","0.5",")","*","2.0","-","1.0",")",";","}","vec4","FJ","(","vec4","x",")","{","return","FH","(","FI","(","x",")",")",";","}","void","FV","(","inout","vec3","bi",",","in","float","eO",",","in","vec3","Q",",","in","vec3","Fa",",","in","vec3","Fu",",","in","float","FK",",","in","float","FL",",","in","float","FM",",","in","vec3","FN",",","in","mat4","bB",")","{","float","FO",";","float","FP",";","float","FQ",";","vec2","FR",";","vec4","FS",";","vec2","FT",";","vec3","FU",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fy","=","(","bB","*","vec4","(","bi",",","1.0",")",")",".","xyz",";","vec3","Fz","=","(","bB","*","vec4","(","Fu",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Fy","=","bi",";","vec3","Fz","=","Fu",";"]}]}}]},{TYPE:"txt",TOKENS:["FO","=","dot","(","Fz",",","vec3","(","1.0",")",")",";","FP","=","FO","+","FN",".","g",";","FQ","=","dot","(","Fy",",","vec3","(","FN",".","g",")",")",";","FR","=","(","eO","+","vec2","(","FQ",",","FP",")",")",";","FS","=","(","(","fract","(","(","FR",".","xxyy","*","vec4","(","1.975",",","0.793",",","0.375",",","0.193",")",")",")","*","2.0",")","-","1.0",")","*","length","(","Fa",")","*","FK",";","FS","=","FJ","(","FS",")",";","FT","=","FS",".","xz","+","FS",".","yw",";","FT",".","y","=","0.5","-","FT",".","y",";","FU","=","FT",".","xxy","*","FN",".","rrb","*","vec3","(","FL","*","Q",".","x",",","FL","*","Q",".","y",",","FM",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FU","=","(","bB","*","vec4","(","FU",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bi","+=","FU",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","an","(","inout","vec3","O",",","inout","vec3","ad",",","in","vec3","Q",",","in","mat4","bB",")","{","vec3","FW","=","u_wind","*","1.0","+","0.7","*","sin","(","u_time",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","FX","=","ad",";","vec3","FY","=","a_emitter_center",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FY","=","(","bB","*","vec4","(","FY",",","1.0",")",")",".","xyz",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","FX","=","O",";","vec3","FY","=","ad",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FV","(","FX",",","u_time",",","Q",",","FW",",","FY",",","au_detail_bending_freq",",","au_detail_bending_amp",",","au_branch_bending_amp",",","a_bending_col_detail",",","bB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["FG","(","FX",",","FY",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","FW",",","a_bending_col_main",",","bB",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FG","(","FX",",","FY",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","FW",",","1.0",",","bB",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","+=","FX","-","ad",";","ad","=","FX",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","FX",";","ad","=","FY",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]}}